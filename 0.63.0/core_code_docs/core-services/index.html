
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.63.0/core_code_docs/core-services/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Services - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#services" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Services
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-_hub/" class="md-nav__link">
        Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-lineage_graph/" class="md-nav__link">
        Lineage Graph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-new/" class="md-nav__link">
        New
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-post_execution/" class="md-nav__link">
        Post Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Services
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container" class="md-nav__link">
    container
  </a>
  
    <nav class="md-nav" aria-label="container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service" class="md-nav__link">
    container_service
  </a>
  
    <nav class="md-nav" aria-label="container_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService" class="md-nav__link">
    ContainerService
  </a>
  
    <nav class="md-nav" aria-label="ContainerService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.container_id" class="md-nav__link">
    container_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.docker_client" class="md-nav__link">
    docker_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceConfig" class="md-nav__link">
    ContainerServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus" class="md-nav__link">
    ContainerServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="ContainerServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint" class="md-nav__link">
    container_service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="container_service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpoint" class="md-nav__link">
    ContainerServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="ContainerServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpoint.prepare_for_start" class="md-nav__link">
    prepare_for_start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpointConfig" class="md-nav__link">
    ContainerServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpointStatus" class="md-nav__link">
    ContainerServiceEndpointStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.entrypoint" class="md-nav__link">
    entrypoint
  </a>
  
    <nav class="md-nav" aria-label="entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.entrypoint.launch_service" class="md-nav__link">
    launch_service()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_daemon_entrypoint" class="md-nav__link">
    local_daemon_entrypoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service" class="md-nav__link">
    local_service
  </a>
  
    <nav class="md-nav" aria-label="local_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService" class="md-nav__link">
    LocalDaemonService
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceConfig" class="md-nav__link">
    LocalDaemonServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus" class="md-nav__link">
    LocalDaemonServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.pid" class="md-nav__link">
    pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.pid_file" class="md-nav__link">
    pid_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint" class="md-nav__link">
    local_service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="local_service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint" class="md-nav__link">
    LocalDaemonServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint.prepare_for_start" class="md-nav__link">
    prepare_for_start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointConfig" class="md-nav__link">
    LocalDaemonServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointStatus" class="md-nav__link">
    LocalDaemonServiceEndpointStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service" class="md-nav__link">
    service
  </a>
  
    <nav class="md-nav" aria-label="service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService" class="md-nav__link">
    BaseDeploymentService
  </a>
  
    <nav class="md-nav" aria-label="BaseDeploymentService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService.healthcheck_url" class="md-nav__link">
    healthcheck_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService.prediction_url" class="md-nav__link">
    prediction_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService" class="md-nav__link">
    BaseService
  </a>
  
    <nav class="md-nav" aria-label="BaseService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_failed" class="md-nav__link">
    is_failed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_stopped" class="md-nav__link">
    is_stopped
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_healthcheck_url" class="md-nav__link">
    get_healthcheck_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_prediction_url" class="md-nav__link">
    get_prediction_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.poll_service_status" class="md-nav__link">
    poll_service_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.update_status" class="md-nav__link">
    update_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig" class="md-nav__link">
    ServiceConfig
  </a>
  
    <nav class="md-nav" aria-label="ServiceConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig.get_service_labels" class="md-nav__link">
    get_service_labels()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.update_service_status" class="md-nav__link">
    update_service_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint" class="md-nav__link">
    service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint" class="md-nav__link">
    BaseServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="BaseServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.is_active" class="md-nav__link">
    is_active()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.is_inactive" class="md-nav__link">
    is_inactive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.update_status" class="md-nav__link">
    update_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointConfig" class="md-nav__link">
    ServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointProtocol" class="md-nav__link">
    ServiceEndpointProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointStatus" class="md-nav__link">
    ServiceEndpointStatus
  </a>
  
    <nav class="md-nav" aria-label="ServiceEndpointStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointStatus.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor" class="md-nav__link">
    service_monitor
  </a>
  
    <nav class="md-nav" aria-label="service_monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor" class="md-nav__link">
    BaseServiceEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="BaseServiceEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor" class="md-nav__link">
    HTTPEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="HTTPEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor.get_healthcheck_uri" class="md-nav__link">
    get_healthcheck_uri()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitorConfig" class="md-nav__link">
    HTTPEndpointHealthMonitorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig" class="md-nav__link">
    ServiceEndpointHealthMonitorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitor" class="md-nav__link">
    TCPEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="TCPEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitorConfig" class="md-nav__link">
    TCPEndpointHealthMonitorConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status" class="md-nav__link">
    service_status
  </a>
  
    <nav class="md-nav" aria-label="service_status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceState" class="md-nav__link">
    ServiceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus" class="md-nav__link">
    ServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="ServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus.clear_error" class="md-nav__link">
    clear_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus.update_state" class="md-nav__link">
    update_state()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_type" class="md-nav__link">
    service_type
  </a>
  
    <nav class="md-nav" aria-label="service_type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_type.ServiceType" class="md-nav__link">
    ServiceType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform" class="md-nav__link">
    terraform
  </a>
  
    <nav class="md-nav" aria-label="terraform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service" class="md-nav__link">
    terraform_service
  </a>
  
    <nav class="md-nav" aria-label="terraform_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService" class="md-nav__link">
    TerraformService
  </a>
  
    <nav class="md-nav" aria-label="TerraformService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.terraform_client" class="md-nav__link">
    terraform_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.check_installation" class="md-nav__link">
    check_installation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_outputs" class="md-nav__link">
    get_outputs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_vars" class="md-nav__link">
    get_vars()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceConfig" class="md-nav__link">
    TerraformServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus" class="md-nav__link">
    TerraformServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="TerraformServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.services" class="md-nav__link">
    services
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container" class="md-nav__link">
    container
  </a>
  
    <nav class="md-nav" aria-label="container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service" class="md-nav__link">
    container_service
  </a>
  
    <nav class="md-nav" aria-label="container_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService" class="md-nav__link">
    ContainerService
  </a>
  
    <nav class="md-nav" aria-label="ContainerService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.container_id" class="md-nav__link">
    container_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.docker_client" class="md-nav__link">
    docker_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceConfig" class="md-nav__link">
    ContainerServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus" class="md-nav__link">
    ContainerServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="ContainerServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service.ContainerServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint" class="md-nav__link">
    container_service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="container_service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpoint" class="md-nav__link">
    ContainerServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="ContainerServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpoint.prepare_for_start" class="md-nav__link">
    prepare_for_start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpointConfig" class="md-nav__link">
    ContainerServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.container_service_endpoint.ContainerServiceEndpointStatus" class="md-nav__link">
    ContainerServiceEndpointStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.entrypoint" class="md-nav__link">
    entrypoint
  </a>
  
    <nav class="md-nav" aria-label="entrypoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.container.entrypoint.launch_service" class="md-nav__link">
    launch_service()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local" class="md-nav__link">
    local
  </a>
  
    <nav class="md-nav" aria-label="local">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_daemon_entrypoint" class="md-nav__link">
    local_daemon_entrypoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service" class="md-nav__link">
    local_service
  </a>
  
    <nav class="md-nav" aria-label="local_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService" class="md-nav__link">
    LocalDaemonService
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceConfig" class="md-nav__link">
    LocalDaemonServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus" class="md-nav__link">
    LocalDaemonServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.pid" class="md-nav__link">
    pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service.LocalDaemonServiceStatus.pid_file" class="md-nav__link">
    pid_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint" class="md-nav__link">
    local_service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="local_service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint" class="md-nav__link">
    LocalDaemonServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="LocalDaemonServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint.prepare_for_start" class="md-nav__link">
    prepare_for_start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointConfig" class="md-nav__link">
    LocalDaemonServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointStatus" class="md-nav__link">
    LocalDaemonServiceEndpointStatus
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service" class="md-nav__link">
    service
  </a>
  
    <nav class="md-nav" aria-label="service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService" class="md-nav__link">
    BaseDeploymentService
  </a>
  
    <nav class="md-nav" aria-label="BaseDeploymentService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService.healthcheck_url" class="md-nav__link">
    healthcheck_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseDeploymentService.prediction_url" class="md-nav__link">
    prediction_url
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService" class="md-nav__link">
    BaseService
  </a>
  
    <nav class="md-nav" aria-label="BaseService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_failed" class="md-nav__link">
    is_failed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_running" class="md-nav__link">
    is_running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.is_stopped" class="md-nav__link">
    is_stopped
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__repr__" class="md-nav__link">
    __repr__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.__str__" class="md-nav__link">
    __str__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.from_json" class="md-nav__link">
    from_json()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_healthcheck_url" class="md-nav__link">
    get_healthcheck_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_prediction_url" class="md-nav__link">
    get_prediction_url()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.get_service_status_message" class="md-nav__link">
    get_service_status_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.poll_service_status" class="md-nav__link">
    poll_service_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.update" class="md-nav__link">
    update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.BaseService.update_status" class="md-nav__link">
    update_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig" class="md-nav__link">
    ServiceConfig
  </a>
  
    <nav class="md-nav" aria-label="ServiceConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.ServiceConfig.get_service_labels" class="md-nav__link">
    get_service_labels()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service.update_service_status" class="md-nav__link">
    update_service_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint" class="md-nav__link">
    service_endpoint
  </a>
  
    <nav class="md-nav" aria-label="service_endpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint" class="md-nav__link">
    BaseServiceEndpoint
  </a>
  
    <nav class="md-nav" aria-label="BaseServiceEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.is_active" class="md-nav__link">
    is_active()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.is_inactive" class="md-nav__link">
    is_inactive()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.BaseServiceEndpoint.update_status" class="md-nav__link">
    update_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointConfig" class="md-nav__link">
    ServiceEndpointConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointProtocol" class="md-nav__link">
    ServiceEndpointProtocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointStatus" class="md-nav__link">
    ServiceEndpointStatus
  </a>
  
    <nav class="md-nav" aria-label="ServiceEndpointStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_endpoint.ServiceEndpointStatus.uri" class="md-nav__link">
    uri
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor" class="md-nav__link">
    service_monitor
  </a>
  
    <nav class="md-nav" aria-label="service_monitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor" class="md-nav__link">
    BaseServiceEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="BaseServiceEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor" class="md-nav__link">
    HTTPEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="HTTPEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitor.get_healthcheck_uri" class="md-nav__link">
    get_healthcheck_uri()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.HTTPEndpointHealthMonitorConfig" class="md-nav__link">
    HTTPEndpointHealthMonitorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig" class="md-nav__link">
    ServiceEndpointHealthMonitorConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitor" class="md-nav__link">
    TCPEndpointHealthMonitor
  </a>
  
    <nav class="md-nav" aria-label="TCPEndpointHealthMonitor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitor.check_endpoint_status" class="md-nav__link">
    check_endpoint_status()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_monitor.TCPEndpointHealthMonitorConfig" class="md-nav__link">
    TCPEndpointHealthMonitorConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status" class="md-nav__link">
    service_status
  </a>
  
    <nav class="md-nav" aria-label="service_status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceState" class="md-nav__link">
    ServiceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus" class="md-nav__link">
    ServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="ServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus.clear_error" class="md-nav__link">
    clear_error()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_status.ServiceStatus.update_state" class="md-nav__link">
    update_state()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_type" class="md-nav__link">
    service_type
  </a>
  
    <nav class="md-nav" aria-label="service_type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.service_type.ServiceType" class="md-nav__link">
    ServiceType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform" class="md-nav__link">
    terraform
  </a>
  
    <nav class="md-nav" aria-label="terraform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service" class="md-nav__link">
    terraform_service
  </a>
  
    <nav class="md-nav" aria-label="terraform_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService" class="md-nav__link">
    TerraformService
  </a>
  
    <nav class="md-nav" aria-label="TerraformService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.terraform_client" class="md-nav__link">
    terraform_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.check_installation" class="md-nav__link">
    check_installation()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.check_status" class="md-nav__link">
    check_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.deprovision" class="md-nav__link">
    deprovision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_logs" class="md-nav__link">
    get_logs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_outputs" class="md-nav__link">
    get_outputs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.get_vars" class="md-nav__link">
    get_vars()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.provision" class="md-nav__link">
    provision()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformService.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceConfig" class="md-nav__link">
    TerraformServiceConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus" class="md-nav__link">
    TerraformServiceStatus
  </a>
  
    <nav class="md-nav" aria-label="TerraformServiceStatus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus.config_file" class="md-nav__link">
    config_file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.services.terraform.terraform_service.TerraformServiceStatus.log_file" class="md-nav__link">
    log_file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-services.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="services">Services</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.services" class="doc doc-heading">
        <code>zenml.services</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization of the ZenML services module.</p>
<p>A service is a process or set of processes that outlive a pipeline run.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h3 id="zenml.services.container" class="doc doc-heading">
        <code>container</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of a containerized ZenML service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.services.container.container_service" class="doc doc-heading">
        <code>container_service</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a containerized ZenML service.</p>



  <div class="doc doc-children">















  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service.ContainerService" class="doc doc-heading">
        <code>
ContainerService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseService" href="#zenml.services.service.BaseService">BaseService</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A service represented by a containerized process.</p>
<p>This class extends the base service class with functionality concerning
the life-cycle management and tracking of external services implemented as
docker containers.</p>
<p>To define a containerized service, subclass this class and implement the
<code>run</code> method. Upon <code>start</code>, the service will spawn a container that
ends up calling the <code>run</code> method.</p>
<p>For example,</p>
<pre><code class="language-python">
from zenml.services import ServiceType, ContainerService, ContainerServiceConfig
import time

class SleepingServiceConfig(ContainerServiceConfig):

    wake_up_after: int

class SleepingService(ContainerService):

    SERVICE_TYPE = ServiceType(
        name=&quot;sleeper&quot;,
        description=&quot;Sleeping container&quot;,
        type=&quot;container&quot;,
        flavor=&quot;sleeping&quot;,
    )
    config: SleepingServiceConfig

    def run(self) -&gt; None:
        time.sleep(self.config.wake_up_after)

service = SleepingService(config=SleepingServiceConfig(wake_up_after=10))
service.start()
</code></pre>
<p>NOTE: the <code>SleepingService</code> class and its parent module have to be
discoverable as part of a ZenML <code>Integration</code>, otherwise the daemon will
fail with the following error:</p>
<pre><code>TypeError: Cannot load service with unregistered service type:
name='sleeper' type='container' flavor='sleeping' description='Sleeping container'
</code></pre>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ContainerServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>ContainerServiceStatus</code></td>
        <td><p>service status</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>Optional[zenml.services.container.container_service_endpoint.ContainerServiceEndpoint]</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A service represented by a containerized process.</span>

<span class="sd">    This class extends the base service class with functionality concerning</span>
<span class="sd">    the life-cycle management and tracking of external services implemented as</span>
<span class="sd">    docker containers.</span>

<span class="sd">    To define a containerized service, subclass this class and implement the</span>
<span class="sd">    `run` method. Upon `start`, the service will spawn a container that</span>
<span class="sd">    ends up calling the `run` method.</span>

<span class="sd">    For example,</span>

<span class="sd">    ```python</span>

<span class="sd">    from zenml.services import ServiceType, ContainerService, ContainerServiceConfig</span>
<span class="sd">    import time</span>

<span class="sd">    class SleepingServiceConfig(ContainerServiceConfig):</span>

<span class="sd">        wake_up_after: int</span>

<span class="sd">    class SleepingService(ContainerService):</span>

<span class="sd">        SERVICE_TYPE = ServiceType(</span>
<span class="sd">            name=&quot;sleeper&quot;,</span>
<span class="sd">            description=&quot;Sleeping container&quot;,</span>
<span class="sd">            type=&quot;container&quot;,</span>
<span class="sd">            flavor=&quot;sleeping&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        config: SleepingServiceConfig</span>

<span class="sd">        def run(self) -&gt; None:</span>
<span class="sd">            time.sleep(self.config.wake_up_after)</span>

<span class="sd">    service = SleepingService(config=SleepingServiceConfig(wake_up_after=10))</span>
<span class="sd">    service.start()</span>
<span class="sd">    ```</span>

<span class="sd">    NOTE: the `SleepingService` class and its parent module have to be</span>
<span class="sd">    discoverable as part of a ZenML `Integration`, otherwise the daemon will</span>
<span class="sd">    fail with the following error:</span>

<span class="sd">    ```</span>
<span class="sd">    TypeError: Cannot load service with unregistered service type:</span>
<span class="sd">    name=&#39;sleeper&#39; type=&#39;container&#39; flavor=&#39;sleeping&#39; description=&#39;Sleeping container&#39;</span>
<span class="sd">    ```</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        status: service status</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">ContainerServiceConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">ContainerServiceConfig</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ContainerServiceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">ContainerServiceStatus</span>
    <span class="p">)</span>
    <span class="c1"># TODO [ENG-705]: allow multiple endpoints per service</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ContainerServiceEndpoint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">_docker_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DockerClient</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docker_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerClient</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and/or return the docker client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docker client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">docker_utils</span><span class="o">.</span><span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the ID of the docker container for a service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the docker container for the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a message about the current operational state of the service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A message providing information about the current operational</span>
<span class="sd">            state of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Container ID: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;For more information on the service status, please see the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;following log file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the docker container.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the docker container and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error, if one is encountered).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Container</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">docker_errors</span><span class="o">.</span><span class="n">NotFound</span><span class="p">:</span>
            <span class="c1"># container doesn&#39;t exist yet or was removed</span>
            <span class="k">pass</span>

        <span class="k">if</span> <span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;Docker container is not present&quot;</span>
        <span class="k">elif</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;running&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;Docker container is running&quot;</span>
        <span class="k">elif</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;exited&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                <span class="s2">&quot;Docker container has exited.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Docker container is </span><span class="si">{</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setup_runtime_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up the runtime path for the service.</span>

<span class="sd">        This method sets up the runtime path for the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># reuse the config file and logfile location from a previous run,</span>
        <span class="c1"># if available</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">singleton</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">,</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span>
                    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-service-&quot;</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_container_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the command to run the service container.</span>

<span class="sd">        The default implementation provided by this class is the following:</span>

<span class="sd">          * this ContainerService instance and its configuration</span>
<span class="sd">          are serialized as JSON and saved to a file</span>
<span class="sd">          * the entrypoint.py script is launched as a docker container</span>
<span class="sd">          and pointed to the serialized service file</span>
<span class="sd">          * the entrypoint script re-creates the ContainerService instance</span>
<span class="sd">          from the serialized configuration, then calls the `run`</span>
<span class="sd">          method that must be implemented by the subclass</span>

<span class="sd">        Subclasses that need a different command to launch the container</span>
<span class="sd">        should override this method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Command needed to launch the docker container and the environment</span>
<span class="sd">            variables to set, in the formats accepted by subprocess.Popen.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># to avoid circular imports, import here</span>
        <span class="kn">from</span> <span class="nn">zenml.services.container</span> <span class="kn">import</span> <span class="n">entrypoint</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
        <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;python&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;--config-file&quot;</span><span class="p">,</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SERVICE_CONTAINER_PATH</span><span class="p">,</span> <span class="n">SERVICE_CONFIG_FILE_NAME</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="n">command_env</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">ENV_ZENML_SERVICE_CONTAINER</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;ZENML_&quot;</span><span class="p">):</span>
                <span class="n">command_env</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="c1"># the global configuration is mounted into the container at a</span>
        <span class="c1"># different location</span>
        <span class="n">command_env</span><span class="p">[</span><span class="n">ENV_ZENML_CONFIG_PATH</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">SERVICE_CONTAINER_GLOBAL_CONFIG_PATH</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">command</span><span class="p">,</span> <span class="n">command_env</span>

    <span class="k">def</span> <span class="nf">_get_container_volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the volumes to mount into the service container.</span>

<span class="sd">        The default implementation provided by this class mounts the</span>
<span class="sd">        following directories into the container:</span>

<span class="sd">          * the service runtime path</span>
<span class="sd">          * the global configuration directory</span>

<span class="sd">        Subclasses that need to mount additional volumes should override</span>
<span class="sd">        this method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary mapping host paths to dictionaries containing</span>
<span class="sd">            the mount options for each volume.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volumes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">volumes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;bind&quot;</span><span class="p">:</span> <span class="n">SERVICE_CONTAINER_PATH</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">volumes</span><span class="p">[</span><span class="n">get_global_config_directory</span><span class="p">()]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;bind&quot;</span><span class="p">:</span> <span class="n">SERVICE_CONTAINER_GLOBAL_CONFIG_PATH</span><span class="p">,</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;rw&quot;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">volumes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Container</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the docker container for the service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The docker container for the service, or None if the container</span>
<span class="sd">            does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">docker_errors</span><span class="o">.</span><span class="n">NotFound</span><span class="p">:</span>
            <span class="c1"># container doesn&#39;t exist yet or was removed</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_start_container</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service docker container associated with this service.&quot;&quot;&quot;</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span>

        <span class="k">if</span> <span class="n">container</span><span class="p">:</span>
            <span class="c1"># the container exists, check if it is running</span>
            <span class="k">if</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;running&quot;</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Container for service &#39;</span><span class="si">%s</span><span class="s2">&#39; is already running&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span>

            <span class="c1"># the container is stopped or in an error state, remove it</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Removing previous container for service &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">container</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting container for service &#39;</span><span class="si">%s</span><span class="s2">&#39;...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">docker_errors</span><span class="o">.</span><span class="n">ImageNotFound</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Pulling container image &#39;</span><span class="si">%s</span><span class="s2">&#39; for service &#39;</span><span class="si">%s</span><span class="s2">&#39;...&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_setup_runtime_path</span><span class="p">()</span>

        <span class="n">ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>
                <span class="n">ports</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span>

        <span class="n">command</span><span class="p">,</span> <span class="n">env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_container_cmd</span><span class="p">()</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_container_volumes</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">uid_args</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
                <span class="c1"># File permissions are not checked on Windows. This if clause</span>
                <span class="c1"># prevents mypy from complaining about unused &#39;type: ignore&#39;</span>
                <span class="c1"># statements</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Run the container in the context of the local UID/GID</span>
                <span class="c1"># to ensure that the local database can be shared</span>
                <span class="c1"># with the container.</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="s2">&quot;Setting UID and GID to local user/group &quot;</span> <span class="s2">&quot;in container.&quot;</span>
                <span class="p">)</span>
                <span class="n">uid_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getuid</span><span class="p">(),</span>
                    <span class="n">group_add</span><span class="o">=</span><span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">getgid</span><span class="p">()],</span>
                <span class="p">)</span>

            <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="p">,</span>
                <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
                <span class="n">detach</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">volumes</span><span class="o">=</span><span class="n">volumes</span><span class="p">,</span>
                <span class="n">environment</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
                <span class="n">remove</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">auto_remove</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">ports</span><span class="o">=</span><span class="n">ports</span><span class="p">,</span>
                <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
                    <span class="s2">&quot;zenml-service-uuid&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
                <span class="p">},</span>
                <span class="n">working_dir</span><span class="o">=</span><span class="n">SERVICE_CONTAINER_PATH</span><span class="p">,</span>
                <span class="n">extra_hosts</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;host.docker.internal&quot;</span><span class="p">:</span> <span class="s2">&quot;host-gateway&quot;</span><span class="p">},</span>
                <span class="o">**</span><span class="n">uid_args</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Docker container for service &#39;</span><span class="si">%s</span><span class="s2">&#39; started with ID: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">docker_errors</span><span class="o">.</span><span class="n">DockerException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Docker container for service &#39;</span><span class="si">%s</span><span class="s2">&#39; failed to start: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the service docker container associated with this service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service container will be forcefully stopped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">container</span><span class="p">:</span>
            <span class="c1"># service container is not running</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Docker container for service &#39;</span><span class="si">%s</span><span class="s2">&#39; no longer running&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Stopping container for service &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
            <span class="n">container</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
            <span class="n">container</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">container</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
            <span class="n">container</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_container</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service container will be forcefully stopped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stop_daemon</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Yields:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span>
        <span class="p">):</span>
            <span class="k">return</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tail</span><span class="p">:</span>
                <span class="c1"># TODO[ENG-864]: implement a more efficient tailing mechanism that</span>
                <span class="c1">#   doesn&#39;t read the entire file</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="o">-</span><span class="n">tail</span><span class="p">:]</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">follow</span><span class="p">:</span>
                    <span class="k">return</span>
            <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">partial_line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">partial_line</span><span class="p">:</span>
                    <span class="n">line</span> <span class="o">+=</span> <span class="n">partial_line</span>
                    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">elif</span> <span class="n">follow</span><span class="p">:</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the containerized service logic associated with this service.</span>

<span class="sd">        Subclasses must implement this method to provide the containerized</span>
<span class="sd">        service functionality. This method will be executed in the context of</span>
<span class="sd">        the running container, not in the context of the process that calls the</span>
<span class="sd">        `start` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.container.container_service.ContainerService.container" class="doc doc-heading">
<code class="highlight language-python"><span class="n">container</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">docker</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">Container</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the docker container for the service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[docker.models.containers.Container]</code></td>
      <td><p>The docker container for the service, or None if the container
does not exist.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.container.container_service.ContainerService.container_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">container_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the ID of the docker container for a service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The ID of the docker container for the service.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.container.container_service.ContainerService.docker_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and/or return the docker client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DockerClient</code></td>
      <td><p>The docker client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the docker container.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the docker container and a message
providing additional information about that state (e.g. a
description of the error, if one is encountered).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the docker container.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the docker container and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error, if one is encountered).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">container</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Container</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">docker_errors</span><span class="o">.</span><span class="n">NotFound</span><span class="p">:</span>
        <span class="c1"># container doesn&#39;t exist yet or was removed</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;Docker container is not present&quot;</span>
    <span class="k">elif</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;running&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;Docker container is running&quot;</span>
    <span class="k">elif</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;exited&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="s2">&quot;Docker container has exited.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;Docker container is </span><span class="si">{</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deprovision the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service container will be forcefully stopped</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the service container will be forcefully stopped</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_stop_daemon</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the service logs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Yields:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span>
    <span class="p">):</span>
        <span class="k">return</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tail</span><span class="p">:</span>
            <span class="c1"># TODO[ENG-864]: implement a more efficient tailing mechanism that</span>
            <span class="c1">#   doesn&#39;t read the entire file</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="o">-</span><span class="n">tail</span><span class="p">:]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">follow</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">partial_line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">partial_line</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="n">partial_line</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">elif</span> <span class="n">follow</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.get_service_status_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a message about the current operational state of the service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A message providing information about the current operational
state of the service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a message about the current operational state of the service.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A message providing information about the current operational</span>
<span class="sd">        state of the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
    <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Container ID: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container_id</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;For more information on the service status, please see the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;following log file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.model_post_init" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>This function is meant to behave like a BaseModel method to initialise private attributes.</p>
<p>It takes context as an argument since that's what pydantic-core passes when calling it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>BaseModel</code></td>
        <td><p>The BaseModel instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>__context</code></td>
        <td><code>Any</code></td>
        <td><p>The context.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">init_private_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function is meant to behave like a BaseModel method to initialise private attributes.</span>

<span class="sd">    It takes context as an argument since that&#39;s what pydantic-core passes when calling it.</span>

<span class="sd">    Args:</span>
<span class="sd">        self: The BaseModel instance.</span>
<span class="sd">        __context: The context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pydantic_private</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">private_attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">private_attr</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">PydanticUndefined</span><span class="p">:</span>
                <span class="n">pydantic_private</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
        <span class="n">object_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="n">pydantic_private</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start_container</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service.ContainerService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Run the containerized service logic associated with this service.</p>
<p>Subclasses must implement this method to provide the containerized
service functionality. This method will be executed in the context of
the running container, not in the context of the process that calls the
<code>start</code> method.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the containerized service logic associated with this service.</span>

<span class="sd">    Subclasses must implement this method to provide the containerized</span>
<span class="sd">    service functionality. This method will be executed in the context of</span>
<span class="sd">    the running container, not in the context of the process that calls the</span>
<span class="sd">    `start` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service.ContainerServiceConfig" class="doc doc-heading">
        <code>
ContainerServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service.ServiceConfig" href="#zenml.services.service.ServiceConfig">ServiceConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>containerized service configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>root_runtime_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the root path where the service stores its files.</p></td>
      </tr>
      <tr>
        <td><code>singleton</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to store the service files directly in the
<code>root_runtime_path</code> directory instead of creating a subdirectory for
each service instance. Only has effect if the <code>root_runtime_path</code> is
also set.</p></td>
      </tr>
      <tr>
        <td><code>image</code></td>
        <td><code>str</code></td>
        <td><p>the container image to use for the service.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServiceConfig</span><span class="p">(</span><span class="n">ServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;containerized service configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        root_runtime_path: the root path where the service stores its files.</span>
<span class="sd">        singleton: set to True to store the service files directly in the</span>
<span class="sd">            `root_runtime_path` directory instead of creating a subdirectory for</span>
<span class="sd">            each service instance. Only has effect if the `root_runtime_path` is</span>
<span class="sd">            also set.</span>
<span class="sd">        image: the container image to use for the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">root_runtime_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">singleton</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DOCKER_ZENML_SERVER_DEFAULT_IMAGE</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service.ContainerServiceStatus" class="doc doc-heading">
        <code>
ContainerServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>containerized service status.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runtime_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the path where the service files (e.g. the configuration
file used to start the service daemon and the logfile) are located</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServiceStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;containerized service status.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        runtime_path: the path where the service files (e.g. the configuration</span>
<span class="sd">            file used to start the service daemon and the logfile) are located</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">runtime_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the service configuration file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the configuration file, or None, if the</span>
<span class="sd">            service has never been started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_CONFIG_FILE_NAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the log file where the service output is/has been logged.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the log file, or None, if the service has never been</span>
<span class="sd">            started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_LOG_FILE_NAME</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.container.container_service.ContainerServiceStatus.config_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the service configuration file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the configuration file, or None, if the
service has never been started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.container.container_service.ContainerServiceStatus.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the log file where the service output is/has been logged.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the log file, or None, if the service has never been
started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.services.container.container_service_endpoint" class="doc doc-heading">
        <code>container_service_endpoint</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a containerized service endpoint.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service_endpoint.ContainerServiceEndpoint" class="doc doc-heading">
        <code>
ContainerServiceEndpoint            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.BaseServiceEndpoint" href="#zenml.services.service_endpoint.BaseServiceEndpoint">BaseServiceEndpoint</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A service endpoint exposed by a containerized process.</p>
<p>This class extends the base service endpoint class with functionality
concerning the life-cycle management and tracking of endpoints exposed
by external services implemented as containerized processes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ContainerServiceEndpointConfig</code></td>
        <td><p>service endpoint configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>ContainerServiceEndpointStatus</code></td>
        <td><p>service endpoint status</p></td>
      </tr>
      <tr>
        <td><code>monitor</code></td>
        <td><code>Union[zenml.services.service_monitor.HTTPEndpointHealthMonitor, zenml.services.service_monitor.TCPEndpointHealthMonitor]</code></td>
        <td><p>optional service endpoint health monitor</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServiceEndpoint</span><span class="p">(</span><span class="n">BaseServiceEndpoint</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A service endpoint exposed by a containerized process.</span>

<span class="sd">    This class extends the base service endpoint class with functionality</span>
<span class="sd">    concerning the life-cycle management and tracking of endpoints exposed</span>
<span class="sd">    by external services implemented as containerized processes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service endpoint configuration</span>
<span class="sd">        status: service endpoint status</span>
<span class="sd">        monitor: optional service endpoint health monitor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">ContainerServiceEndpointConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">ContainerServiceEndpointConfig</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ContainerServiceEndpointStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">ContainerServiceEndpointStatus</span>
    <span class="p">)</span>
    <span class="n">monitor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Union</span><span class="p">[</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">,</span> <span class="n">TCPEndpointHealthMonitor</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;left_to_right&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_lookup_free_port</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for a free TCP port for the service endpoint.</span>

<span class="sd">        If a preferred TCP port value is explicitly requested through the</span>
<span class="sd">        endpoint configuration, it will be checked first. If a port was</span>
<span class="sd">        previously used the last time the service was running (i.e. as</span>
<span class="sd">        indicated in the service endpoint status), it will be checked next for</span>
<span class="sd">        availability.</span>

<span class="sd">        As a last resort, this call will search for a free TCP port, if</span>
<span class="sd">        `allocate_port` is set to True in the endpoint configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An available TCP port number</span>

<span class="sd">        Raises:</span>
<span class="sd">            IOError: if the preferred TCP port is busy and `allocate_port` is</span>
<span class="sd">                disabled in the endpoint configuration, or if no free TCP port</span>
<span class="sd">                could be otherwise allocated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If a port value is explicitly configured, attempt to use it first</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">allocate_port</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TCP port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> is not available.&quot;</span><span class="p">)</span>

        <span class="c1"># Attempt to reuse the port used when the services was last running</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="ow">and</span> <span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span>

        <span class="n">port</span> <span class="o">=</span> <span class="n">scan_for_available_port</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">port</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;No free TCP ports found&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prepare the service endpoint for starting.</span>

<span class="sd">        This method is called before the service is started.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">protocol</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_free_port</span><span class="p">()</span>
        <span class="c1"># Container endpoints are always exposed on the local host</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.services.container.container_service_endpoint.ContainerServiceEndpoint.prepare_for_start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Prepare the service endpoint for starting.</p>
<p>This method is called before the service is started.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepare the service endpoint for starting.</span>

<span class="sd">    This method is called before the service is started.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">protocol</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_free_port</span><span class="p">()</span>
    <span class="c1"># Container endpoints are always exposed on the local host</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service_endpoint.ContainerServiceEndpointConfig" class="doc doc-heading">
        <code>
ContainerServiceEndpointConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.ServiceEndpointConfig" href="#zenml.services.service_endpoint.ServiceEndpointConfig">ServiceEndpointConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service endpoint configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>protocol</code></td>
        <td><code>ServiceEndpointProtocol</code></td>
        <td><p>the TCP protocol implemented by the service endpoint</p></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>preferred TCP port value for the service endpoint. If the port
is in use when the service is started, setting <code>allocate_port</code> to
True will also try to allocate a new port value, otherwise an
exception will be raised.</p></td>
      </tr>
      <tr>
        <td><code>allocate_port</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to allocate a free TCP port for the
service endpoint automatically.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServiceEndpointConfig</span><span class="p">(</span><span class="n">ServiceEndpointConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service endpoint configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        protocol: the TCP protocol implemented by the service endpoint</span>
<span class="sd">        port: preferred TCP port value for the service endpoint. If the port</span>
<span class="sd">            is in use when the service is started, setting `allocate_port` to</span>
<span class="sd">            True will also try to allocate a new port value, otherwise an</span>
<span class="sd">            exception will be raised.</span>
<span class="sd">        allocate_port: set to True to allocate a free TCP port for the</span>
<span class="sd">            service endpoint automatically.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">protocol</span><span class="p">:</span> <span class="n">ServiceEndpointProtocol</span> <span class="o">=</span> <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">TCP</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">allocate_port</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.container.container_service_endpoint.ContainerServiceEndpointStatus" class="doc doc-heading">
        <code>
ContainerServiceEndpointStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.ServiceEndpointStatus" href="#zenml.services.service_endpoint.ServiceEndpointStatus">ServiceEndpointStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service endpoint status.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/container/container_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServiceEndpointStatus</span><span class="p">(</span><span class="n">ServiceEndpointStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service endpoint status.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.services.container.entrypoint" class="doc doc-heading">
        <code>entrypoint</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a containerized service entrypoint.</p>
<p>This executable file is utilized as an entrypoint for all ZenML services
that are implemented as locally running docker containers.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h5 id="zenml.services.container.entrypoint.launch_service" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch_service</span><span class="p">(</span><span class="n">service_config_file</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Instantiate and launch a ZenML local service from its configuration file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_config_file</code></td>
        <td><code>str</code></td>
        <td><p>the path to the service configuration file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>if the service configuration file is the wrong type.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/container/entrypoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">launch_service</span><span class="p">(</span><span class="n">service_config_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Instantiate and launch a ZenML local service from its configuration file.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_config_file: the path to the service configuration file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: if the service configuration file is the wrong type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># doing zenml imports here to avoid polluting the stdout/stderr</span>
    <span class="c1"># with messages before daemonization is complete</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.registry</span> <span class="kn">import</span> <span class="n">integration_registry</span>
    <span class="kn">from</span> <span class="nn">zenml.logger</span> <span class="kn">import</span> <span class="n">get_logger</span>
    <span class="kn">from</span> <span class="nn">zenml.services</span> <span class="kn">import</span> <span class="n">ContainerService</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Loading service configuration from </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">service_config_file</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">service_config_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">integration_registry</span><span class="o">.</span><span class="n">activate_integrations</span><span class="p">()</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Running containerized service with configuration:</span><span class="se">\n</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">config</span>
    <span class="p">)</span>
    <span class="n">service</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;ContainerService&quot;</span><span class="p">,</span> <span class="n">ContainerService</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">config</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">service</span><span class="p">,</span> <span class="n">ContainerService</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Expected service type ContainerService but got &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">service</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead&quot;</span>
        <span class="p">)</span>
    <span class="n">service</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.local" class="doc doc-heading">
        <code>local</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of a local ZenML service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.services.local.local_daemon_entrypoint" class="doc doc-heading">
        <code>local_daemon_entrypoint</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a local daemon entrypoint.</p>
<p>This executable file is utilized as an entrypoint for all ZenML services
that are implemented as locally running daemon processes.</p>


    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.services.local.local_service" class="doc doc-heading">
        <code>local_service</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a local ZenML service.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service.LocalDaemonService" class="doc doc-heading">
        <code>
LocalDaemonService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseService" href="#zenml.services.service.BaseService">BaseService</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A service represented by a local daemon process.</p>
<p>This class extends the base service class with functionality concerning
the life-cycle management and tracking of external services implemented as
local daemon processes.</p>
<p>To define a local daemon service, subclass this class and implement the
<code>run</code> method. Upon <code>start</code>, the service will spawn a daemon process that
ends up calling the <code>run</code> method.</p>
<p>For example,</p>
<pre><code class="language-python">
from zenml.services import ServiceType, LocalDaemonService, LocalDaemonServiceConfig
import time

class SleepingDaemonConfig(LocalDaemonServiceConfig):

    wake_up_after: int

class SleepingDaemon(LocalDaemonService):

    SERVICE_TYPE = ServiceType(
        name=&quot;sleeper&quot;,
        description=&quot;Sleeping daemon&quot;,
        type=&quot;daemon&quot;,
        flavor=&quot;sleeping&quot;,
    )
    config: SleepingDaemonConfig

    def run(self) -&gt; None:
        time.sleep(self.config.wake_up_after)

daemon = SleepingDaemon(config=SleepingDaemonConfig(wake_up_after=10))
daemon.start()
</code></pre>
<p>NOTE: the <code>SleepingDaemon</code> class and its parent module have to be
discoverable as part of a ZenML <code>Integration</code>, otherwise the daemon will
fail with the following error:</p>
<pre><code>TypeError: Cannot load service with unregistered service type:
name='sleeper' type='daemon' flavor='sleeping' description='Sleeping daemon'
</code></pre>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>LocalDaemonServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>LocalDaemonServiceStatus</code></td>
        <td><p>service status</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>Optional[zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint]</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A service represented by a local daemon process.</span>

<span class="sd">    This class extends the base service class with functionality concerning</span>
<span class="sd">    the life-cycle management and tracking of external services implemented as</span>
<span class="sd">    local daemon processes.</span>

<span class="sd">    To define a local daemon service, subclass this class and implement the</span>
<span class="sd">    `run` method. Upon `start`, the service will spawn a daemon process that</span>
<span class="sd">    ends up calling the `run` method.</span>

<span class="sd">    For example,</span>

<span class="sd">    ```python</span>

<span class="sd">    from zenml.services import ServiceType, LocalDaemonService, LocalDaemonServiceConfig</span>
<span class="sd">    import time</span>

<span class="sd">    class SleepingDaemonConfig(LocalDaemonServiceConfig):</span>

<span class="sd">        wake_up_after: int</span>

<span class="sd">    class SleepingDaemon(LocalDaemonService):</span>

<span class="sd">        SERVICE_TYPE = ServiceType(</span>
<span class="sd">            name=&quot;sleeper&quot;,</span>
<span class="sd">            description=&quot;Sleeping daemon&quot;,</span>
<span class="sd">            type=&quot;daemon&quot;,</span>
<span class="sd">            flavor=&quot;sleeping&quot;,</span>
<span class="sd">        )</span>
<span class="sd">        config: SleepingDaemonConfig</span>

<span class="sd">        def run(self) -&gt; None:</span>
<span class="sd">            time.sleep(self.config.wake_up_after)</span>

<span class="sd">    daemon = SleepingDaemon(config=SleepingDaemonConfig(wake_up_after=10))</span>
<span class="sd">    daemon.start()</span>
<span class="sd">    ```</span>

<span class="sd">    NOTE: the `SleepingDaemon` class and its parent module have to be</span>
<span class="sd">    discoverable as part of a ZenML `Integration`, otherwise the daemon will</span>
<span class="sd">    fail with the following error:</span>

<span class="sd">    ```</span>
<span class="sd">    TypeError: Cannot load service with unregistered service type:</span>
<span class="sd">    name=&#39;sleeper&#39; type=&#39;daemon&#39; flavor=&#39;sleeping&#39; description=&#39;Sleeping daemon&#39;</span>
<span class="sd">    ```</span>


<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        status: service status</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">LocalDaemonServiceConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">LocalDaemonServiceConfig</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">LocalDaemonServiceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">LocalDaemonServiceStatus</span>
    <span class="p">)</span>
    <span class="c1"># TODO [ENG-705]: allow multiple endpoints per service</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LocalDaemonServiceEndpoint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a message about the current operational state of the service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A message providing information about the current operational</span>
<span class="sd">            state of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Daemon PID: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;For more information on the service status, please see the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;following log file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the daemon process.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the daemon process and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error, if one is encountered).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;service daemon is not running&quot;</span>

        <span class="c1"># the daemon is running</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_daemon_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the command to run the service daemon.</span>

<span class="sd">        The default implementation provided by this class is the following:</span>

<span class="sd">          * this LocalDaemonService instance and its configuration</span>
<span class="sd">          are serialized as JSON and saved to a temporary file</span>
<span class="sd">          * the local_daemon_entrypoint.py script is launched as a subprocess</span>
<span class="sd">          and pointed to the serialized service file</span>
<span class="sd">          * the entrypoint script re-creates the LocalDaemonService instance</span>
<span class="sd">          from the serialized configuration, reconfigures itself as a daemon</span>
<span class="sd">          and detaches itself from the parent process, then calls the `run`</span>
<span class="sd">          method that must be implemented by the subclass</span>

<span class="sd">        Subclasses that need a different command to launch the service daemon</span>
<span class="sd">        should override this method.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Command needed to launch the daemon process and the environment</span>
<span class="sd">            variables to set, in the formats accepted by subprocess.Popen.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># to avoid circular imports, import here</span>
        <span class="kn">import</span> <span class="nn">zenml.services.local.local_daemon_entrypoint</span> <span class="k">as</span> <span class="nn">daemon_entrypoint</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">silent_daemon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">silent_daemon</span>
        <span class="c1"># reuse the config file and logfile location from a previous run,</span>
        <span class="c1"># if available</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">singleton</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">,</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span>
                    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-service-&quot;</span>
                <span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

        <span class="c1"># delete the previous PID file, in case a previous daemon process</span>
        <span class="c1"># crashed and left a stale PID file</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid_file</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid_file</span><span class="p">)</span>

        <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span>
            <span class="s2">&quot;-m&quot;</span><span class="p">,</span>
            <span class="n">daemon_entrypoint</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="s2">&quot;--config-file&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span>
            <span class="s2">&quot;--pid-file&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid_file</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">:</span>
            <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">)</span><span class="o">.</span><span class="n">touch</span><span class="p">()</span>
            <span class="n">command</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;--log-file&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">]</span>

        <span class="n">command_env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">command</span><span class="p">,</span> <span class="n">command_env</span>

    <span class="k">def</span> <span class="nf">_start_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service daemon process associated with this service.&quot;&quot;&quot;</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="c1"># service daemon is already running</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Daemon process for service &#39;</span><span class="si">%s</span><span class="s2">&#39; is already running with PID </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">pid</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Starting daemon for service &#39;</span><span class="si">%s</span><span class="s2">&#39;...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">prepare_for_start</span><span class="p">()</span>

        <span class="n">command</span><span class="p">,</span> <span class="n">command_env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_daemon_cmd</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Running command to start daemon for service &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">env</span><span class="o">=</span><span class="n">command_env</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span>
        <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Daemon process for service &#39;</span><span class="si">%s</span><span class="s2">&#39; started with PID: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">pid</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Daemon process for service &#39;</span><span class="si">%s</span><span class="s2">&#39; failed to start.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_stop_daemon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the service daemon process associated with this service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service daemon will be forcefully stopped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span><span class="p">:</span>
            <span class="c1"># service daemon is not running</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Daemon process for service &#39;</span><span class="si">%s</span><span class="s2">&#39; no longer running&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Stopping daemon for service &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Error</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="s2">&quot;Could not find process for for service &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span> <span class="bp">self</span>
            <span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p</span><span class="o">.</span><span class="n">terminate</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_daemon</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service daemon will be forcefully stopped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stop_daemon</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to become active.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">blocking</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Yields:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span>
        <span class="p">):</span>
            <span class="k">return</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tail</span><span class="p">:</span>
                <span class="c1"># TODO[ENG-864]: implement a more efficient tailing mechanism that</span>
                <span class="c1">#   doesn&#39;t read the entire file</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="o">-</span><span class="n">tail</span><span class="p">:]</span>
                <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">follow</span><span class="p">:</span>
                    <span class="k">return</span>
            <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">partial_line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">partial_line</span><span class="p">:</span>
                    <span class="n">line</span> <span class="o">+=</span> <span class="n">partial_line</span>
                    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                        <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">elif</span> <span class="n">follow</span><span class="p">:</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">break</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the service daemon process associated with this service.</span>

<span class="sd">        Subclasses must implement this method to provide the service daemon</span>
<span class="sd">        functionality. This method will be executed in the context of the</span>
<span class="sd">        running daemon, not in the context of the process that calls the</span>
<span class="sd">        `start` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the daemon process.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the daemon process and a message
providing additional information about that state (e.g. a
description of the error, if one is encountered).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the daemon process.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the daemon process and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error, if one is encountered).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span> <span class="s2">&quot;service daemon is not running&quot;</span>

    <span class="c1"># the daemon is running</span>
    <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deprovision the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service daemon will be forcefully stopped</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the service daemon will be forcefully stopped</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_stop_daemon</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the service logs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Yields:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span>
    <span class="p">):</span>
        <span class="k">return</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">tail</span><span class="p">:</span>
            <span class="c1"># TODO[ENG-864]: implement a more efficient tailing mechanism that</span>
            <span class="c1">#   doesn&#39;t read the entire file</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()[</span><span class="o">-</span><span class="n">tail</span><span class="p">:]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">follow</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">partial_line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">partial_line</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">+=</span> <span class="n">partial_line</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">stop</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">stop</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">elif</span> <span class="n">follow</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.get_service_status_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get a message about the current operational state of the service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A message providing information about the current operational
state of the service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a message about the current operational state of the service.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A message providing information about the current operational</span>
<span class="sd">        state of the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
    <span class="n">pid</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span>
    <span class="k">if</span> <span class="n">pid</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;  Daemon PID: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">+=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;For more information on the service status, please see the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;following log file: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">log_file</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start_daemon</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Run the service daemon process associated with this service.</p>
<p>Subclasses must implement this method to provide the service daemon
functionality. This method will be executed in the context of the
running daemon, not in the context of the process that calls the
<code>start</code> method.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the service daemon process associated with this service.</span>

<span class="sd">    Subclasses must implement this method to provide the service daemon</span>
<span class="sd">    functionality. This method will be executed in the context of the</span>
<span class="sd">    running daemon, not in the context of the process that calls the</span>
<span class="sd">    `start` method.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service.LocalDaemonService.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Start the service and optionally wait for it to become active.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to become active.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to become active.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">blocking</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service.LocalDaemonServiceConfig" class="doc doc-heading">
        <code>
LocalDaemonServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service.ServiceConfig" href="#zenml.services.service.ServiceConfig">ServiceConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>silent_daemon</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to suppress the output of the daemon
(i.e. redirect stdout and stderr to /dev/null). If False, the
daemon output will be redirected to a logfile.</p></td>
      </tr>
      <tr>
        <td><code>root_runtime_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the root path where the service daemon will store
service configuration files</p></td>
      </tr>
      <tr>
        <td><code>singleton</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to store the service daemon configuration files
directly in the <code>root_runtime_path</code> directory instead of creating
a subdirectory for each service instance. Only has effect if the
<code>root_runtime_path</code> is also set.</p></td>
      </tr>
      <tr>
        <td><code>blocking</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to run the service the context of the current
process and block until the service is stopped instead of running
the service as a daemon process. Useful for operating systems
that do not support daemon processes.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonServiceConfig</span><span class="p">(</span><span class="n">ServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        silent_daemon: set to True to suppress the output of the daemon</span>
<span class="sd">            (i.e. redirect stdout and stderr to /dev/null). If False, the</span>
<span class="sd">            daemon output will be redirected to a logfile.</span>
<span class="sd">        root_runtime_path: the root path where the service daemon will store</span>
<span class="sd">            service configuration files</span>
<span class="sd">        singleton: set to True to store the service daemon configuration files</span>
<span class="sd">            directly in the `root_runtime_path` directory instead of creating</span>
<span class="sd">            a subdirectory for each service instance. Only has effect if the</span>
<span class="sd">            `root_runtime_path` is also set.</span>
<span class="sd">        blocking: set to True to run the service the context of the current</span>
<span class="sd">            process and block until the service is stopped instead of running</span>
<span class="sd">            the service as a daemon process. Useful for operating systems</span>
<span class="sd">            that do not support daemon processes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">silent_daemon</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">root_runtime_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">singleton</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">blocking</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service.LocalDaemonServiceStatus" class="doc doc-heading">
        <code>
LocalDaemonServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service status.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runtime_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the path where the service daemon runtime files (the
configuration file used to start the service daemon and the
logfile) are located</p></td>
      </tr>
      <tr>
        <td><code>silent_daemon</code></td>
        <td><code>bool</code></td>
        <td><p>flag indicating whether the output of the daemon
is suppressed (redirected to /dev/null).</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonServiceStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service status.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        runtime_path: the path where the service daemon runtime files (the</span>
<span class="sd">            configuration file used to start the service daemon and the</span>
<span class="sd">            logfile) are located</span>
<span class="sd">        silent_daemon: flag indicating whether the output of the daemon</span>
<span class="sd">            is suppressed (redirected to /dev/null).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">runtime_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># TODO [ENG-704]: remove field duplication between XServiceStatus and</span>
    <span class="c1">#   XServiceConfig (e.g. keep a private reference to the config in the</span>
    <span class="c1">#   status)</span>
    <span class="n">silent_daemon</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the configuration file used to start the service daemon.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the configuration file, or None, if the</span>
<span class="sd">            service has never been started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_DAEMON_CONFIG_FILE_NAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the log file where the service output is/has been logged.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the log file, or None, if the service has never been</span>
<span class="sd">            started before, or if the service daemon output is suppressed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">silent_daemon</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_DAEMON_LOG_FILE_NAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pid_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to a daemon PID file.</span>

<span class="sd">        This is where the last known PID of the daemon process is stored.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the PID file, or None, if the service has never been</span>
<span class="sd">            started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">silent_daemon</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_DAEMON_PID_FILE_NAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">pid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the PID of the currently running daemon.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The PID of the daemon, or None, if the service has never been</span>
<span class="sd">            started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pid_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pid_file</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pid_file</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Daemon functionality is currently not supported on Windows.&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">zenml.services.local.local_daemon_entrypoint</span> <span class="k">as</span> <span class="nn">daemon_entrypoint</span>
            <span class="kn">from</span> <span class="nn">zenml.utils.daemon</span> <span class="kn">import</span> <span class="n">get_daemon_pid_if_running</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Checking PID file </span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

            <span class="n">pid</span> <span class="o">=</span> <span class="n">get_daemon_pid_if_running</span><span class="p">(</span><span class="n">pid_file</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">pid</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Process with PID file </span><span class="si">{</span><span class="n">pid_file</span><span class="si">}</span><span class="s2"> is no longer running.&quot;</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>

            <span class="c1"># let&#39;s be extra careful here and check that the PID really</span>
            <span class="c1"># belongs to a process that is a local ZenML daemon.</span>
            <span class="c1"># this avoids the situation where a PID file is left over from</span>
            <span class="c1"># a previous daemon run, but another process is using the same</span>
            <span class="c1"># PID.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span>
                <span class="n">cmd_line</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">cmdline</span><span class="p">()</span>

                <span class="c1"># Empty cmd_line implies no process</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">cmd_line</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Process with PID </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2"> not found!&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">None</span>

                <span class="n">config_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_file</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="ow">and</span> <span class="p">(</span>
                        <span class="n">daemon_entrypoint</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmd_line</span>
                        <span class="ow">or</span> <span class="n">config_file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmd_line</span>
                    <span class="p">)</span>
                    <span class="ow">and</span> <span class="p">(</span>
                        <span class="n">daemon_entrypoint</span><span class="o">.</span><span class="vm">__name__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmd_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="ow">or</span> <span class="n">config_file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cmd_line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Process with PID </span><span class="si">{</span><span class="n">pid</span><span class="si">}</span><span class="s2"> is not a ZenML local daemon &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;service.&quot;</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">pid</span>
            <span class="k">except</span> <span class="n">NoSuchProcess</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.local.local_service.LocalDaemonServiceStatus.config_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the configuration file used to start the service daemon.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the configuration file, or None, if the
service has never been started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.local.local_service.LocalDaemonServiceStatus.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the log file where the service output is/has been logged.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the log file, or None, if the service has never been
started before, or if the service daemon output is suppressed.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.local.local_service.LocalDaemonServiceStatus.pid" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Return the PID of the currently running daemon.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[int]</code></td>
      <td><p>The PID of the daemon, or None, if the service has never been
started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.local.local_service.LocalDaemonServiceStatus.pid_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">pid_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to a daemon PID file.</p>
<p>This is where the last known PID of the daemon process is stored.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the PID file, or None, if the service has never been
started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.services.local.local_service_endpoint" class="doc doc-heading">
        <code>local_service_endpoint</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a local service endpoint.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint" class="doc doc-heading">
        <code>
LocalDaemonServiceEndpoint            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.BaseServiceEndpoint" href="#zenml.services.service_endpoint.BaseServiceEndpoint">BaseServiceEndpoint</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A service endpoint exposed by a local daemon process.</p>
<p>This class extends the base service endpoint class with functionality
concerning the life-cycle management and tracking of endpoints exposed
by external services implemented as local daemon processes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>LocalDaemonServiceEndpointConfig</code></td>
        <td><p>service endpoint configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>LocalDaemonServiceEndpointStatus</code></td>
        <td><p>service endpoint status</p></td>
      </tr>
      <tr>
        <td><code>monitor</code></td>
        <td><code>Union[zenml.services.service_monitor.HTTPEndpointHealthMonitor, zenml.services.service_monitor.TCPEndpointHealthMonitor]</code></td>
        <td><p>optional service endpoint health monitor</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonServiceEndpoint</span><span class="p">(</span><span class="n">BaseServiceEndpoint</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A service endpoint exposed by a local daemon process.</span>

<span class="sd">    This class extends the base service endpoint class with functionality</span>
<span class="sd">    concerning the life-cycle management and tracking of endpoints exposed</span>
<span class="sd">    by external services implemented as local daemon processes.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: service endpoint configuration</span>
<span class="sd">        status: service endpoint status</span>
<span class="sd">        monitor: optional service endpoint health monitor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">LocalDaemonServiceEndpointConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">LocalDaemonServiceEndpointConfig</span>
    <span class="p">)</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">LocalDaemonServiceEndpointStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">LocalDaemonServiceEndpointStatus</span>
    <span class="p">)</span>
    <span class="n">monitor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">Union</span><span class="p">[</span><span class="n">HTTPEndpointHealthMonitor</span><span class="p">,</span> <span class="n">TCPEndpointHealthMonitor</span><span class="p">]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">discriminator</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;left_to_right&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_lookup_free_port</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for a free TCP port for the service endpoint.</span>

<span class="sd">        If a preferred TCP port value is explicitly requested through the</span>
<span class="sd">        endpoint configuration, it will be checked first. If a port was</span>
<span class="sd">        previously used the last time the service was running (i.e. as</span>
<span class="sd">        indicated in the service endpoint status), it will be checked next for</span>
<span class="sd">        availability.</span>

<span class="sd">        As a last resort, this call will search for a free TCP port, if</span>
<span class="sd">        `allocate_port` is set to True in the endpoint configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An available TCP port number</span>

<span class="sd">        Raises:</span>
<span class="sd">            IOError: if the preferred TCP port is busy and `allocate_port` is</span>
<span class="sd">                disabled in the endpoint configuration, or if no free TCP port</span>
<span class="sd">                could be otherwise allocated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If a port value is explicitly configured, attempt to use it first</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ip_address</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">allocate_port</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TCP port </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2"> is not available.&quot;</span><span class="p">)</span>

        <span class="c1"># Attempt to reuse the port used when the services was last running</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="ow">and</span> <span class="n">port_available</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span>

        <span class="n">port</span> <span class="o">=</span> <span class="n">scan_for_available_port</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">port</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">port</span>
        <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;No free TCP ports found&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prepare the service endpoint for starting.</span>

<span class="sd">        This method is called before the service is started.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">protocol</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ip_address</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_free_port</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h6 id="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpoint.prepare_for_start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Prepare the service endpoint for starting.</p>
<p>This method is called before the service is started.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_for_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepare the service endpoint for starting.</span>

<span class="sd">    This method is called before the service is started.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">protocol</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">ip_address</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lookup_free_port</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointConfig" class="doc doc-heading">
        <code>
LocalDaemonServiceEndpointConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.ServiceEndpointConfig" href="#zenml.services.service_endpoint.ServiceEndpointConfig">ServiceEndpointConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service endpoint configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>protocol</code></td>
        <td><code>ServiceEndpointProtocol</code></td>
        <td><p>the TCP protocol implemented by the service endpoint</p></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>preferred TCP port value for the service endpoint. If the port
is in use when the service is started, setting <code>allocate_port</code> to
True will also try to allocate a new port value, otherwise an
exception will be raised.</p></td>
      </tr>
      <tr>
        <td><code>ip_address</code></td>
        <td><code>str</code></td>
        <td><p>the IP address of the service endpoint. If not set, the
default localhost IP address will be used.</p></td>
      </tr>
      <tr>
        <td><code>allocate_port</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to allocate a free TCP port for the
service endpoint automatically.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonServiceEndpointConfig</span><span class="p">(</span><span class="n">ServiceEndpointConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service endpoint configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        protocol: the TCP protocol implemented by the service endpoint</span>
<span class="sd">        port: preferred TCP port value for the service endpoint. If the port</span>
<span class="sd">            is in use when the service is started, setting `allocate_port` to</span>
<span class="sd">            True will also try to allocate a new port value, otherwise an</span>
<span class="sd">            exception will be raised.</span>
<span class="sd">        ip_address: the IP address of the service endpoint. If not set, the</span>
<span class="sd">            default localhost IP address will be used.</span>
<span class="sd">        allocate_port: set to True to allocate a free TCP port for the</span>
<span class="sd">            service endpoint automatically.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">protocol</span><span class="p">:</span> <span class="n">ServiceEndpointProtocol</span> <span class="o">=</span> <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">TCP</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ip_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span>
    <span class="n">allocate_port</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.local.local_service_endpoint.LocalDaemonServiceEndpointStatus" class="doc doc-heading">
        <code>
LocalDaemonServiceEndpointStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_endpoint.ServiceEndpointStatus" href="#zenml.services.service_endpoint.ServiceEndpointStatus">ServiceEndpointStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Local daemon service endpoint status.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/local/local_service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">LocalDaemonServiceEndpointStatus</span><span class="p">(</span><span class="n">ServiceEndpointStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Local daemon service endpoint status.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.service" class="doc doc-heading">
        <code>service</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML Service class.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service.BaseDeploymentService" class="doc doc-heading">
        <code>
BaseDeploymentService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseService" href="#zenml.services.service.BaseService">BaseService</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base class for deployment services.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseDeploymentService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for deployment services.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the prediction URL for the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the prediction URL for the endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">healthcheck_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the healthcheck URL for the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the healthcheck URL for the endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service.BaseDeploymentService.healthcheck_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">healthcheck_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Gets the healthcheck URL for the endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>the healthcheck URL for the endpoint</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service.BaseDeploymentService.prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prediction_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Gets the prediction URL for the endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>the prediction URL for the endpoint</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service.BaseService" class="doc doc-heading">
        <code>
BaseService            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base service class.</p>
<p>This class implements generic functionality concerning the life-cycle
management and tracking of an external service (e.g. process, container,
Kubernetes deployment etc.).</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>SERVICE_TYPE</code></td>
        <td><code>ClassVar[zenml.services.service_type.ServiceType]</code></td>
        <td><p>a service type descriptor with information describing
the service class. Every concrete service class must define this.</p></td>
      </tr>
      <tr>
        <td><code>admin_state</code></td>
        <td><code>ServiceState</code></td>
        <td><p>the administrative state of the service.</p></td>
      </tr>
      <tr>
        <td><code>uuid</code></td>
        <td><code>UUID</code></td>
        <td><p>unique UUID identifier for the service instance.</p></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>ServiceStatus</code></td>
        <td><p>service status</p></td>
      </tr>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>Optional[zenml.services.service_endpoint.BaseServiceEndpoint]</code></td>
        <td><p>optional service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseService</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base service class.</span>

<span class="sd">    This class implements generic functionality concerning the life-cycle</span>
<span class="sd">    management and tracking of an external service (e.g. process, container,</span>
<span class="sd">    Kubernetes deployment etc.).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        SERVICE_TYPE: a service type descriptor with information describing</span>
<span class="sd">            the service class. Every concrete service class must define this.</span>
<span class="sd">        admin_state: the administrative state of the service.</span>
<span class="sd">        uuid: unique UUID identifier for the service instance.</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        status: service status</span>
<span class="sd">        endpoint: optional service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">SERVICE_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">ServiceType</span><span class="p">]</span>

    <span class="n">uuid</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="n">admin_state</span><span class="p">:</span> <span class="n">ServiceState</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ServiceStatus</span>
    <span class="c1"># TODO [ENG-703]: allow multiple endpoints per service</span>
    <span class="n">endpoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseServiceEndpoint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the service instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            **attrs: keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;ServiceResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseService&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads a service from a model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The ServiceResponse to load from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded service object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the service source is not found in the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">service_source</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Service source not found in the model.&quot;</span><span class="p">)</span>
        <span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">service_source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseService</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">class_</span><span class="p">(</span>
            <span class="n">uuid</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">admin_state</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">admin_state</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">status</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
            <span class="n">service_type</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">service_type</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
            <span class="n">endpoint</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Loads a service from a JSON string.</span>

<span class="sd">        Args:</span>
<span class="sd">            json_str: the JSON string to load from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded service object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">service_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
        <span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">service_dict</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseService</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">class_</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">service_dict</span><span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service.</span>

<span class="sd">        This method should be overridden by subclasses that implement</span>
<span class="sd">        concrete service tracking functionality.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external service and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error if one is encountered while checking the</span>
<span class="sd">            service status).</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">        This method should be overridden by subclasses that implement</span>
<span class="sd">        concrete service tracking functionality.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A generator that can be accessed to get the service logs.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the status of the service.</span>

<span class="sd">        Check the current operational state of the external service</span>
<span class="sd">        and update the local operational status information to reflect it.</span>

<span class="sd">        This method should be overridden by subclasses that implement</span>
<span class="sd">        concrete service status tracking functionality.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Running status check for service &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">state</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_status</span><span class="p">()</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Status check results for service &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">]&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">err</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

            <span class="c1"># don&#39;t bother checking the endpoint state if the service is not active</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to update status for service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service status message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A message providing information about the current operational</span>
<span class="sd">            state of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;  Administrative state: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  Operational state: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;  Last status message: &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">poll_service_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Polls the external service status.</span>

<span class="sd">        It does this until the service operational state matches the</span>
<span class="sd">        administrative state, the service enters a failed state, or the timeout</span>
<span class="sd">        is reached.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: maximum time to wait for the service operational state</span>
<span class="sd">                to match the administrative state, in seconds</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service operational state matches the administrative</span>
<span class="sd">            state, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time_remaining</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stopped</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_failed</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">time_remaining</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">time_remaining</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Timed out waiting for service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2"> to become &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_running</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the service is currently running.</span>

<span class="sd">        This method will actively poll the external service to get its status</span>
<span class="sd">        and will return the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service is running and active (i.e. the endpoints are</span>
<span class="sd">            responsive, if any are configured), otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">is_active</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_stopped</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the service is currently stopped.</span>

<span class="sd">        This method will actively poll the external service to get its status</span>
<span class="sd">        and will return the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service is stopped, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_failed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the service is currently failed.</span>

<span class="sd">        This method will actively poll the external service to get its status</span>
<span class="sd">        and will return the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service is in a failure state, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provisions resources to run the service.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: if the service does not implement provisioning functionality</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Provisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deprovisions all resources used by the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service will be deprovisioned even if it is</span>
<span class="sd">                in a failed state.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: if the service does not implement</span>
<span class="sd">                deprovisioning functionality.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Deprovisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the service configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            config: the new service configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>

    <span class="nd">@update_service_status</span><span class="p">(</span>
        <span class="n">pre_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span>
        <span class="n">post_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to become active.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">console</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">poll_service_status</span><span class="p">(</span><span class="n">timeout</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to start service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                    <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
                <span class="p">)</span>

    <span class="nd">@update_service_status</span><span class="p">(</span>
        <span class="n">pre_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_SHUTDOWN</span><span class="p">,</span>
        <span class="n">post_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the service and optionally wait for it to shutdown.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to shutdown.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">            force: if True, the service will be stopped even if it is not</span>
<span class="sd">                currently running.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">console</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stopping service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">poll_service_status</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stopped</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to stop service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">. Last state: &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;. Last error: &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the prediction URL for the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the prediction URL for the endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prediction_url</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">BaseDeploymentService</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">:</span>
            <span class="n">prediction_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
            <span class="n">prediction_url</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">prediction_url</span>

    <span class="k">def</span> <span class="nf">get_healthcheck_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the healthcheck URL for the endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the healthcheck URL for the endpoint</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">get_healthcheck_uri</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="p">,</span> <span class="n">HTTPEndpointHealthMonitor</span><span class="p">)</span>
            <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation of the service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string representation of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">] (type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SERVICE_TYPE</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, flavor: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SERVICE_TYPE</span><span class="o">.</span><span class="n">flavor</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;String representation of the service.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string representation of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span>
        <span class="c1"># validate attribute assignments</span>
        <span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service.BaseService.is_failed" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_failed</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check if the service is currently failed.</p>
<p>This method will actively poll the external service to get its status
and will return the result.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service is in a failure state, otherwise False.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service.BaseService.is_running" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check if the service is currently running.</p>
<p>This method will actively poll the external service to get its status
and will return the result.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service is running and active (i.e. the endpoints are
responsive, if any are configured), otherwise False.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service.BaseService.is_stopped" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_stopped</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check if the service is currently stopped.</p>
<p>This method will actively poll the external service to get its status
and will return the result.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service is stopped, otherwise False.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>









  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">attrs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the service instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**attrs</code></td>
        <td><code>Any</code></td>
        <td><p>keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">**</span><span class="n">attrs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the service instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        **attrs: keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">attrs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.__repr__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>String representation of the service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A string representation of the service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;String representation of the service.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string representation of the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">[</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="si">}</span><span class="s2">] (type: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SERVICE_TYPE</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">, flavor: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">SERVICE_TYPE</span><span class="o">.</span><span class="n">flavor</span><span class="si">}</span><span class="s2">)&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.__str__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>String representation of the service.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A string representation of the service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;String representation of the service.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A string representation of the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the external service.</p>
<p>This method should be overridden by subclasses that implement
concrete service tracking functionality.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external service and a message
providing additional information about that state (e.g. a
description of the error if one is encountered while checking the
service status).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service.</span>

<span class="sd">    This method should be overridden by subclasses that implement</span>
<span class="sd">    concrete service tracking functionality.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external service and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error if one is encountered while checking the</span>
<span class="sd">        service status).</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Deprovisions all resources used by the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service will be deprovisioned even if it is
in a failed state.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>if the service does not implement
deprovisioning functionality.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deprovisions all resources used by the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the service will be deprovisioned even if it is</span>
<span class="sd">            in a failed state.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: if the service does not implement</span>
<span class="sd">            deprovisioning functionality.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Deprovisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.from_json" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Loads a service from a JSON string.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>json_str</code></td>
        <td><code>str</code></td>
        <td><p>the JSON string to load from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseTypedModel</code></td>
      <td><p>The loaded service object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseTypedModel&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads a service from a JSON string.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_str: the JSON string to load from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded service object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
    <span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">service_dict</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseService</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">class_</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">service_dict</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.from_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Loads a service from a model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>ServiceResponse</code></td>
        <td><p>The ServiceResponse to load from.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseService</code></td>
      <td><p>The loaded service object.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the service source is not found in the model.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;ServiceResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BaseService&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Loads a service from a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The ServiceResponse to load from.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded service object.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the service source is not found in the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">service_source</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Service source not found in the model.&quot;</span><span class="p">)</span>
    <span class="n">class_</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseService</span><span class="p">]</span> <span class="o">=</span> <span class="n">source_utils</span><span class="o">.</span><span class="n">load_and_validate_class</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">service_source</span><span class="p">,</span> <span class="n">expected_class</span><span class="o">=</span><span class="n">BaseService</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">class_</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">admin_state</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">admin_state</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
        <span class="n">status</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="n">service_type</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">service_type</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
        <span class="n">endpoint</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.get_healthcheck_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_healthcheck_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets the healthcheck URL for the endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>the healthcheck URL for the endpoint</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_healthcheck_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the healthcheck URL for the endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the healthcheck URL for the endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">get_healthcheck_uri</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="p">)</span>
        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">monitor</span><span class="p">,</span> <span class="n">HTTPEndpointHealthMonitor</span><span class="p">)</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Retrieve the service logs.</p>
<p>This method should be overridden by subclasses that implement
concrete service tracking functionality.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Generator[str, bool, NoneType]</code></td>
      <td><p>A generator that can be accessed to get the service logs.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">    This method should be overridden by subclasses that implement</span>
<span class="sd">    concrete service tracking functionality.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A generator that can be accessed to get the service logs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.get_prediction_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Gets the prediction URL for the endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>the prediction URL for the endpoint</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_prediction_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the prediction URL for the endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the prediction URL for the endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prediction_url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">BaseDeploymentService</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span><span class="p">:</span>
        <span class="n">prediction_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction_url</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
        <span class="n">prediction_url</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">prediction_url</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.get_service_status_message" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service status message.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>A message providing information about the current operational
state of the service.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service status message.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A message providing information about the current operational</span>
<span class="sd">        state of the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;  Administrative state: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  Operational state: `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">`</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;  Last status message: &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.poll_service_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">poll_service_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Polls the external service status.</p>
<p>It does this until the service operational state matches the
administrative state, the service enters a failed state, or the timeout
is reached.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>maximum time to wait for the service operational state
to match the administrative state, in seconds</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service operational state matches the administrative
state, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">poll_service_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Polls the external service status.</span>

<span class="sd">    It does this until the service operational state matches the</span>
<span class="sd">    administrative state, the service enters a failed state, or the timeout</span>
<span class="sd">    is reached.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: maximum time to wait for the service operational state</span>
<span class="sd">            to match the administrative state, in seconds</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the service operational state matches the administrative</span>
<span class="sd">        state, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">time_remaining</span> <span class="o">=</span> <span class="n">timeout</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_running</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stopped</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_failed</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">time_remaining</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">time_remaining</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Timed out waiting for service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2"> to become &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Provisions resources to run the service.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>if the service does not implement provisioning functionality</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provisions resources to run the service.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: if the service does not implement provisioning functionality</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Provisioning resources not implemented for </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Start the service and optionally wait for it to become active.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to become active.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@update_service_status</span><span class="p">(</span>
    <span class="n">pre_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_STARTUP</span><span class="p">,</span>
    <span class="n">post_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to become active.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">console</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">poll_service_status</span><span class="p">(</span><span class="n">timeout</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to start service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_status_message</span><span class="p">()</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.stop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Stop the service and optionally wait for it to shutdown.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to shutdown.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service will be stopped even if it is not
currently running.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@update_service_status</span><span class="p">(</span>
    <span class="n">pre_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">PENDING_SHUTDOWN</span><span class="p">,</span>
    <span class="n">post_status</span><span class="o">=</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop the service and optionally wait for it to shutdown.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to shutdown.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">        force: if True, the service will be stopped even if it is not</span>
<span class="sd">            currently running.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">console</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stopping service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">poll_service_status</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_stopped</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to stop service </span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">. Last state: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&#39;. Last error: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">last_error</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.update" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update the service configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceConfig</code></td>
        <td><p>the new service configuration.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ServiceConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the service configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        config: the new service configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.BaseService.update_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update the status of the service.</p>
<p>Check the current operational state of the external service
and update the local operational status information to reflect it.</p>
<p>This method should be overridden by subclasses that implement
concrete service status tracking functionality.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the status of the service.</span>

<span class="sd">    Check the current operational state of the external service</span>
<span class="sd">    and update the local operational status information to reflect it.</span>

<span class="sd">    This method should be overridden by subclasses that implement</span>
<span class="sd">    concrete service status tracking functionality.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Running status check for service &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">state</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_status</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Status check results for service &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">]&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">err</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

        <span class="c1"># don&#39;t bother checking the endpoint state if the service is not active</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Failed to update status for service &#39;</span><span class="si">{</span><span class="bp">self</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">exc_info</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service.ServiceConfig" class="doc doc-heading">
        <code>
ServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Generic service configuration.</p>
<p>Concrete service classes should extend this class and add additional
attributes that they want to see reflected and used in the service
configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>name for the service instance</p></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>description of the service</p></td>
      </tr>
      <tr>
        <td><code>pipeline_name</code></td>
        <td><code>str</code></td>
        <td><p>name of the pipeline that spun up the service</p></td>
      </tr>
      <tr>
        <td><code>pipeline_step_name</code></td>
        <td><code>str</code></td>
        <td><p>name of the pipeline step that spun up the service</p></td>
      </tr>
      <tr>
        <td><code>run_name</code></td>
        <td></td>
        <td><p>name of the pipeline run that spun up the service.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceConfig</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic service configuration.</span>

<span class="sd">    Concrete service classes should extend this class and add additional</span>
<span class="sd">    attributes that they want to see reflected and used in the service</span>
<span class="sd">    configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: name for the service instance</span>
<span class="sd">        description: description of the service</span>
<span class="sd">        pipeline_name: name of the pipeline that spun up the service</span>
<span class="sd">        pipeline_step_name: name of the pipeline step that spun up the service</span>
<span class="sd">        run_name: name of the pipeline run that spun up the service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">pipeline_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">pipeline_step_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">service_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="c1"># TODO: In Pydantic v2, the `model_` is a protected namespaces for all</span>
    <span class="c1">#  fields defined under base models. If not handled, this raises a warning.</span>
    <span class="c1">#  It is possible to suppress this warning message with the following</span>
    <span class="c1">#  configuration, however the ultimate solution is to rename these fields.</span>
    <span class="c1">#  Even though they do not cause any problems right now, if we are not</span>
    <span class="c1">#  careful we might overwrite some fields protected by pydantic.</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">protected_namespaces</span><span class="o">=</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the service configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            **data: keyword arguments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if neither &#39;name&#39; nor &#39;model_name&#39; is set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">service_name</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="s2">&quot;service_name&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENM_ENDPOINT_PREFIX</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either &#39;name&#39; or &#39;model_name&#39; must be set.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_service_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the service labels.</span>

<span class="sd">        Returns:</span>
<span class="sd">            a dictionary of service labels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
            <span class="n">labels</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">labels</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.ServiceConfig.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the service configuration.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**data</code></td>
        <td><code>Any</code></td>
        <td><p>keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if neither 'name' nor 'model_name' is set.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the service configuration.</span>

<span class="sd">    Args:</span>
<span class="sd">        **data: keyword arguments.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if neither &#39;name&#39; nor &#39;model_name&#39; is set.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_name</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;service_name&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ZENM_ENDPOINT_PREFIX</span><span class="si">}{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either &#39;name&#39; or &#39;model_name&#39; must be set.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service.ServiceConfig.get_service_labels" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the service labels.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>a dictionary of service labels.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the service labels.</span>

<span class="sd">    Returns:</span>
<span class="sd">        a dictionary of service labels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="n">labels</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">labels</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h4 id="zenml.services.service.update_service_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_service_status</span><span class="p">(</span><span class="n">pre_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">post_status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">error_status</span><span class="o">=&lt;</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span> <span class="s1">&#39;error&#39;</span><span class="o">&gt;</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>A decorator to update the service status before and after a method call.</p>
<p>This decorator is used to wrap service methods and update the service status
before and after the method call. If the method raises an exception, the
service status is updated to reflect the error state.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pre_status</code></td>
        <td><code>Optional[zenml.services.service_status.ServiceState]</code></td>
        <td><p>the status to update before the method call.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>post_status</code></td>
        <td><code>Optional[zenml.services.service_status.ServiceState]</code></td>
        <td><p>the status to update after the method call.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>error_status</code></td>
        <td><code>ServiceState</code></td>
        <td><p>the status to update if the method raises an exception.</p></td>
        <td><code>&lt;ServiceState.ERROR: &#39;error&#39;&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Callable[..., Any]</code></td>
      <td><p>The wrapped method with exception handling.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_service_status</span><span class="p">(</span>
    <span class="n">pre_status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">post_status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">error_status</span><span class="p">:</span> <span class="n">ServiceState</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">T</span><span class="p">],</span> <span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A decorator to update the service status before and after a method call.</span>

<span class="sd">    This decorator is used to wrap service methods and update the service status</span>
<span class="sd">    before and after the method call. If the method raises an exception, the</span>
<span class="sd">    service status is updated to reflect the error state.</span>

<span class="sd">    Args:</span>
<span class="sd">        pre_status: the status to update before the method call.</span>
<span class="sd">        post_status: the status to update after the method call.</span>
<span class="sd">        error_status: the status to update if the method raises an exception.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Callable[..., Any]: The wrapped method with exception handling.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;BaseService&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pre_status</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">pre_status</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> method...&quot;</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> method executed successfully.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">post_status</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">post_status</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">result</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Error occurred in </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> method: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">error_status</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="k">raise</span>

        <span class="k">return</span> <span class="n">wrapper</span>  <span class="c1"># type: ignore</span>

    <span class="k">return</span> <span class="n">decorator</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.service_endpoint" class="doc doc-heading">
        <code>service_endpoint</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of a ZenML service endpoint.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_endpoint.BaseServiceEndpoint" class="doc doc-heading">
        <code>
BaseServiceEndpoint            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base service class.</p>
<p>This class implements generic functionality concerning the life-cycle
management and tracking of an external service endpoint (e.g. a HTTP/HTTPS
API or generic TCP endpoint exposed by a service).</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>admin_state</code></td>
        <td><code>ServiceState</code></td>
        <td><p>the administrative state of the service endpoint</p></td>
      </tr>
      <tr>
        <td><code>config</code></td>
        <td><code>LocalDaemonServiceEndpointConfig</code></td>
        <td><p>service endpoint configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>LocalDaemonServiceEndpointStatus</code></td>
        <td><p>service endpoint status</p></td>
      </tr>
      <tr>
        <td><code>monitor</code></td>
        <td><code>Union[zenml.services.service_monitor.HTTPEndpointHealthMonitor, zenml.services.service_monitor.TCPEndpointHealthMonitor]</code></td>
        <td><p>optional service endpoint health monitor</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseServiceEndpoint</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base service class.</span>

<span class="sd">    This class implements generic functionality concerning the life-cycle</span>
<span class="sd">    management and tracking of an external service endpoint (e.g. a HTTP/HTTPS</span>
<span class="sd">    API or generic TCP endpoint exposed by a service).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        admin_state: the administrative state of the service endpoint</span>
<span class="sd">        config: service endpoint configuration</span>
<span class="sd">        status: service endpoint status</span>
<span class="sd">        monitor: optional service endpoint health monitor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">admin_state</span><span class="p">:</span> <span class="n">ServiceState</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceEndpointConfig</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ServiceEndpointStatus</span>
    <span class="c1"># TODO [ENG-701]: allow multiple monitors per endpoint</span>
    <span class="n">monitor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseServiceEndpointHealthMonitor</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the service endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: positional arguments.</span>
<span class="sd">            **kwargs: keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external service endpoint and a</span>
<span class="sd">            message providing additional information about that state</span>
<span class="sd">            (e.g. a description of the error, if one is encountered while</span>
<span class="sd">            checking the service status).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor</span><span class="p">:</span>
            <span class="c1"># no health monitor configured; assume service operational state</span>
            <span class="c1"># always matches the admin state</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">check_endpoint_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">        It updates the local operational status information accordingly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Running health check for service endpoint &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">state</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_status</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Health check results for service endpoint &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">]&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">err</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the service endpoint is active.</span>

<span class="sd">        This means that it is responsive and can receive requests). This method</span>
<span class="sd">        will use the configured health monitor to actively check the endpoint</span>
<span class="sd">        status and will return the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service endpoint is active, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>

    <span class="k">def</span> <span class="nf">is_inactive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the service endpoint is inactive.</span>

<span class="sd">        This means that it is unresponsive and cannot receive requests. This</span>
<span class="sd">        method will use the configured health monitor to actively check the</span>
<span class="sd">        endpoint status and will return the result.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the service endpoint is inactive, otherwise False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_endpoint.BaseServiceEndpoint.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the service endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>positional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the service endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args: positional arguments.</span>
<span class="sd">        **kwargs: keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_endpoint.BaseServiceEndpoint.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the external service endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external service endpoint and a
message providing additional information about that state
(e.g. a description of the error, if one is encountered while
checking the service status).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external service endpoint and a</span>
<span class="sd">        message providing additional information about that state</span>
<span class="sd">        (e.g. a description of the error, if one is encountered while</span>
<span class="sd">        checking the service status).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor</span><span class="p">:</span>
        <span class="c1"># no health monitor configured; assume service operational state</span>
        <span class="c1"># always matches the admin state</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">monitor</span><span class="o">.</span><span class="n">check_endpoint_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_endpoint.BaseServiceEndpoint.is_active" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check if the service endpoint is active.</p>
<p>This means that it is responsive and can receive requests). This method
will use the configured health monitor to actively check the endpoint
status and will return the result.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service endpoint is active, otherwise False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_active</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the service endpoint is active.</span>

<span class="sd">    This means that it is responsive and can receive requests). This method</span>
<span class="sd">    will use the configured health monitor to actively check the endpoint</span>
<span class="sd">    status and will return the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the service endpoint is active, otherwise False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_endpoint.BaseServiceEndpoint.is_inactive" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_inactive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check if the service endpoint is inactive.</p>
<p>This means that it is unresponsive and cannot receive requests. This
method will use the configured health monitor to actively check the
endpoint status and will return the result.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the service endpoint is inactive, otherwise False.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_inactive</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the service endpoint is inactive.</span>

<span class="sd">    This means that it is unresponsive and cannot receive requests. This</span>
<span class="sd">    method will use the configured health monitor to actively check the</span>
<span class="sd">    endpoint status and will return the result.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the service endpoint is inactive, otherwise False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_status</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_endpoint.BaseServiceEndpoint.update_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the external service endpoint.</p>
<p>It updates the local operational status information accordingly.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">    It updates the local operational status information accordingly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Running health check for service endpoint &#39;</span><span class="si">%s</span><span class="s2">&#39; ...&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">state</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_status</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Health check results for service endpoint &#39;</span><span class="si">%s</span><span class="s2">&#39;: </span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">]&quot;</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">err</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">update_state</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_endpoint.ServiceEndpointConfig" class="doc doc-heading">
        <code>
ServiceEndpointConfig            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Generic service endpoint configuration.</p>
<p>Concrete service classes should extend this class and add additional
attributes that they want to see reflected and use in the endpoint
configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>unique name for the service endpoint</p></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>description of the service endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceEndpointConfig</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic service endpoint configuration.</span>

<span class="sd">    Concrete service classes should extend this class and add additional</span>
<span class="sd">    attributes that they want to see reflected and use in the endpoint</span>
<span class="sd">    configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name: unique name for the service endpoint</span>
<span class="sd">        description: description of the service endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_endpoint.ServiceEndpointProtocol" class="doc doc-heading">
        <code>
ServiceEndpointProtocol            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Possible endpoint protocol values.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceEndpointProtocol</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Possible endpoint protocol values.&quot;&quot;&quot;</span>

    <span class="n">TCP</span> <span class="o">=</span> <span class="s2">&quot;tcp&quot;</span>
    <span class="n">HTTP</span> <span class="o">=</span> <span class="s2">&quot;http&quot;</span>
    <span class="n">HTTPS</span> <span class="o">=</span> <span class="s2">&quot;https&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_endpoint.ServiceEndpointStatus" class="doc doc-heading">
        <code>
ServiceEndpointStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Status information describing the operational state of a service endpoint.</p>
<p>For example, this could be a HTTP/HTTPS API or generic TCP endpoint exposed
by a service. Concrete service classes should extend this class and add
additional attributes that make up the operational state of the service
endpoint.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>protocol</code></td>
        <td><code>ServiceEndpointProtocol</code></td>
        <td><p>the TCP protocol used by the service endpoint</p></td>
      </tr>
      <tr>
        <td><code>hostname</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the hostname where the service endpoint is accessible</p></td>
      </tr>
      <tr>
        <td><code>port</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>the current TCP port where the service endpoint is accessible</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_endpoint.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceEndpointStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Status information describing the operational state of a service endpoint.</span>

<span class="sd">    For example, this could be a HTTP/HTTPS API or generic TCP endpoint exposed</span>
<span class="sd">    by a service. Concrete service classes should extend this class and add</span>
<span class="sd">    additional attributes that make up the operational state of the service</span>
<span class="sd">    endpoint.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        protocol: the TCP protocol used by the service endpoint</span>
<span class="sd">        hostname: the hostname where the service endpoint is accessible</span>
<span class="sd">        port: the current TCP port where the service endpoint is accessible</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">protocol</span><span class="p">:</span> <span class="n">ServiceEndpointProtocol</span> <span class="o">=</span> <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">TCP</span>
    <span class="n">hostname</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">port</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">uri</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the URI of the service endpoint.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The URI of the service endpoint or None, if the service endpoint</span>
<span class="sd">            operational status doesn&#39;t have the required information.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hostname</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">:</span>
            <span class="c1"># the service is not yet in a state in which the endpoint hostname</span>
            <span class="c1"># port and protocol are known</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hostname</span>
        <span class="k">if</span> <span class="n">hostname</span> <span class="o">==</span> <span class="s2">&quot;0.0.0.0&quot;</span><span class="p">:</span>  <span class="c1"># nosec</span>
            <span class="n">hostname</span> <span class="o">=</span> <span class="n">DEFAULT_LOCAL_SERVICE_IP_ADDRESS</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">://</span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.services.service_endpoint.ServiceEndpointStatus.uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">uri</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the URI of the service endpoint.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The URI of the service endpoint or None, if the service endpoint
operational status doesn't have the required information.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.service_monitor" class="doc doc-heading">
        <code>service_monitor</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of the service health monitor.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.BaseServiceEndpointHealthMonitor" class="doc doc-heading">
        <code>
BaseServiceEndpointHealthMonitor            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base class used for service endpoint health monitors.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>ServiceEndpointHealthMonitorConfig</code></td>
        <td><p>health monitor configuration for endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseServiceEndpointHealthMonitor</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class used for service endpoint health monitors.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: health monitor configuration for endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">ServiceEndpointHealthMonitorConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">ServiceEndpointHealthMonitorConfig</span>
    <span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: service endpoint to check</span>

<span class="sd">        This method should be overridden by subclasses that implement</span>
<span class="sd">        concrete service endpoint tracking functionality.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external service endpoint and an</span>
<span class="sd">            optional error message, if an error is encountered while checking</span>
<span class="sd">            the service endpoint status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_monitor.BaseServiceEndpointHealthMonitor.check_endpoint_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_endpoint_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the external service endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>BaseServiceEndpoint</code></td>
        <td><p>service endpoint to check</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>      <p>This method should be overridden by subclasses that implement
concrete service endpoint tracking functionality.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external service endpoint and an
optional error message, if an error is encountered while checking
the service endpoint status.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: service endpoint to check</span>

<span class="sd">    This method should be overridden by subclasses that implement</span>
<span class="sd">    concrete service endpoint tracking functionality.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external service endpoint and an</span>
<span class="sd">        optional error message, if an error is encountered while checking</span>
<span class="sd">        the service endpoint status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.HTTPEndpointHealthMonitor" class="doc doc-heading">
        <code>
HTTPEndpointHealthMonitor            (<a class="autorefs autorefs-internal" title="zenml.services.service_monitor.BaseServiceEndpointHealthMonitor" href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor">BaseServiceEndpointHealthMonitor</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>HTTP service endpoint health monitor.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>HTTPEndpointHealthMonitorConfig</code></td>
        <td><p>health monitor configuration for HTTP endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HTTPEndpointHealthMonitor</span><span class="p">(</span><span class="n">BaseServiceEndpointHealthMonitor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HTTP service endpoint health monitor.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: health monitor configuration for HTTP endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">HTTPEndpointHealthMonitorConfig</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">HTTPEndpointHealthMonitorConfig</span>
    <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_healthcheck_uri</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the healthcheck URI for the given service endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: service endpoint to get the healthcheck URI for</span>

<span class="sd">        Returns:</span>
<span class="sd">            The healthcheck URI for the given service endpoint or None, if</span>
<span class="sd">            the service endpoint doesn&#39;t have a healthcheck URI.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">uri</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">healthcheck_uri_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">uri</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">healthcheck_uri_path</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run a HTTP endpoint API healthcheck.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: service endpoint to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external HTTP endpoint and an</span>
<span class="sd">            optional message describing that state (e.g. an error message,</span>
<span class="sd">            if an error is encountered while checking the HTTP endpoint</span>
<span class="sd">            status).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.services.service_endpoint</span> <span class="kn">import</span> <span class="n">ServiceEndpointProtocol</span>

        <span class="k">if</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
            <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTPS</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                <span class="s2">&quot;endpoint protocol is not HTTP nor HTTPS.&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">check_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_healthcheck_uri</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">check_uri</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&quot;no HTTP healthcheck URI available&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running HTTP healthcheck for URI: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">check_uri</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">use_head_request</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span>
                    <span class="n">check_uri</span><span class="p">,</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">check_uri</span><span class="p">,</span>
                    <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_status_code</span><span class="p">:</span>
                <span class="c1"># the endpoint is healthy</span>
                <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
            <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck returned unexpected status code: </span><span class="si">{</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck connection error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">Timeout</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck request timed out: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;unexpected error encountered while running HTTP endpoint &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;healthcheck: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">error</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_monitor.HTTPEndpointHealthMonitor.check_endpoint_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_endpoint_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Run a HTTP endpoint API healthcheck.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>BaseServiceEndpoint</code></td>
        <td><p>service endpoint to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external HTTP endpoint and an
optional message describing that state (e.g. an error message,
if an error is encountered while checking the HTTP endpoint
status).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run a HTTP endpoint API healthcheck.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: service endpoint to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external HTTP endpoint and an</span>
<span class="sd">        optional message describing that state (e.g. an error message,</span>
<span class="sd">        if an error is encountered while checking the HTTP endpoint</span>
<span class="sd">        status).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.services.service_endpoint</span> <span class="kn">import</span> <span class="n">ServiceEndpointProtocol</span>

    <span class="k">if</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">protocol</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTP</span><span class="p">,</span>
        <span class="n">ServiceEndpointProtocol</span><span class="o">.</span><span class="n">HTTPS</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="s2">&quot;endpoint protocol is not HTTP nor HTTPS.&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">check_uri</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_healthcheck_uri</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">check_uri</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="s2">&quot;no HTTP healthcheck URI available&quot;</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running HTTP healthcheck for URI: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">check_uri</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">use_head_request</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span>
                <span class="n">check_uri</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">check_uri</span><span class="p">,</span>
                <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_timeout</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">http_status_code</span><span class="p">:</span>
            <span class="c1"># the endpoint is healthy</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
        <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck returned unexpected status code: </span><span class="si">{</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">ConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck connection error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">Timeout</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;HTTP endpoint healthcheck request timed out: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;unexpected error encountered while running HTTP endpoint &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;healthcheck: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="n">error</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_monitor.HTTPEndpointHealthMonitor.get_healthcheck_uri" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_healthcheck_uri</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the healthcheck URI for the given service endpoint.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>BaseServiceEndpoint</code></td>
        <td><p>service endpoint to get the healthcheck URI for</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The healthcheck URI for the given service endpoint or None, if
the service endpoint doesn't have a healthcheck URI.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_healthcheck_uri</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the healthcheck URI for the given service endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: service endpoint to get the healthcheck URI for</span>

<span class="sd">    Returns:</span>
<span class="sd">        The healthcheck URI for the given service endpoint or None, if</span>
<span class="sd">        the service endpoint doesn&#39;t have a healthcheck URI.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">uri</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">uri</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">healthcheck_uri_path</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">uri</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">healthcheck_uri_path</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.HTTPEndpointHealthMonitorConfig" class="doc doc-heading">
        <code>
HTTPEndpointHealthMonitorConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig" href="#zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig">ServiceEndpointHealthMonitorConfig</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>HTTP service endpoint health monitor configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>healthcheck_uri_path</code></td>
        <td><code>str</code></td>
        <td><p>URI subpath to use to perform service endpoint
healthchecks. If not set, the service endpoint URI will be used
instead.</p></td>
      </tr>
      <tr>
        <td><code>use_head_request</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to use a HEAD request instead of a GET
when calling the healthcheck URI.</p></td>
      </tr>
      <tr>
        <td><code>http_status_code</code></td>
        <td><code>int</code></td>
        <td><p>HTTP status code to expect in the health check
response.</p></td>
      </tr>
      <tr>
        <td><code>http_timeout</code></td>
        <td><code>int</code></td>
        <td><p>HTTP health check request timeout in seconds.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">HTTPEndpointHealthMonitorConfig</span><span class="p">(</span><span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HTTP service endpoint health monitor configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        healthcheck_uri_path: URI subpath to use to perform service endpoint</span>
<span class="sd">            healthchecks. If not set, the service endpoint URI will be used</span>
<span class="sd">            instead.</span>
<span class="sd">        use_head_request: set to True to use a HEAD request instead of a GET</span>
<span class="sd">            when calling the healthcheck URI.</span>
<span class="sd">        http_status_code: HTTP status code to expect in the health check</span>
<span class="sd">            response.</span>
<span class="sd">        http_timeout: HTTP health check request timeout in seconds.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">healthcheck_uri_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">use_head_request</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">http_status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">http_timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">DEFAULT_HTTP_HEALTHCHECK_TIMEOUT</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig" class="doc doc-heading">
        <code>
ServiceEndpointHealthMonitorConfig            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Generic service health monitor configuration.</p>
<p>Concrete service classes should extend this class and add additional
attributes that they want to see reflected and use in the health monitor
configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceEndpointHealthMonitorConfig</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generic service health monitor configuration.</span>

<span class="sd">    Concrete service classes should extend this class and add additional</span>
<span class="sd">    attributes that they want to see reflected and use in the health monitor</span>
<span class="sd">    configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.TCPEndpointHealthMonitor" class="doc doc-heading">
        <code>
TCPEndpointHealthMonitor            (<a class="autorefs autorefs-internal" title="zenml.services.service_monitor.BaseServiceEndpointHealthMonitor" href="#zenml.services.service_monitor.BaseServiceEndpointHealthMonitor">BaseServiceEndpointHealthMonitor</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>TCP service endpoint health monitor.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>TCPEndpointHealthMonitorConfig</code></td>
        <td><p>health monitor configuration for TCP endpoint</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TCPEndpointHealthMonitor</span><span class="p">(</span><span class="n">BaseServiceEndpointHealthMonitor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;TCP service endpoint health monitor.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        config: health monitor configuration for TCP endpoint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">TCPEndpointHealthMonitorConfig</span>

    <span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run a TCP endpoint healthcheck.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint: service endpoint to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external TCP endpoint and an</span>
<span class="sd">            optional message describing that state (e.g. an error message,</span>
<span class="sd">            if an error is encountered while checking the TCP endpoint</span>
<span class="sd">            status).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
                <span class="s2">&quot;TCP port and hostname values are not known&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Running TCP healthcheck for TCP port: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">port_is_open</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
            <span class="c1"># the endpoint is healthy</span>
            <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="s2">&quot;TCP endpoint healthcheck error: TCP port is not &quot;</span>
            <span class="s2">&quot;open or not accessible&quot;</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_monitor.TCPEndpointHealthMonitor.check_endpoint_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_endpoint_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Run a TCP endpoint healthcheck.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>endpoint</code></td>
        <td><code>BaseServiceEndpoint</code></td>
        <td><p>service endpoint to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external TCP endpoint and an
optional message describing that state (e.g. an error message,
if an error is encountered while checking the TCP endpoint
status).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_endpoint_status</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;BaseServiceEndpoint&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run a TCP endpoint healthcheck.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint: service endpoint to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external TCP endpoint and an</span>
<span class="sd">        optional message describing that state (e.g. an error message,</span>
<span class="sd">        if an error is encountered while checking the TCP endpoint</span>
<span class="sd">        status).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
            <span class="s2">&quot;TCP port and hostname values are not known&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="s2">&quot;Running TCP healthcheck for TCP port: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">port_is_open</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">hostname</span><span class="p">,</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">port</span><span class="p">):</span>
        <span class="c1"># the endpoint is healthy</span>
        <span class="k">return</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
        <span class="s2">&quot;TCP endpoint healthcheck error: TCP port is not &quot;</span>
        <span class="s2">&quot;open or not accessible&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_monitor.TCPEndpointHealthMonitorConfig" class="doc doc-heading">
        <code>
TCPEndpointHealthMonitorConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig" href="#zenml.services.service_monitor.ServiceEndpointHealthMonitorConfig">ServiceEndpointHealthMonitorConfig</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>TCP service endpoint health monitor configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_monitor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TCPEndpointHealthMonitorConfig</span><span class="p">(</span><span class="n">ServiceEndpointHealthMonitorConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;TCP service endpoint health monitor configuration.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.service_status" class="doc doc-heading">
        <code>service_status</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of the ServiceStatus class.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_status.ServiceState" class="doc doc-heading">
        <code>
ServiceState            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Possible states for the service and service endpoint.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_status.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceState</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Possible states for the service and service endpoint.&quot;&quot;&quot;</span>

    <span class="n">INACTIVE</span> <span class="o">=</span> <span class="s2">&quot;inactive&quot;</span>
    <span class="n">ACTIVE</span> <span class="o">=</span> <span class="s2">&quot;active&quot;</span>
    <span class="n">PENDING_STARTUP</span> <span class="o">=</span> <span class="s2">&quot;pending_startup&quot;</span>
    <span class="n">PENDING_SHUTDOWN</span> <span class="o">=</span> <span class="s2">&quot;pending_shutdown&quot;</span>
    <span class="n">ERROR</span> <span class="o">=</span> <span class="s2">&quot;error&quot;</span>
    <span class="n">SCALED_TO_ZERO</span> <span class="o">=</span> <span class="s2">&quot;scaled_to_zero&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_status.ServiceStatus" class="doc doc-heading">
        <code>
ServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.utils.typed_model.BaseTypedModel" href="../core-utils/#zenml.utils.typed_model.BaseTypedModel">BaseTypedModel</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Information about the status of a service or process.</p>
<p>This information describes the operational status of an external process or
service tracked by ZenML. This could be a process, container, Kubernetes
deployment etc.</p>
<p>Concrete service classes should extend this class and add additional
attributes that make up the operational state of the service.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>state</code></td>
        <td><code>ServiceState</code></td>
        <td><p>the current operational state</p></td>
      </tr>
      <tr>
        <td><code>last_state</code></td>
        <td><code>ServiceState</code></td>
        <td><p>the operational state prior to the last status update</p></td>
      </tr>
      <tr>
        <td><code>last_error</code></td>
        <td><code>str</code></td>
        <td><p>the error encountered during the last status update</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_status.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceStatus</span><span class="p">(</span><span class="n">BaseTypedModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Information about the status of a service or process.</span>

<span class="sd">    This information describes the operational status of an external process or</span>
<span class="sd">    service tracked by ZenML. This could be a process, container, Kubernetes</span>
<span class="sd">    deployment etc.</span>

<span class="sd">    Concrete service classes should extend this class and add additional</span>
<span class="sd">    attributes that make up the operational state of the service.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        state: the current operational state</span>
<span class="sd">        last_state: the operational state prior to the last status update</span>
<span class="sd">        last_error: the error encountered during the last status update</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">state</span><span class="p">:</span> <span class="n">ServiceState</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
    <span class="n">last_state</span><span class="p">:</span> <span class="n">ServiceState</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
    <span class="n">last_error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">update_state</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">new_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the current operational state to reflect a new state value and/or error.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_state: new operational state discovered by the last service</span>
<span class="sd">                status update</span>
<span class="sd">            error: error message describing an operational failure encountered</span>
<span class="sd">                during the last service status update</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">new_state</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">new_state</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">new_state</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_error</span> <span class="o">=</span> <span class="n">error</span>

    <span class="k">def</span> <span class="nf">clear_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Clear the last error message.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_error</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
























  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_status.ServiceStatus.clear_error" class="doc doc-heading">
<code class="highlight language-python"><span class="n">clear_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Clear the last error message.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/service_status.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clear_error</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clear the last error message.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_error</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.services.service_status.ServiceStatus.update_state" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Update the current operational state to reflect a new state value and/or error.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>new_state</code></td>
        <td><code>Optional[zenml.services.service_status.ServiceState]</code></td>
        <td><p>new operational state discovered by the last service
status update</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>error</code></td>
        <td><code>str</code></td>
        <td><p>error message describing an operational failure encountered
during the last service status update</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_status.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update_state</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">new_state</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the current operational state to reflect a new state value and/or error.</span>

<span class="sd">    Args:</span>
<span class="sd">        new_state: new operational state discovered by the last service</span>
<span class="sd">            status update</span>
<span class="sd">        error: error message describing an operational failure encountered</span>
<span class="sd">            during the last service status update</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">new_state</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">new_state</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">new_state</span>
    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_error</span> <span class="o">=</span> <span class="n">error</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.service_type" class="doc doc-heading">
        <code>service_type</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of a ZenML ServiceType class.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.services.service_type.ServiceType" class="doc doc-heading">
        <code>
ServiceType            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Service type descriptor.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>type</code></td>
        <td><code>str</code></td>
        <td><p>service type</p></td>
      </tr>
      <tr>
        <td><code>flavor</code></td>
        <td><code>str</code></td>
        <td><p>service flavor</p></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>name of the service type</p></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>description of the service type</p></td>
      </tr>
      <tr>
        <td><code>logo_url</code></td>
        <td><code>str</code></td>
        <td><p>logo of the service type</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/service_type.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceType</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Service type descriptor.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type: service type</span>
<span class="sd">        flavor: service flavor</span>
<span class="sd">        name: name of the service type</span>
<span class="sd">        description: description of the service type</span>
<span class="sd">        logo_url: logo of the service type</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">flavor</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span>
        <span class="c1"># make the service type immutable and hashable</span>
        <span class="n">frozen</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.services.terraform" class="doc doc-heading">
        <code>terraform</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of a Terraform ZenML service.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h4 id="zenml.services.terraform.terraform_service" class="doc doc-heading">
        <code>terraform_service</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of a Terraform ZenML service.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h5 id="zenml.services.terraform.terraform_service.TerraformService" class="doc doc-heading">
        <code>
TerraformService            (<a class="autorefs autorefs-internal" title="zenml.services.service.BaseService" href="#zenml.services.service.BaseService">BaseService</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>A service represented by a set of resources deployed using a terraform recipe.</p>
<p>This class extends the base service class with functionality concerning
the life-cycle management and tracking of external services managed using
terraform recipes.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>config</code></td>
        <td><code>TerraformServiceConfig</code></td>
        <td><p>service configuration</p></td>
      </tr>
      <tr>
        <td><code>status</code></td>
        <td><code>TerraformServiceStatus</code></td>
        <td><p>service status</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformService</span><span class="p">(</span><span class="n">BaseService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A service represented by a set of resources deployed using a terraform recipe.</span>

<span class="sd">    This class extends the base service class with functionality concerning</span>
<span class="sd">    the life-cycle management and tracking of external services managed using</span>
<span class="sd">    terraform recipes.</span>


<span class="sd">    Attributes:</span>
<span class="sd">        config: service configuration</span>
<span class="sd">        status: service status</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">TerraformServiceConfig</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">TerraformServiceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">TerraformServiceStatus</span>
    <span class="p">)</span>

    <span class="n">_terraform_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">python_terraform</span><span class="o">.</span><span class="n">Terraform</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">terraform_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">python_terraform</span><span class="o">.</span><span class="n">Terraform</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize and/or return the terraform client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The terraform client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_terraform_client</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">working_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">directory_path</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">copy_terraform_files</span><span class="p">:</span>
                <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="n">working_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_terraform_client</span> <span class="o">=</span> <span class="n">python_terraform</span><span class="o">.</span><span class="n">Terraform</span><span class="p">(</span>
                <span class="n">working_dir</span><span class="o">=</span><span class="n">working_dir</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_terraform_client</span>

    <span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service.</span>

<span class="sd">        If the final output name provided in the config exists as a non-null value,</span>
<span class="sd">        then it&#39;s reasonable to assume that the service is up and running.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The operational state of the external service and a message</span>
<span class="sd">            providing additional information about that state (e.g. a</span>
<span class="sd">            description of the error if one is encountered while checking the</span>
<span class="sd">            service status).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">code</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span>
            <span class="n">detailed_exitcode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_vars</span><span class="p">(),</span>
            <span class="nb">input</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">raise_on_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;The deployment is active.&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
                <span class="s2">&quot;The deployment isn&#39;t active or needs an update.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Deployment error: </span><span class="se">\n</span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_update_service_config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update the service configuration file.</span>

<span class="sd">        This function is called after the service has been started, to update</span>
<span class="sd">        the service configuration file with the runtime path of the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># write the service information in the service config file</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_write_vars_to_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">vars</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Write variables to the variables file.</span>

<span class="sd">        Args:</span>
<span class="sd">            vars: The variables to write to the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">json</span>

        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">working_dir</span>
        <span class="n">variables_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">variables_file_path</span>
        <span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">variables_file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="nb">vars</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_and_apply</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Function to call terraform init and terraform apply.</span>

<span class="sd">        The init call is not repeated if any successful execution has</span>
<span class="sd">        happened already, to save time.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if init or apply function fails.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_update_service_config</span><span class="p">()</span>

        <span class="c1"># this directory gets created after a successful init</span>
        <span class="n">previous_run_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">working_dir</span><span class="p">,</span> <span class="s2">&quot;.ignoreme&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">previous_run_dir</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Terraform already initialized, &quot;</span>
                <span class="s2">&quot;terraform init will not be executed.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret_code</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">capture_output</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ret_code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;The command &#39;terraform init&#39; failed.&quot;</span><span class="p">)</span>
            <span class="n">fileio</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">previous_run_dir</span><span class="p">)</span>

        <span class="c1"># get variables from the recipe as a python dictionary</span>
        <span class="nb">vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_vars</span><span class="p">()</span>

        <span class="c1"># once init is successful, call terraform apply</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
            <span class="n">var</span><span class="o">=</span><span class="nb">vars</span><span class="p">,</span>
            <span class="nb">input</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">capture_output</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">raise_on_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># write variables to the variable file after execution is successful</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write_vars_to_file</span><span class="p">(</span><span class="nb">vars</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get variables as a dictionary from values.tfvars.json.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of variables to use for the stack recipes</span>
<span class="sd">            derived from the tfvars.json file.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: if the values.tfvars.json file is not</span>
<span class="sd">                found in the stack recipe.</span>
<span class="sd">            TypeError: if the file doesn&#39;t contain a dictionary of variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">json</span>

        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">working_dir</span>
        <span class="n">variables_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">variables_file_path</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">variables_file_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                <span class="s2">&quot;The file values.tfvars.json was not found in the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;recipe&#39;s directory at </span><span class="si">{</span><span class="n">variables_file_path</span><span class="si">}</span><span class="s2">. Please &quot;</span>
                <span class="s2">&quot;verify if it exists.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># read values into a dict and return</span>
        <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">variables_file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">variables</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;The values.tfvars.json file must contain a dictionary &quot;</span>
                <span class="s2">&quot;of variables.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">variables</span>

    <span class="k">def</span> <span class="nf">_destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Function to call terraform destroy on the given path.&quot;&quot;&quot;</span>
        <span class="c1"># get variables from the recipe as a python dictionary</span>
        <span class="nb">vars</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_vars</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">destroy</span><span class="p">(</span>
            <span class="n">var</span><span class="o">=</span><span class="nb">vars</span><span class="p">,</span>
            <span class="n">capture_output</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">raise_on_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">force</span><span class="o">=</span><span class="n">python_terraform</span><span class="o">.</span><span class="n">IsNotFlagged</span><span class="p">,</span>
            <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># set empty vars to the file</span>

    <span class="k">def</span> <span class="nf">_setup_runtime_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up the runtime path for the service.</span>

<span class="sd">        This method sets up the runtime path for the service.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># reuse the config file and logfile location from a previous run,</span>
        <span class="c1"># if available</span>
        <span class="n">copy_terraform_files</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span>
        <span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">singleton</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root_runtime_path</span><span class="p">,</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uuid</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">fileio</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">):</span>
                    <span class="n">copy_terraform_files</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">create_dir_recursive_if_not_exists</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">)</span>
                    <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(</span>
                    <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;zenml-service-&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">copy_terraform_files</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">copy_terraform_files</span><span class="p">:</span>
                <span class="n">copy_dir</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">directory_path</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_setup_runtime_path</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_log_level</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_and_apply</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">        Args:</span>
<span class="sd">            force: if True, the service will be deprovisioned even if it is</span>
<span class="sd">                in a failed state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_log_level</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_destroy</span><span class="p">()</span>
        <span class="c1"># in case of singleton services, this will remove the config</span>
        <span class="c1"># path as a whole and otherwise, this removes the specific UUID</span>
        <span class="c1"># directory</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>

    <span class="c1"># overwriting the start/stop function to remove the progress indicator</span>
    <span class="c1"># having which doesn&#39;t allow tf logs to be shown in stdout</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to become active.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the service and optionally wait for it to shutdown.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout: amount of time to wait for the service to shutdown.</span>
<span class="sd">                If set to 0, the method will return immediately after checking</span>
<span class="sd">                the service status.</span>
<span class="sd">            force: if True, the service will be forcefully stopped.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">        Args:</span>
<span class="sd">            follow: if True, the logs will be streamed as they are written</span>
<span class="sd">            tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: not implemented.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;This method is not available for Terraform services.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get outputs from the terraform state.</span>

<span class="sd">        Args:</span>
<span class="sd">            output: if specified, only the output with the given name will be</span>
<span class="sd">                returned. Otherwise, all outputs will be returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of outputs from the terraform state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
            <span class="c1"># if output is specified, then full_outputs is just a string</span>
            <span class="n">full_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
                <span class="n">output</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="n">output</span><span class="p">:</span> <span class="n">full_outputs</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># get value of the &quot;value&quot; key in the value of full_outputs</span>
            <span class="c1"># and assign it to the key in the output dict</span>
            <span class="n">full_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">full_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">full_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
            <span class="k">return</span> <span class="n">outputs</span>

    <span class="k">def</span> <span class="nf">check_installation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if necessary tools are installed on the host system.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if any required tool is not installed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_terraform_installed</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Terraform is required for stack recipes to run and was not &quot;</span>
                <span class="s2">&quot;found installed on your machine or not available on  &quot;</span>
                <span class="s2">&quot;your $PATH. Please visit &quot;</span>
                <span class="s2">&quot;https://learn.hashicorp.com/tutorials/terraform/install-cli &quot;</span>
                <span class="s2">&quot;to install it.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_is_terraform_installed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if terraform is installed on the host system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if terraform is installed, false otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check terraform version to verify installation.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">cmd</span><span class="p">(</span><span class="s2">&quot;-version&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">_set_log_level</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set TF_LOG env var to the log_level provided by the user.&quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;TF_LOG&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">log_level</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.terraform_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">terraform_client</span><span class="p">:</span> <span class="n">python_terraform</span><span class="o">.</span><span class="n">Terraform</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize and/or return the terraform client.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>python_terraform.Terraform</code></td>
      <td><p>The terraform client.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.check_installation" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_installation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks if necessary tools are installed on the host system.</p>

<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if any required tool is not installed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_installation</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks if necessary tools are installed on the host system.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if any required tool is not installed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_terraform_installed</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Terraform is required for stack recipes to run and was not &quot;</span>
            <span class="s2">&quot;found installed on your machine or not available on  &quot;</span>
            <span class="s2">&quot;your $PATH. Please visit &quot;</span>
            <span class="s2">&quot;https://learn.hashicorp.com/tutorials/terraform/install-cli &quot;</span>
            <span class="s2">&quot;to install it.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.check_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check the the current operational state of the external service.</p>
<p>If the final output name provided in the config exists as a non-null value,
then it's reasonable to assume that the service is up and running.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[zenml.services.service_status.ServiceState, str]</code></td>
      <td><p>The operational state of the external service and a message
providing additional information about that state (e.g. a
description of the error if one is encountered while checking the
service status).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">ServiceState</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check the the current operational state of the external service.</span>

<span class="sd">    If the final output name provided in the config exists as a non-null value,</span>
<span class="sd">    then it&#39;s reasonable to assume that the service is up and running.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The operational state of the external service and a message</span>
<span class="sd">        providing additional information about that state (e.g. a</span>
<span class="sd">        description of the error if one is encountered while checking the</span>
<span class="sd">        service status).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">code</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span>
        <span class="n">detailed_exitcode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_vars</span><span class="p">(),</span>
        <span class="nb">input</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">raise_on_error</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">,</span> <span class="s2">&quot;The deployment is active.&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span><span class="p">,</span>
            <span class="s2">&quot;The deployment isn&#39;t active or needs an update.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">ServiceState</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Deployment error: </span><span class="se">\n</span><span class="si">{</span><span class="n">err</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.deprovision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Deprovision the service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service will be deprovisioned even if it is
in a failed state.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">deprovision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Deprovision the service.</span>

<span class="sd">    Args:</span>
<span class="sd">        force: if True, the service will be deprovisioned even if it is</span>
<span class="sd">            in a failed state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_log_level</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_destroy</span><span class="p">()</span>
    <span class="c1"># in case of singleton services, this will remove the config</span>
    <span class="c1"># path as a whole and otherwise, this removes the specific UUID</span>
    <span class="c1"># directory</span>
    <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">config_file</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.get_logs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_logs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Retrieve the service logs.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>follow</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the logs will be streamed as they are written</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>tail</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>only retrieve the last NUM lines of log output.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>not implemented.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_logs</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">follow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the service logs.</span>

<span class="sd">    Args:</span>
<span class="sd">        follow: if True, the logs will be streamed as they are written</span>
<span class="sd">        tail: only retrieve the last NUM lines of log output.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: not implemented.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
        <span class="s2">&quot;This method is not available for Terraform services.&quot;</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.get_outputs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get outputs from the terraform state.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>output</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>if specified, only the output with the given name will be
returned. Otherwise, all outputs will be returned.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary of outputs from the terraform state.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_outputs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get outputs from the terraform state.</span>

<span class="sd">    Args:</span>
<span class="sd">        output: if specified, only the output with the given name will be</span>
<span class="sd">            returned. Otherwise, all outputs will be returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of outputs from the terraform state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
        <span class="c1"># if output is specified, then full_outputs is just a string</span>
        <span class="n">full_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span>
            <span class="n">output</span><span class="p">,</span> <span class="n">full_value</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">output</span><span class="p">:</span> <span class="n">full_outputs</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># get value of the &quot;value&quot; key in the value of full_outputs</span>
        <span class="c1"># and assign it to the key in the output dict</span>
        <span class="n">full_outputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">full_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">full_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">outputs</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.get_vars" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get variables as a dictionary from values.tfvars.json.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary of variables to use for the stack recipes
derived from the tfvars.json file.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>if the values.tfvars.json file is not
found in the stack recipe.</p></td>
      </tr>
      <tr>
        <td><code>TypeError</code></td>
        <td><p>if the file doesn't contain a dictionary of variables.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get variables as a dictionary from values.tfvars.json.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of variables to use for the stack recipes</span>
<span class="sd">        derived from the tfvars.json file.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: if the values.tfvars.json file is not</span>
<span class="sd">            found in the stack recipe.</span>
<span class="sd">        TypeError: if the file doesn&#39;t contain a dictionary of variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">json</span>

    <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">terraform_client</span><span class="o">.</span><span class="n">working_dir</span>
    <span class="n">variables_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">variables_file_path</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fileio</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">variables_file_path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
            <span class="s2">&quot;The file values.tfvars.json was not found in the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;recipe&#39;s directory at </span><span class="si">{</span><span class="n">variables_file_path</span><span class="si">}</span><span class="s2">. Please &quot;</span>
            <span class="s2">&quot;verify if it exists.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># read values into a dict and return</span>
    <span class="k">with</span> <span class="n">fileio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">variables_file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">variables</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">variables</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;The values.tfvars.json file must contain a dictionary &quot;</span>
            <span class="s2">&quot;of variables.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">variables</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.model_post_init" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>This function is meant to behave like a BaseModel method to initialise private attributes.</p>
<p>It takes context as an argument since that's what pydantic-core passes when calling it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>BaseModel</code></td>
        <td><p>The BaseModel instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>__context</code></td>
        <td><code>Any</code></td>
        <td><p>The context.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">init_private_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function is meant to behave like a BaseModel method to initialise private attributes.</span>

<span class="sd">    It takes context as an argument since that&#39;s what pydantic-core passes when calling it.</span>

<span class="sd">    Args:</span>
<span class="sd">        self: The BaseModel instance.</span>
<span class="sd">        __context: The context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pydantic_private</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">private_attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">private_attr</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">PydanticUndefined</span><span class="p">:</span>
                <span class="n">pydantic_private</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
        <span class="n">object_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="n">pydantic_private</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.provision" class="doc doc-heading">
<code class="highlight language-python"><span class="n">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Provision the service.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">provision</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Provision the service.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_setup_runtime_path</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_installation</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_log_level</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init_and_apply</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.start" class="doc doc-heading">
<code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Start the service and optionally wait for it to become active.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to become active.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start the service and optionally wait for it to become active.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to become active.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">ACTIVE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">provision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.services.terraform.terraform_service.TerraformService.stop" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Stop the service and optionally wait for it to shutdown.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>timeout</code></td>
        <td><code>int</code></td>
        <td><p>amount of time to wait for the service to shutdown.
If set to 0, the method will return immediately after checking
the service status.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>if True, the service will be forcefully stopped.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop the service and optionally wait for it to shutdown.</span>

<span class="sd">    Args:</span>
<span class="sd">        timeout: amount of time to wait for the service to shutdown.</span>
<span class="sd">            If set to 0, the method will return immediately after checking</span>
<span class="sd">            the service status.</span>
<span class="sd">        force: if True, the service will be forcefully stopped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">admin_state</span> <span class="o">=</span> <span class="n">ServiceState</span><span class="o">.</span><span class="n">INACTIVE</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">deprovision</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.terraform.terraform_service.TerraformServiceConfig" class="doc doc-heading">
        <code>
TerraformServiceConfig            (<a class="autorefs autorefs-internal" title="zenml.services.service.ServiceConfig" href="#zenml.services.service.ServiceConfig">ServiceConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Terraform service configuration.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>root_runtime_path</code></td>
        <td><code>str</code></td>
        <td><p>the root path where the service stores its files.</p></td>
      </tr>
      <tr>
        <td><code>singleton</code></td>
        <td><code>bool</code></td>
        <td><p>set to True to store the service files directly in the
<code>root_runtime_path</code> directory instead of creating a subdirectory for
each service instance. Only has effect if the <code>root_runtime_path</code> is
also set.</p></td>
      </tr>
      <tr>
        <td><code>directory_path</code></td>
        <td><code>str</code></td>
        <td><p>the path to the directory that hosts all the HCL files.</p></td>
      </tr>
      <tr>
        <td><code>copy_terraform_files</code></td>
        <td><code>bool</code></td>
        <td><p>whether to copy the HCL files to the service
runtime directory.</p></td>
      </tr>
      <tr>
        <td><code>log_level</code></td>
        <td><code>str</code></td>
        <td><p>the log level to set the terraform client to. Choose one of
TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</p></td>
      </tr>
      <tr>
        <td><code>variables_file_path</code></td>
        <td><code>str</code></td>
        <td><p>the path to the file that stores all variable values.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformServiceConfig</span><span class="p">(</span><span class="n">ServiceConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform service configuration.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        root_runtime_path: the root path where the service stores its files.</span>
<span class="sd">        singleton: set to True to store the service files directly in the</span>
<span class="sd">            `root_runtime_path` directory instead of creating a subdirectory for</span>
<span class="sd">            each service instance. Only has effect if the `root_runtime_path` is</span>
<span class="sd">            also set.</span>
<span class="sd">        directory_path: the path to the directory that hosts all the HCL files.</span>
<span class="sd">        copy_terraform_files: whether to copy the HCL files to the service</span>
<span class="sd">            runtime directory.</span>
<span class="sd">        log_level: the log level to set the terraform client to. Choose one of</span>
<span class="sd">            TRACE, DEBUG, INFO, WARN or ERROR (case insensitive).</span>
<span class="sd">        variables_file_path: the path to the file that stores all variable values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">root_runtime_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">singleton</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">directory_path</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">copy_terraform_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">log_level</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;ERROR&quot;</span>
    <span class="n">variables_file_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;values.tfvars.json&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.services.terraform.terraform_service.TerraformServiceStatus" class="doc doc-heading">
        <code>
TerraformServiceStatus            (<a class="autorefs autorefs-internal" title="zenml.services.service_status.ServiceStatus" href="#zenml.services.service_status.ServiceStatus">ServiceStatus</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Terraform service status.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>runtime_path</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>the path where the service files (e.g. the configuration
file used to start the service daemon and the logfile) are located</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/services/terraform/terraform_service.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">TerraformServiceStatus</span><span class="p">(</span><span class="n">ServiceStatus</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Terraform service status.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        runtime_path: the path where the service files (e.g. the configuration</span>
<span class="sd">            file used to start the service daemon and the logfile) are located</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">runtime_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the service configuration file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the configuration file, or None, if the</span>
<span class="sd">            service has never been started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_CONFIG_FILE_NAME</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the path to the log file where the service output is/has been logged.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to the log file, or None, if the service has never been</span>
<span class="sd">            started before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runtime_path</span><span class="p">,</span> <span class="n">SERVICE_LOG_FILE_NAME</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.terraform.terraform_service.TerraformServiceStatus.config_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the service configuration file.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the configuration file, or None, if the
service has never been started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.services.terraform.terraform_service.TerraformServiceStatus.log_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the path to the log file where the service output is/has been logged.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>The path to the log file, or None, if the service has never been
started before.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>











  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-service_connectors/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Service Connectors" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Service Connectors
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-stack/" class="md-footer__link md-footer__link--next" aria-label="Next: Stack" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Stack
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>