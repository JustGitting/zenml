
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.68.1/core_code_docs/core-model/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Model - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Model
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Model
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.model" class="md-nav__link">
    model
  </a>
  
    <nav class="md-nav" aria-label="model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.lazy_load" class="md-nav__link">
    lazy_load
  </a>
  
    <nav class="md-nav" aria-label="lazy_load">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.lazy_load.ModelVersionDataLazyLoader" class="md-nav__link">
    ModelVersionDataLazyLoader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model" class="md-nav__link">
    model
  </a>
  
    <nav class="md-nav" aria-label="model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model" class="md-nav__link">
    Model
  </a>
  
    <nav class="md-nav" aria-label="Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.model_id" class="md-nav__link">
    model_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.number" class="md-nav__link">
    number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.run_metadata" class="md-nav__link">
    run_metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.stage" class="md-nav__link">
    stage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.__eq__" class="md-nav__link">
    __eq__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.__hash__" class="md-nav__link">
    __hash__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.delete_all_artifacts" class="md-nav__link">
    delete_all_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_data_artifact" class="md-nav__link">
    get_data_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_deployment_artifact" class="md-nav__link">
    get_deployment_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_model_artifact" class="md-nav__link">
    get_model_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_pipeline_run" class="md-nav__link">
    get_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.load_artifact" class="md-nav__link">
    load_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.log_metadata" class="md-nav__link">
    log_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.set_stage" class="md-nav__link">
    set_stage()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_artifact_to_model" class="md-nav__link">
    link_artifact_to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_artifact_version_to_model_version" class="md-nav__link">
    link_artifact_version_to_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_service_to_model" class="md-nav__link">
    link_service_to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.log_model_metadata" class="md-nav__link">
    log_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightning/" class="md-nav__link">
        Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-numpy/" class="md-nav__link">
        Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_kubernetes/" class="md-nav__link">
        Skypilot Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.model" class="md-nav__link">
    model
  </a>
  
    <nav class="md-nav" aria-label="model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.lazy_load" class="md-nav__link">
    lazy_load
  </a>
  
    <nav class="md-nav" aria-label="lazy_load">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.lazy_load.ModelVersionDataLazyLoader" class="md-nav__link">
    ModelVersionDataLazyLoader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model" class="md-nav__link">
    model
  </a>
  
    <nav class="md-nav" aria-label="model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model" class="md-nav__link">
    Model
  </a>
  
    <nav class="md-nav" aria-label="Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.id" class="md-nav__link">
    id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.model_id" class="md-nav__link">
    model_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.number" class="md-nav__link">
    number
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.run_metadata" class="md-nav__link">
    run_metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.stage" class="md-nav__link">
    stage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.__eq__" class="md-nav__link">
    __eq__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.__hash__" class="md-nav__link">
    __hash__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.delete_all_artifacts" class="md-nav__link">
    delete_all_artifacts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.delete_artifact" class="md-nav__link">
    delete_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_artifact" class="md-nav__link">
    get_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_data_artifact" class="md-nav__link">
    get_data_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_deployment_artifact" class="md-nav__link">
    get_deployment_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_model_artifact" class="md-nav__link">
    get_model_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.get_pipeline_run" class="md-nav__link">
    get_pipeline_run()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.load_artifact" class="md-nav__link">
    load_artifact()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.log_metadata" class="md-nav__link">
    log_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.model.Model.set_stage" class="md-nav__link">
    set_stage()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils" class="md-nav__link">
    utils
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_artifact_to_model" class="md-nav__link">
    link_artifact_to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_artifact_version_to_model_version" class="md-nav__link">
    link_artifact_version_to_model_version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.link_service_to_model" class="md-nav__link">
    link_service_to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.model.utils.log_model_metadata" class="md-nav__link">
    log_model_metadata()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-model.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="model">Model</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.model" class="doc doc-heading">
        <code>zenml.model</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Concepts related to the Model Control Plane feature.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.model.lazy_load" class="doc doc-heading">
        <code>lazy_load</code>



</h3>

    <div class="doc doc-contents ">

      <p>Model Version Data Lazy Loader definition.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h4 id="zenml.model.lazy_load.ModelVersionDataLazyLoader" class="doc doc-heading">
        <code>
ModelVersionDataLazyLoader            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Model Version Data Lazy Loader helper class.</p>
<p>It helps the inner codes to fetch proper artifact,
model version metadata or artifact metadata from the
model version during runtime time of the step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/model/lazy_load.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ModelVersionDataLazyLoader</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model Version Data Lazy Loader helper class.</span>

<span class="sd">    It helps the inner codes to fetch proper artifact,</span>
<span class="sd">    model version metadata or artifact metadata from the</span>
<span class="sd">    model version during runtime time of the step.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">artifact_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">metadata_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># TODO: In Pydantic v2, the `model_` is a protected namespaces for all</span>
    <span class="c1">#  fields defined under base models. If not handled, this raises a warning.</span>
    <span class="c1">#  It is possible to suppress this warning message with the following</span>
    <span class="c1">#  configuration, however the ultimate solution is to rename these fields.</span>
    <span class="c1">#  Even though they do not cause any problems right now, if we are not</span>
    <span class="c1">#  careful we might overwrite some fields protected by pydantic.</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">protected_namespaces</span><span class="o">=</span><span class="p">())</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@before_validator_handler</span>
    <span class="k">def</span> <span class="nf">_root_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate all in one.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: Dict of values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict of validated values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the model version id, but call is not internal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model_version&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">context</span> <span class="o">=</span> <span class="n">get_pipeline_context</span><span class="p">()</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="ow">not</span> <span class="n">context</span><span class="o">.</span><span class="n">model</span>
                    <span class="ow">or</span> <span class="n">context</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;model_name&quot;</span><span class="p">]</span>
                <span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;`version` must be set if you use the `Model` class &quot;</span>
                        <span class="s2">&quot;directly in the pipeline body, otherwise, you can use &quot;</span>
                        <span class="s2">&quot;`get_pipeline_context().model` to lazy load the current &quot;</span>
                        <span class="s2">&quot;Model Version from the pipeline context.&quot;</span>
                    <span class="p">)</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;suppress_class_validation_warnings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">_get_model_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModelVersionResponse&quot;</span><span class="p">:</span>
        <span class="c1"># if the version/number is None -&gt; return the model in context</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">mv</span> <span class="o">:=</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">model_version</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">mv</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="s2">&quot;Lazy loading of the model failed, since given name &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">` does not match the model name &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;in the pipeline context: `</span><span class="si">{</span><span class="n">mv</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`.&quot;</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">mv</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Lazy loading of the model failed, since the model version &quot;</span>
                    <span class="s2">&quot;is not set in the pipeline context.&quot;</span>
                <span class="p">)</span>

        <span class="c1"># else return the model version by version</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
                    <span class="n">model_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="p">,</span>
                    <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_version</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Lazy loading of the model version failed: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;no model `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_name</span><span class="si">}</span><span class="s2">` with version &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_version</span><span class="si">}</span><span class="s2">` could be found.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.model.model" class="doc doc-heading">
        <code>model</code>



</h3>

    <div class="doc doc-contents ">

      <p>Model user facing interface to pass into pipeline or step.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.model.model.Model" class="doc doc-heading">
        <code>
Model            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Model class to pass into pipeline or step to set it into a model context.</p>
<p>name: The name of the model.
license: The license under which the model is created.
description: The description of the model.
audience: The target audience of the model.
use_cases: The use cases of the model.
limitations: The known limitations of the model.
trade_offs: The tradeoffs of the model.
ethics: The ethical implications of the model.
tags: Tags associated with the model.
!!! version "The version name, version number or stage is optional and points model context"
    to a specific version/stage. If skipped new version will be created.
!!! save_models_to_registry "Whether to save all ModelArtifacts to Model Registry,"
    if available in active stack.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Model class to pass into pipeline or step to set it into a model context.</span>

<span class="sd">    name: The name of the model.</span>
<span class="sd">    license: The license under which the model is created.</span>
<span class="sd">    description: The description of the model.</span>
<span class="sd">    audience: The target audience of the model.</span>
<span class="sd">    use_cases: The use cases of the model.</span>
<span class="sd">    limitations: The known limitations of the model.</span>
<span class="sd">    trade_offs: The tradeoffs of the model.</span>
<span class="sd">    ethics: The ethical implications of the model.</span>
<span class="sd">    tags: Tags associated with the model.</span>
<span class="sd">    version: The version name, version number or stage is optional and points model context</span>
<span class="sd">        to a specific version/stage. If skipped new version will be created.</span>
<span class="sd">    save_models_to_registry: Whether to save all ModelArtifacts to Model Registry,</span>
<span class="sd">        if available in active stack.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">license</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">audience</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">use_cases</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">limitations</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">trade_offs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ethics</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">union_mode</span><span class="o">=</span><span class="s2">&quot;smart&quot;</span>
    <span class="p">)</span>
    <span class="n">save_models_to_registry</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># technical attributes</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">suppress_class_validation_warnings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">was_created_in_this_run</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_model_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_created_model_version</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># TODO: In Pydantic v2, the `model_` is a protected namespaces for all</span>
    <span class="c1">#  fields defined under base models. If not handled, this raises a warning.</span>
    <span class="c1">#  It is possible to suppress this warning message with the following</span>
    <span class="c1">#  configuration, however the ultimate solution is to rename these fields.</span>
    <span class="c1">#  Even though they do not cause any problems right now, if we are not</span>
    <span class="c1">#  careful we might overwrite some fields protected by pydantic.</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">protected_namespaces</span><span class="o">=</span><span class="p">())</span>

    <span class="c1">#########################</span>
    <span class="c1">#    Public methods     #</span>
    <span class="c1">#########################</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get version id from the Model Control Plane.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ID of the model version or None, if model version</span>
<span class="sd">                doesn&#39;t exist and can only be read given current</span>
<span class="sd">                config (you used stage name or number as</span>
<span class="sd">                a version name).</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if model version doesn&#39;t exist and</span>
<span class="sd">                cannot be fetched from the Model Control Plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">id</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Version `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">` of `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` model doesn&#39;t &quot;</span>
                    <span class="s2">&quot;exist and cannot be fetched from the Model Control Plane.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get model id from the Model Control Plane.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The UUID of the model containing this model version.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_id</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get version number from  the Model Control Plane.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Number of the model version or None, if model version</span>
<span class="sd">                doesn&#39;t exist and can only be read given current</span>
<span class="sd">                config (you used stage name or number as</span>
<span class="sd">                a version name).</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: if model version doesn&#39;t exist and</span>
<span class="sd">                cannot be fetched from the Model Control Plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">number</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Version `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">` of `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` model doesn&#39;t &quot;</span>
                    <span class="s2">&quot;exist and cannot be fetched from the Model Control Plane.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get version stage from  the Model Control Plane.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Stage of the model version or None, if model version</span>
<span class="sd">                doesn&#39;t exist and can only be read given current</span>
<span class="sd">                config (you used stage name or number as</span>
<span class="sd">                a version name).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">stage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">stage</span>
            <span class="k">if</span> <span class="n">stage</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">ModelStages</span><span class="p">(</span><span class="n">stage</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Version `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">` of `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` model doesn&#39;t &quot;</span>
                <span class="s2">&quot;exist and cannot be fetched from the Model Control Plane.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">load_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Load artifact from the Model Control Plane.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: Name of the artifact to load.</span>
<span class="sd">            version: Version of the artifact to load.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The loaded artifact.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the model version is not linked to any artifact with</span>
<span class="sd">                the given name and version.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.artifacts.utils</span> <span class="kn">import</span> <span class="n">load_artifact</span>
        <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ArtifactVersionResponse</span>

        <span class="n">artifact</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2"> of model </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not have &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;an artifact with name </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> and version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">load_artifact</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the artifact linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the artifact to retrieve.</span>
<span class="sd">            version: The version of the artifact to retrieve (None for</span>
<span class="sd">                latest/non-versioned)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Specific version of the artifact or placeholder in the design time</span>
<span class="sd">                of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">lazy</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_model_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the model artifact linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the model artifact to retrieve.</span>
<span class="sd">            version: The version of the model artifact to retrieve (None for</span>
<span class="sd">                latest/non-versioned)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Specific version of the model artifact or placeholder in the design</span>
<span class="sd">                time of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">lazy</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_artifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_data_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the data artifact linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the data artifact to retrieve.</span>
<span class="sd">            version: The version of the data artifact to retrieve (None for</span>
<span class="sd">                latest/non-versioned)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Specific version of the data artifact or placeholder in the design</span>
<span class="sd">            time of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">lazy</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_data_artifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_deployment_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the deployment artifact linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the deployment artifact to retrieve.</span>
<span class="sd">            version: The version of the deployment artifact to retrieve (None</span>
<span class="sd">                for latest/non-versioned)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Specific version of the deployment artifact or placeholder in the</span>
<span class="sd">            design time of the pipeline.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">lazy</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment_artifact</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get pipeline run linked to this version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the pipeline run to retrieve.</span>

<span class="sd">        Returns:</span>
<span class="sd">            PipelineRun as PipelineRunResponse</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_stage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModelStages</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets this Model to a desired stage.</span>

<span class="sd">        Args:</span>
<span class="sd">            stage: the target stage for model version.</span>
<span class="sd">            force: whether to force archiving of current model version in</span>
<span class="sd">                target stage or raise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">set_stage</span><span class="p">(</span><span class="n">stage</span><span class="o">=</span><span class="n">stage</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">log_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Log model version metadata.</span>

<span class="sd">        This function can be used to log metadata for current model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            metadata: The metadata to log.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
        <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;RunMetadataResponse&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get model version run metadata.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model version run metadata.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the model version run metadata cannot be fetched.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.metadata.lazy_load</span> <span class="kn">import</span> <span class="n">RunMetadataLazyGetter</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">get_pipeline_context</span><span class="p">()</span>
            <span class="c1"># avoid exposing too much of internal details by keeping the return type</span>
            <span class="k">return</span> <span class="n">RunMetadataLazyGetter</span><span class="p">(</span>  <span class="c1"># type: ignore[return-value]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_version</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">(</span><span class="n">hydrate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">run_metadata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Failed to fetch metadata of this model version.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">run_metadata</span>

    <span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">only_link</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">delete_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">delete_from_artifact_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete the artifact linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the artifact to delete.</span>
<span class="sd">            version: The version of the artifact to delete (None for</span>
<span class="sd">                latest/non-versioned)</span>
<span class="sd">            only_link: Whether to only delete the link to the artifact.</span>
<span class="sd">            delete_metadata: Whether to delete the metadata of the artifact.</span>
<span class="sd">            delete_from_artifact_store: Whether to delete the artifact from the</span>
<span class="sd">                artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>
        <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ArtifactVersionResponse</span>

        <span class="n">artifact_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
            <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
            <span class="n">client</span><span class="o">.</span><span class="n">delete_model_version_artifact_link</span><span class="p">(</span>
                <span class="n">model_version_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">artifact_version_id</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">only_link</span><span class="p">:</span>
                <span class="n">client</span><span class="o">.</span><span class="n">delete_artifact_version</span><span class="p">(</span>
                    <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">delete_metadata</span><span class="o">=</span><span class="n">delete_metadata</span><span class="p">,</span>
                    <span class="n">delete_from_artifact_store</span><span class="o">=</span><span class="n">delete_from_artifact_store</span><span class="p">,</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_all_artifacts</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">only_link</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">delete_from_artifact_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Delete all artifacts linked to this model version.</span>

<span class="sd">        Args:</span>
<span class="sd">            only_link: Whether to only delete the link to the artifact.</span>
<span class="sd">            delete_from_artifact_store: Whether to delete the artifact from</span>
<span class="sd">                the artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">only_link</span> <span class="ow">and</span> <span class="n">delete_from_artifact_store</span><span class="p">:</span>
            <span class="n">mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_version</span><span class="p">()</span>
            <span class="n">artifact_responses</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">data_artifacts</span>
            <span class="n">artifact_responses</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">mv</span><span class="o">.</span><span class="n">model_artifacts</span><span class="p">)</span>
            <span class="n">artifact_responses</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">mv</span><span class="o">.</span><span class="n">deployment_artifacts</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">artifact_</span> <span class="ow">in</span> <span class="n">artifact_responses</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">artifact_response_</span> <span class="ow">in</span> <span class="n">artifact_</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">client</span><span class="o">.</span><span class="n">_delete_artifact_from_artifact_store</span><span class="p">(</span>
                        <span class="n">artifact_version</span><span class="o">=</span><span class="n">artifact_response_</span>
                    <span class="p">)</span>

        <span class="n">client</span><span class="o">.</span><span class="n">delete_all_model_version_artifact_links</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">only_link</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_lazy_artifact_get</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
        <span class="kn">from</span> <span class="nn">zenml.models.v2.core.artifact_version</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">LazyArtifactVersionResponse</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">get_pipeline_context</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">LazyArtifactVersionResponse</span><span class="p">(</span>
                <span class="n">lazy_load_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">lazy_load_version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
                <span class="n">lazy_load_model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">lazy_load_model_version</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_lazy_version</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check two Models for equality.</span>

<span class="sd">        Args:</span>
<span class="sd">            other: object to compare with</span>

<span class="sd">        Returns:</span>
<span class="sd">            True, if equal, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Model</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="n">self_mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
        <span class="n">other_mv</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">self_mv</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other_mv</span><span class="o">.</span><span class="n">id</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@before_validator_handler</span>
    <span class="k">def</span> <span class="nf">_root_validator</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate all in one.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: Dict of values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict of validated values.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the model version id, but call is not internal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">suppress_class_validation_warnings</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;suppress_class_validation_warnings&quot;</span><span class="p">,</span>
            <span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">suppress_class_validation_warnings</span> <span class="ow">and</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;model_version_id&quot;</span><span class="p">,</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;`model_version_id` field is for internal use only&quot;</span>
            <span class="p">)</span>

        <span class="n">version</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="n">version</span> <span class="ow">in</span> <span class="p">[</span><span class="n">stage</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">stage</span> <span class="ow">in</span> <span class="n">ModelStages</span><span class="p">]</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="n">suppress_class_validation_warnings</span>
        <span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Version `</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">` matches one of the possible &quot;</span>
                <span class="s2">&quot;`ModelStages` and will be fetched using stage.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">version</span><span class="p">)</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">suppress_class_validation_warnings</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`version` `</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">` is numeric and will be fetched &quot;</span>
                <span class="s2">&quot;using version number.&quot;</span>
            <span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;suppress_class_validation_warnings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span> <span class="nf">_validate_config_in_runtime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModelVersionResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate that config doesn&#39;t conflict with runtime environment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model version based on configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_or_create_model</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModelResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;This method should get or create a model from Model Control Plane.</span>

<span class="sd">        New model is created implicitly, if missing, otherwise fetched.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model based on configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>
        <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ModelRequest</span>

        <span class="n">zenml_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span><span class="p">:</span>
            <span class="n">mv</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
                <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">model</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">model</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span>
                    <span class="n">model_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">model_request</span> <span class="o">=</span> <span class="n">ModelRequest</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">license</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">license</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="n">audience</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">audience</span><span class="p">,</span>
                    <span class="n">use_cases</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">use_cases</span><span class="p">,</span>
                    <span class="n">limitations</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">limitations</span><span class="p">,</span>
                    <span class="n">trade_offs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">trade_offs</span><span class="p">,</span>
                    <span class="n">ethics</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ethics</span><span class="p">,</span>
                    <span class="n">user</span><span class="o">=</span><span class="n">zenml_client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">workspace</span><span class="o">=</span><span class="n">zenml_client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">save_models_to_registry</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_models_to_registry</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">model_request</span> <span class="o">=</span> <span class="n">ModelRequest</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">model_request</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span>
                        <span class="n">model</span><span class="o">=</span><span class="n">model_request</span>
                    <span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;New model `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` was created implicitly.&quot;</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="n">EntityExistsError</span><span class="p">:</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">get_model</span><span class="p">(</span>
                        <span class="n">model_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span>
                    <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_model_id</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">_get_model_version</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModelVersionResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;This method gets a model version from Model Control Plane.</span>

<span class="sd">        Args:</span>
<span class="sd">            hydrate: Flag deciding whether to hydrate the output model(s)</span>
<span class="sd">                by including metadata fields in the response.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model version based on configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

        <span class="n">zenml_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span><span class="p">:</span>
            <span class="n">mv</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
                <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span><span class="p">,</span>
                <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mv</span> <span class="o">=</span> <span class="n">zenml_client</span><span class="o">.</span><span class="n">get_model_version</span><span class="p">(</span>
                <span class="n">model_name_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">model_version_name_or_number_or_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                <span class="n">hydrate</span><span class="o">=</span><span class="n">hydrate</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">id</span>

        <span class="n">difference</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">mv</span><span class="o">.</span><span class="n">metadata</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="ow">and</span> <span class="n">mv</span><span class="o">.</span><span class="n">description</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
                <span class="n">difference</span><span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                    <span class="s2">&quot;db&quot;</span><span class="p">:</span> <span class="n">mv</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
                <span class="p">}</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">:</span>
            <span class="n">configured_tags</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">)</span>
            <span class="n">db_tags</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">mv</span><span class="o">.</span><span class="n">tags</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">db_tags</span> <span class="o">!=</span> <span class="n">configured_tags</span><span class="p">:</span>
                <span class="n">difference</span><span class="p">[</span><span class="s2">&quot;tags added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">configured_tags</span> <span class="o">-</span> <span class="n">db_tags</span><span class="p">)</span>
                <span class="n">difference</span><span class="p">[</span><span class="s2">&quot;tags removed&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">db_tags</span> <span class="o">-</span> <span class="n">configured_tags</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">difference</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Provided model version configuration does not match existing model &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;version `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">::</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2">` with the following &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;changes: </span><span class="si">{</span><span class="n">difference</span><span class="si">}</span><span class="s2">. If you want to update the model version &quot;</span>
                <span class="s2">&quot;configuration, please use the `zenml model version update` command.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">mv</span>

    <span class="k">def</span> <span class="nf">_get_or_create_model_version</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">hydrate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ModelVersionResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;This method should get or create a model and a model version from Model Control Plane.</span>

<span class="sd">        A new model is created implicitly if missing, otherwise existing model</span>
<span class="sd">        is fetched. Model name is controlled by the `name` parameter.</span>

<span class="sd">        Model Version returned by this method is resolved based on model version:</span>
<span class="sd">        - If `version` is None, a new model version is created, if not created</span>
<span class="sd">            by other steps in same run.</span>
<span class="sd">        - If `version` is not None a model version will be fetched based on the</span>
<span class="sd">            version:</span>
<span class="sd">            - If `version` is set to an integer or digit string, the model</span>
<span class="sd">                version with the matching number will be fetched.</span>
<span class="sd">            - If `version` is set to a string, the model version with the</span>
<span class="sd">                matching version will be fetched.</span>
<span class="sd">            - If `version` is set to a `ModelStage`, the model version with the</span>
<span class="sd">                matching stage will be fetched.</span>

<span class="sd">        Args:</span>
<span class="sd">            hydrate: Whether to return a hydrated version of the model version.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The model version based on configuration.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: if the model version needs to be created, but</span>
<span class="sd">                provided name is reserved.</span>
<span class="sd">            RuntimeError: if the model version cannot be created.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>
        <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ModelVersionRequest</span>

        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model</span><span class="p">()</span>

        <span class="c1"># backup logic, if the Model class is used directly from the code</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">format_name_template</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

        <span class="n">zenml_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">model_version_request</span> <span class="o">=</span> <span class="n">ModelVersionRequest</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">zenml_client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">zenml_client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tags</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mv_request</span> <span class="o">=</span> <span class="n">ModelVersionRequest</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">model_version_request</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="kn">from</span> <span class="nn">zenml</span> <span class="kn">import</span> <span class="n">get_step_context</span>

                    <span class="n">context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># if inside a step context we loop over all</span>
                    <span class="c1"># model version configuration to find, if the</span>
                    <span class="c1"># model version for current model was already</span>
                    <span class="c1"># created in the current run, not to create</span>
                    <span class="c1"># new model versions</span>
                    <span class="n">pipeline_mv</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">pipeline_mv</span>
                        <span class="ow">and</span> <span class="n">pipeline_mv</span><span class="o">.</span><span class="n">was_created_in_this_run</span>
                        <span class="ow">and</span> <span class="n">pipeline_mv</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
                        <span class="ow">and</span> <span class="n">pipeline_mv</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">pipeline_mv</span><span class="o">.</span><span class="n">version</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">pipeline_mv</span><span class="o">.</span><span class="n">model_version_id</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">context</span><span class="o">.</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                            <span class="n">step_mv</span> <span class="o">=</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">model</span>
                            <span class="k">if</span> <span class="p">(</span>
                                <span class="n">step_mv</span>
                                <span class="ow">and</span> <span class="n">step_mv</span><span class="o">.</span><span class="n">was_created_in_this_run</span>
                                <span class="ow">and</span> <span class="n">step_mv</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
                                <span class="ow">and</span> <span class="n">step_mv</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                            <span class="p">):</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">step_mv</span><span class="o">.</span><span class="n">version</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="p">(</span>
                                    <span class="n">step_mv</span><span class="o">.</span><span class="n">model_version_id</span>
                                <span class="p">)</span>
                                <span class="k">break</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span><span class="p">:</span>
                <span class="n">model_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_version</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">version</span>
                <span class="ow">and</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">ModelStages</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Cannot create a model version named </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span><span class="si">}</span><span class="s2"> as &quot;</span>
                    <span class="s2">&quot;it matches one of the possible model version stages. If you &quot;</span>
                    <span class="s2">&quot;are aiming to fetch model version by stage, check if the &quot;</span>
                    <span class="s2">&quot;model version in given stage exists. It might be missing, if &quot;</span>
                    <span class="s2">&quot;the pipeline promoting model version to this stage failed,&quot;</span>
                    <span class="s2">&quot; as an example. You can explore model versions using &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`zenml model version list -n </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` CLI command.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span><span class="o">.</span><span class="n">isnumeric</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Cannot create a model version named </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span><span class="si">}</span><span class="s2"> as &quot;</span>
                    <span class="s2">&quot;numeric model version names are reserved. If you &quot;</span>
                    <span class="s2">&quot;are aiming to fetch model version by number, check if the &quot;</span>
                    <span class="s2">&quot;model version with given number exists. It might be missing, if &quot;</span>
                    <span class="s2">&quot;the pipeline creating model version failed,&quot;</span>
                    <span class="s2">&quot; as an example. You can explore model versions using &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`zenml model version list -n </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` CLI command.&quot;</span>
                <span class="p">)</span>
            <span class="n">retries_made</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">MAX_RETRIES_FOR_VERSIONED_ENTITY_CREATION</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">model_version</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">zenml_client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_model_version</span><span class="p">(</span>
                            <span class="n">model_version</span><span class="o">=</span><span class="n">mv_request</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="k">break</span>
                <span class="k">except</span> <span class="n">EntityExistsError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">MAX_RETRIES_FOR_VERSIONED_ENTITY_CREATION</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Failed to create model version &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;`</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;new&#39;</span><span class="si">}</span><span class="s2">` &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;in model `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Retried </span><span class="si">{</span><span class="n">retries_made</span><span class="si">}</span><span class="s2"> times. &quot;</span>
                            <span class="s2">&quot;This could be driven by exceptionally high concurrency of &quot;</span>
                            <span class="s2">&quot;pipeline runs. Please, reach out to us on ZenML Slack for support.&quot;</span>
                        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
                    <span class="c1"># smoothed exponential back-off, it will go as 0.2, 0.3,</span>
                    <span class="c1"># 0.45, 0.68, 1.01, 1.52, 2.28, 3.42, 5.13, 7.69, ...</span>
                    <span class="n">sleep</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="mf">1.5</span><span class="o">**</span><span class="n">i</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to create new model version for &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;model `</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">`. Retrying in </span><span class="si">{</span><span class="n">sleep</span><span class="si">}</span><span class="s2">...&quot;</span>
                    <span class="p">)</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span>
                    <span class="n">retries_made</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">model_version</span><span class="o">.</span><span class="n">name</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">was_created_in_this_run</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_created_model_version</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Created new model version `</span><span class="si">%s</span><span class="s2">` for model `</span><span class="si">%s</span><span class="s2">`.&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">model_version</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_id</span> <span class="o">=</span> <span class="n">model_version</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="o">=</span> <span class="n">model_version</span><span class="o">.</span><span class="n">number</span>
        <span class="k">return</span> <span class="n">model_version</span>

    <span class="k">def</span> <span class="nf">_merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span> <span class="s2">&quot;Model&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">license</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">license</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">license</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">description</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">audience</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">audience</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">audience</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_cases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_cases</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">use_cases</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limitations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">limitations</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">limitations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trade_offs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">trade_offs</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">trade_offs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ethics</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ethics</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">ethics</span>
        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
                <span class="p">{</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span> <span class="ow">or</span> <span class="p">[]}</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">tags</span><span class="p">))</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get hash of the `Model`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Hash function results</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span>
            <span class="s2">&quot;::&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_prepare_model_version_before_step_launch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pipeline_run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">,</span>
        <span class="n">step_run</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StepRunResponse&quot;</span><span class="p">],</span>
        <span class="n">return_logs</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;StepRunResponse&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prepares model version inside pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            pipeline_run: pipeline run</span>
<span class="sd">            step_run: step run (passed only if model version is defined in a step explicitly)</span>
<span class="sd">            return_logs: whether to return logs or not</span>

<span class="sd">        Returns:</span>
<span class="sd">            Logs related to the Dashboard URL to show later.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>
        <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">PipelineRunUpdate</span><span class="p">,</span> <span class="n">StepRunUpdate</span>

        <span class="n">logs</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># copy Model instance to prevent corrupting configs of the</span>
        <span class="c1"># subsequent runs, if they share the same config object</span>
        <span class="n">self_copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_copy</span><span class="p">()</span>

        <span class="c1"># in case request is within the step and no self-configuration is provided</span>
        <span class="c1"># try reuse what&#39;s in the pipeline run first</span>
        <span class="k">if</span> <span class="n">step_run</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">model_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">self_copy</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">model_version</span><span class="o">.</span><span class="n">name</span>
            <span class="n">self_copy</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span>
        <span class="c1"># otherwise try to fill the templated name, if needed</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">self_copy</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">start_time</span><span class="p">:</span>
                <span class="n">start_time</span> <span class="o">=</span> <span class="n">pipeline_run</span><span class="o">.</span><span class="n">start_time</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
            <span class="n">self_copy</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">format_name_template</span><span class="p">(</span>
                <span class="n">self_copy</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                <span class="n">date</span><span class="o">=</span><span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y_%m_</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">),</span>
                <span class="n">time</span><span class="o">=</span><span class="n">start_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%H_%M_%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">)</span>

        <span class="c1"># if exact model not yet defined - try to get/create and update it</span>
        <span class="c1"># back to the run accordingly</span>
        <span class="k">if</span> <span class="n">self_copy</span><span class="o">.</span><span class="n">model_version_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model_version_response</span> <span class="o">=</span> <span class="n">self_copy</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>

            <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
            <span class="c1"># update the configured model version id in runs accordingly</span>
            <span class="k">if</span> <span class="n">step_run</span><span class="p">:</span>
                <span class="n">step_run</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run_step</span><span class="p">(</span>
                    <span class="n">step_run_id</span><span class="o">=</span><span class="n">step_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">step_run_update</span><span class="o">=</span><span class="n">StepRunUpdate</span><span class="p">(</span>
                        <span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_response</span><span class="o">.</span><span class="n">id</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pipeline_run</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_run</span><span class="p">(</span>
                    <span class="n">run_id</span><span class="o">=</span><span class="n">pipeline_run</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">run_update</span><span class="o">=</span><span class="n">PipelineRunUpdate</span><span class="p">(</span>
                        <span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_response</span><span class="o">.</span><span class="n">id</span>
                    <span class="p">),</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">return_logs</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">zenml.utils.cloud_utils</span> <span class="kn">import</span> <span class="n">try_get_model_version_url</span>

                <span class="k">if</span> <span class="n">logs_to_show</span> <span class="o">:=</span> <span class="n">try_get_model_version_url</span><span class="p">(</span>
                    <span class="n">model_version_response</span>
                <span class="p">):</span>
                    <span class="n">logs</span> <span class="o">=</span> <span class="n">logs_to_show</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logs</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="s2">&quot;Models can be viewed in the dashboard using ZenML Pro. Sign up &quot;</span>
                        <span class="s2">&quot;for a free trial at https://www.zenml.io/pro/&quot;</span>
                    <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model_version_id</span> <span class="o">=</span> <span class="n">self_copy</span><span class="o">.</span><span class="n">model_version_id</span>
        <span class="k">return</span> <span class="n">logs</span><span class="p">,</span> <span class="n">pipeline_run</span><span class="p">,</span> <span class="n">step_run</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_lazy_version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get version name for lazy loader.</span>

<span class="sd">        This getter ensures that new model version</span>
<span class="sd">        creation is never triggered here.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Version name or None if it was not set</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="n">ModelStages</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">value</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.model.model.Model.id" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get version id from the Model Control Plane.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UUID</code></td>
      <td><p>ID of the model version or None, if model version
    doesn't exist and can only be read given current
    config (you used stage name or number as
    a version name).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if model version doesn't exist and
cannot be fetched from the Model Control Plane.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.model.model.Model.model_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_id</span><span class="p">:</span> <span class="n">UUID</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get model id from the Model Control Plane.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>UUID</code></td>
      <td><p>The UUID of the model containing this model version.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.model.model.Model.number" class="doc doc-heading">
<code class="highlight language-python"><span class="n">number</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get version number from  the Model Control Plane.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Number of the model version or None, if model version
    doesn't exist and can only be read given current
    config (you used stage name or number as
    a version name).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>if model version doesn't exist and
cannot be fetched from the Model Control Plane.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.model.model.Model.run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunMetadataResponse</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get model version run metadata.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, RunMetadataResponse]</code></td>
      <td><p>The model version run metadata.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the model version run metadata cannot be fetched.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.model.model.Model.stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="n">ModelStages</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get version stage from  the Model Control Plane.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.enums.ModelStages]</code></td>
      <td><p>Stage of the model version or None, if model version
    doesn't exist and can only be read given current
    config (you used stage name or number as
    a version name).</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.__eq__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Check two Models for equality.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>other</code></td>
        <td><code>object</code></td>
        <td><p>object to compare with</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True, if equal, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check two Models for equality.</span>

<span class="sd">    Args:</span>
<span class="sd">        other: object to compare with</span>

<span class="sd">    Returns:</span>
<span class="sd">        True, if equal, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Model</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">version</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="n">self_mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
    <span class="n">other_mv</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">self_mv</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">other_mv</span><span class="o">.</span><span class="n">id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.__hash__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get hash of the <code>Model</code>.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Hash function results</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get hash of the `Model`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Hash function results</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span>
        <span class="s2">&quot;::&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.delete_all_artifacts" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_all_artifacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">only_link</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_from_artifact_store</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete all artifacts linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>only_link</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to only delete the link to the artifact.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>delete_from_artifact_store</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to delete the artifact from
the artifact store.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_all_artifacts</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">only_link</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">delete_from_artifact_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete all artifacts linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        only_link: Whether to only delete the link to the artifact.</span>
<span class="sd">        delete_from_artifact_store: Whether to delete the artifact from</span>
<span class="sd">            the artifact store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">only_link</span> <span class="ow">and</span> <span class="n">delete_from_artifact_store</span><span class="p">:</span>
        <span class="n">mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_model_version</span><span class="p">()</span>
        <span class="n">artifact_responses</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="n">data_artifacts</span>
        <span class="n">artifact_responses</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">mv</span><span class="o">.</span><span class="n">model_artifacts</span><span class="p">)</span>
        <span class="n">artifact_responses</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">mv</span><span class="o">.</span><span class="n">deployment_artifacts</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">artifact_</span> <span class="ow">in</span> <span class="n">artifact_responses</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">artifact_response_</span> <span class="ow">in</span> <span class="n">artifact_</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">client</span><span class="o">.</span><span class="n">_delete_artifact_from_artifact_store</span><span class="p">(</span>
                    <span class="n">artifact_version</span><span class="o">=</span><span class="n">artifact_response_</span>
                <span class="p">)</span>

    <span class="n">client</span><span class="o">.</span><span class="n">delete_all_model_version_artifact_links</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">only_link</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.delete_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">only_link</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_from_artifact_store</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Delete the artifact linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the artifact to delete.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the artifact to delete (None for
latest/non-versioned)</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>only_link</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to only delete the link to the artifact.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>delete_metadata</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to delete the metadata of the artifact.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>delete_from_artifact_store</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to delete the artifact from the
artifact store.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">only_link</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">delete_metadata</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">delete_from_artifact_store</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete the artifact linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the artifact to delete.</span>
<span class="sd">        version: The version of the artifact to delete (None for</span>
<span class="sd">            latest/non-versioned)</span>
<span class="sd">        only_link: Whether to only delete the link to the artifact.</span>
<span class="sd">        delete_metadata: Whether to delete the metadata of the artifact.</span>
<span class="sd">        delete_from_artifact_store: Whether to delete the artifact from the</span>
<span class="sd">            artifact store.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>
    <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ArtifactVersionResponse</span>

    <span class="n">artifact_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
        <span class="n">client</span><span class="o">.</span><span class="n">delete_model_version_artifact_link</span><span class="p">(</span>
            <span class="n">model_version_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">artifact_version_id</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">only_link</span><span class="p">:</span>
            <span class="n">client</span><span class="o">.</span><span class="n">delete_artifact_version</span><span class="p">(</span>
                <span class="n">name_id_or_prefix</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">delete_metadata</span><span class="o">=</span><span class="n">delete_metadata</span><span class="p">,</span>
                <span class="n">delete_from_artifact_store</span><span class="o">=</span><span class="n">delete_from_artifact_store</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.get_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the artifact linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the artifact to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the artifact to retrieve (None for
latest/non-versioned)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ArtifactVersionResponse]</code></td>
      <td><p>Specific version of the artifact or placeholder in the design time
    of the pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the artifact linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the artifact to retrieve.</span>
<span class="sd">        version: The version of the artifact to retrieve (None for</span>
<span class="sd">            latest/non-versioned)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Specific version of the artifact or placeholder in the design time</span>
<span class="sd">            of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lazy</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.get_data_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_data_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the data artifact linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the data artifact to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the data artifact to retrieve (None for
latest/non-versioned)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ArtifactVersionResponse]</code></td>
      <td><p>Specific version of the data artifact or placeholder in the design
time of the pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_data_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the data artifact linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the data artifact to retrieve.</span>
<span class="sd">        version: The version of the data artifact to retrieve (None for</span>
<span class="sd">            latest/non-versioned)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Specific version of the data artifact or placeholder in the design</span>
<span class="sd">        time of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lazy</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_data_artifact</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.get_deployment_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_deployment_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the deployment artifact linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the deployment artifact to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the deployment artifact to retrieve (None
for latest/non-versioned)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ArtifactVersionResponse]</code></td>
      <td><p>Specific version of the deployment artifact or placeholder in the
design time of the pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_deployment_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the deployment artifact linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the deployment artifact to retrieve.</span>
<span class="sd">        version: The version of the deployment artifact to retrieve (None</span>
<span class="sd">            for latest/non-versioned)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Specific version of the deployment artifact or placeholder in the</span>
<span class="sd">        design time of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lazy</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_deployment_artifact</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.get_model_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_model_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get the model artifact linked to this model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the model artifact to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The version of the model artifact to retrieve (None for
latest/non-versioned)</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ArtifactVersionResponse]</code></td>
      <td><p>Specific version of the model artifact or placeholder in the design
    time of the pipeline.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_model_artifact</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ArtifactVersionResponse&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the model artifact linked to this model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the model artifact to retrieve.</span>
<span class="sd">        version: The version of the model artifact to retrieve (None for</span>
<span class="sd">            latest/non-versioned)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Specific version of the model artifact or placeholder in the design</span>
<span class="sd">            time of the pipeline.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">lazy</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_artifact_get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lazy</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_model_artifact</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.get_pipeline_run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get pipeline run linked to this version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the pipeline run to retrieve.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>PipelineRunResponse</code></td>
      <td><p>PipelineRun as PipelineRunResponse</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get pipeline run linked to this version.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the pipeline run to retrieve.</span>

<span class="sd">    Returns:</span>
<span class="sd">        PipelineRun as PipelineRunResponse</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">get_pipeline_run</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.load_artifact" class="doc doc-heading">
<code class="highlight language-python"><span class="n">load_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Load artifact from the Model Control Plane.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the artifact to load.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Version of the artifact to load.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>The loaded artifact.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if the model version is not linked to any artifact with
the given name and version.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_artifact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Load artifact from the Model Control Plane.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: Name of the artifact to load.</span>
<span class="sd">        version: Version of the artifact to load.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The loaded artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the model version is not linked to any artifact with</span>
<span class="sd">            the given name and version.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.artifacts.utils</span> <span class="kn">import</span> <span class="n">load_artifact</span>
    <span class="kn">from</span> <span class="nn">zenml.models</span> <span class="kn">import</span> <span class="n">ArtifactVersionResponse</span>

    <span class="n">artifact</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_artifact</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">artifact</span><span class="p">,</span> <span class="n">ArtifactVersionResponse</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Version </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2"> of model </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not have &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;an artifact with name </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> and version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">load_artifact</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">artifact</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.log_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metadata</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Log model version metadata.</p>
<p>This function can be used to log metadata for current model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Dict[str, MetadataType]</code></td>
        <td><p>The metadata to log.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">log_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log model version metadata.</span>

<span class="sd">    This function can be used to log metadata for current model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata to log.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.client</span> <span class="kn">import</span> <span class="n">Client</span>

    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
    <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">create_run_metadata</span><span class="p">(</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">MetadataResourceTypes</span><span class="o">.</span><span class="n">MODEL_VERSION</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.model_post_init" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="o">/</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>This function is meant to behave like a BaseModel method to initialise private attributes.</p>
<p>It takes context as an argument since that's what pydantic-core passes when calling it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>BaseModel</code></td>
        <td><p>The BaseModel instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td><code>Any</code></td>
        <td><p>The context.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">init_private_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function is meant to behave like a BaseModel method to initialise private attributes.</span>

<span class="sd">    It takes context as an argument since that&#39;s what pydantic-core passes when calling it.</span>

<span class="sd">    Args:</span>
<span class="sd">        self: The BaseModel instance.</span>
<span class="sd">        context: The context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pydantic_private</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">private_attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">private_attr</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">PydanticUndefined</span><span class="p">:</span>
                <span class="n">pydantic_private</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
        <span class="n">object_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="n">pydantic_private</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.model.model.Model.set_stage" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_stage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Sets this Model to a desired stage.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>stage</code></td>
        <td><code>Union[str, zenml.enums.ModelStages]</code></td>
        <td><p>the target stage for model version.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>whether to force archiving of current model version in
target stage or raise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/model.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">set_stage</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">stage</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModelStages</span><span class="p">],</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets this Model to a desired stage.</span>

<span class="sd">    Args:</span>
<span class="sd">        stage: the target stage for model version.</span>
<span class="sd">        force: whether to force archiving of current model version in</span>
<span class="sd">            target stage or raise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">set_stage</span><span class="p">(</span><span class="n">stage</span><span class="o">=</span><span class="n">stage</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.model.utils" class="doc doc-heading">
        <code>utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility functions for linking step outputs to model versions.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.model.utils.link_artifact_to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">link_artifact_to_model</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_model_artifact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_deployment_artifact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Link the artifact to the model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact version to link.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>Optional[Model]</code></td>
        <td><p>The model to link to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>is_model_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the artifact is a model artifact.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>is_deployment_artifact</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the artifact is a deployment artifact.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If called outside of a step.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">link_artifact_to_model</span><span class="p">(</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">ArtifactVersionResponse</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_model_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">is_deployment_artifact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Link the artifact to the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version: The artifact version to link.</span>
<span class="sd">        model: The model to link to.</span>
<span class="sd">        is_model_artifact: Whether the artifact is a model artifact.</span>
<span class="sd">        is_deployment_artifact: Whether the artifact is a deployment artifact.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If called outside of a step.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="p">:</span>
        <span class="n">is_issue</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model</span>
        <span class="k">except</span> <span class="n">StepContextError</span><span class="p">:</span>
            <span class="n">is_issue</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">model</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">is_issue</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;`link_artifact_to_model` called without `model` parameter &quot;</span>
                <span class="s2">&quot;and configured model context cannot be identified. Consider &quot;</span>
                <span class="s2">&quot;passing the `model` explicitly or configuring it in &quot;</span>
                <span class="s2">&quot;@step or @pipeline decorator.&quot;</span>
            <span class="p">)</span>

    <span class="n">model_version</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span>
    <span class="n">artifact_config</span> <span class="o">=</span> <span class="n">ArtifactConfig</span><span class="p">(</span>
        <span class="n">is_model_artifact</span><span class="o">=</span><span class="n">is_model_artifact</span><span class="p">,</span>
        <span class="n">is_deployment_artifact</span><span class="o">=</span><span class="n">is_deployment_artifact</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">link_artifact_version_to_model_version</span><span class="p">(</span>
        <span class="n">artifact_version</span><span class="o">=</span><span class="n">artifact_version</span><span class="p">,</span>
        <span class="n">model_version</span><span class="o">=</span><span class="n">model_version</span><span class="p">,</span>
        <span class="n">artifact_config</span><span class="o">=</span><span class="n">artifact_config</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.model.utils.link_artifact_version_to_model_version" class="doc doc-heading">
<code class="highlight language-python"><span class="n">link_artifact_version_to_model_version</span><span class="p">(</span><span class="n">artifact_version</span><span class="p">,</span> <span class="n">model_version</span><span class="p">,</span> <span class="n">artifact_config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Link an artifact version to a model version.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>artifact_version</code></td>
        <td><code>ArtifactVersionResponse</code></td>
        <td><p>The artifact version to link.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_version</code></td>
        <td><code>ModelVersionResponse</code></td>
        <td><p>The model version to link.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>artifact_config</code></td>
        <td><code>Optional[zenml.artifacts.artifact_config.ArtifactConfig]</code></td>
        <td><p>Output artifact configuration.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">link_artifact_version_to_model_version</span><span class="p">(</span>
    <span class="n">artifact_version</span><span class="p">:</span> <span class="n">ArtifactVersionResponse</span><span class="p">,</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">ModelVersionResponse</span><span class="p">,</span>
    <span class="n">artifact_config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ArtifactConfig</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Link an artifact version to a model version.</span>

<span class="sd">    Args:</span>
<span class="sd">        artifact_version: The artifact version to link.</span>
<span class="sd">        model_version: The model version to link.</span>
<span class="sd">        artifact_config: Output artifact configuration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">artifact_config</span><span class="p">:</span>
        <span class="n">is_model_artifact</span> <span class="o">=</span> <span class="n">artifact_config</span><span class="o">.</span><span class="n">is_model_artifact</span>
        <span class="n">is_deployment_artifact</span> <span class="o">=</span> <span class="n">artifact_config</span><span class="o">.</span><span class="n">is_deployment_artifact</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">is_model_artifact</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">is_deployment_artifact</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
    <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">create_model_version_artifact_link</span><span class="p">(</span>
        <span class="n">ModelVersionArtifactRequest</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">artifact_version</span><span class="o">=</span><span class="n">artifact_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model_version</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">model_version</span><span class="o">=</span><span class="n">model_version</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">is_model_artifact</span><span class="o">=</span><span class="n">is_model_artifact</span><span class="p">,</span>
            <span class="n">is_deployment_artifact</span><span class="o">=</span><span class="n">is_deployment_artifact</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.model.utils.link_service_to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">link_service_to_model</span><span class="p">(</span><span class="n">service_id</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_version_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Links a service to a model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the service to link to the model.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model</code></td>
        <td><code>Optional[Model]</code></td>
        <td><p>The model to link the service to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_version_id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the model version to link the service to.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If no model is provided and the model context cannot be
identified.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">link_service_to_model</span><span class="p">(</span>
    <span class="n">service_id</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Links a service to a model.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_id: The ID of the service to link to the model.</span>
<span class="sd">        model: The model to link the service to.</span>
<span class="sd">        model_version_id: The ID of the model version to link the service to.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If no model is provided and the model context cannot be</span>
<span class="sd">            identified.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>

    <span class="c1"># If no model is provided, try to get it from the context</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">model</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">model_version_id</span><span class="p">:</span>
        <span class="n">is_issue</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model</span>
        <span class="k">except</span> <span class="n">StepContextError</span><span class="p">:</span>
            <span class="n">is_issue</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">model</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">is_issue</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;`link_service_to_model` called without `model` parameter &quot;</span>
                <span class="s2">&quot;and configured model context cannot be identified. Consider &quot;</span>
                <span class="s2">&quot;passing the `model` explicitly or configuring it in &quot;</span>
                <span class="s2">&quot;@step or @pipeline decorator.&quot;</span>
            <span class="p">)</span>

    <span class="n">model_version_id</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">model_version_id</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_or_create_model_version</span><span class="p">()</span><span class="o">.</span><span class="n">id</span>
        <span class="k">if</span> <span class="n">model</span>
        <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>
    <span class="n">update_service</span> <span class="o">=</span> <span class="n">ServiceUpdate</span><span class="p">(</span><span class="n">model_version_id</span><span class="o">=</span><span class="n">model_version_id</span><span class="p">)</span>
    <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span><span class="o">.</span><span class="n">update_service</span><span class="p">(</span>
        <span class="n">service_id</span><span class="o">=</span><span class="n">service_id</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="n">update_service</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.model.utils.log_model_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">log_model_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">model_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Log model version metadata.</p>
<p>This function can be used to log metadata for existing model versions.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>metadata</code></td>
        <td><code>Dict[str, MetadataType]</code></td>
        <td><p>The metadata to log.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>model_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the model to log metadata for. Can
be omitted when being called inside a step with configured
<code>model</code> in decorator.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>model_version</code></td>
        <td><code>Union[zenml.enums.ModelStages, int, str]</code></td>
        <td><p>The version of the model to log metadata for. Can
be omitted when being called inside a step with configured
<code>model</code> in decorator.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If no model name/version is provided and the function is not
called inside a step with configured <code>model</code> in decorator.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/model/utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">log_model_metadata</span><span class="p">(</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">],</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">ModelStages</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Log model version metadata.</span>

<span class="sd">    This function can be used to log metadata for existing model versions.</span>

<span class="sd">    Args:</span>
<span class="sd">        metadata: The metadata to log.</span>
<span class="sd">        model_name: The name of the model to log metadata for. Can</span>
<span class="sd">            be omitted when being called inside a step with configured</span>
<span class="sd">            `model` in decorator.</span>
<span class="sd">        model_version: The version of the model to log metadata for. Can</span>
<span class="sd">            be omitted when being called inside a step with configured</span>
<span class="sd">            `model` in decorator.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If no model name/version is provided and the function is not</span>
<span class="sd">            called inside a step with configured `model` in decorator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">model_name</span> <span class="ow">and</span> <span class="n">model_version</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml</span> <span class="kn">import</span> <span class="n">Model</span>

        <span class="n">mv</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">model_version</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">step_context</span> <span class="o">=</span> <span class="n">get_step_context</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Model name and version must be provided unless the function is &quot;</span>
                <span class="s2">&quot;called inside a step with configured `model` in decorator.&quot;</span>
            <span class="p">)</span>
        <span class="n">mv</span> <span class="o">=</span> <span class="n">step_context</span><span class="o">.</span><span class="n">model</span>

    <span class="n">mv</span><span class="o">.</span><span class="n">log_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-metadata/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Metadata" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Metadata
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-model_deployers/" class="md-footer__link md-footer__link--next" aria-label="Next: Model Deployers" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Model Deployers
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>