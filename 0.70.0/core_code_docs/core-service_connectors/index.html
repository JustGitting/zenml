
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.70.0/core_code_docs/core-service_connectors/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Service Connectors - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#service-connectors" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Service Connectors
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-login/" class="md-nav__link">
        Login
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Service Connectors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Service Connectors
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector" class="md-nav__link">
    docker_service_connector
  </a>
  
    <nav class="md-nav" aria-label="docker_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerAuthenticationMethods" class="md-nav__link">
    DockerAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerConfiguration" class="md-nav__link">
    DockerConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerCredentials" class="md-nav__link">
    DockerCredentials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerServiceConnector" class="md-nav__link">
    DockerServiceConnector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector" class="md-nav__link">
    service_connector
  </a>
  
    <nav class="md-nav" aria-label="service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig" class="md-nav__link">
    AuthenticationConfig
  </a>
  
    <nav class="md-nav" aria-label="AuthenticationConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.all_values" class="md-nav__link">
    all_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.non_secret_values" class="md-nav__link">
    non_secret_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.secret_values" class="md-nav__link">
    secret_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector" class="md-nav__link">
    ServiceConnector
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.supported_resource_types" class="md-nav__link">
    supported_resource_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.auto_configure" class="md-nav__link">
    auto_configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.configure_local_client" class="md-nav__link">
    configure_local_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.get_connector_client" class="md-nav__link">
    get_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.get_type" class="md-nav__link">
    get_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.has_expired" class="md-nav__link">
    has_expired()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.to_response_model" class="md-nav__link">
    to_response_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.validate_runtime_args" class="md-nav__link">
    validate_runtime_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.verify" class="md-nav__link">
    verify()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnectorMeta" class="md-nav__link">
    ServiceConnectorMeta
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnectorMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry" class="md-nav__link">
    service_connector_registry
  </a>
  
    <nav class="md-nav" aria-label="service_connector_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry" class="md-nav__link">
    ServiceConnectorRegistry
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.instantiate_connector" class="md-nav__link">
    instantiate_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.is_registered" class="md-nav__link">
    is_registered()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_builtin_service_connectors" class="md-nav__link">
    register_builtin_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_service_connector_type" class="md-nav__link">
    register_service_connector_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_utils" class="md-nav__link">
    service_connector_utils
  </a>
  
    <nav class="md-nav" aria-label="service_connector_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_utils.get_resources_options_from_resource_model_for_full_stack" class="md-nav__link">
    get_resources_options_from_resource_model_for_full_stack()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-azure/" class="md-nav__link">
        Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-lightning/" class="md-nav__link">
        Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-numpy/" class="md-nav__link">
        Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_kubernetes/" class="md-nav__link">
        Skypilot Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-vllm/" class="md-nav__link">
        Vllm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integration_code_docs/integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector" class="md-nav__link">
    docker_service_connector
  </a>
  
    <nav class="md-nav" aria-label="docker_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerAuthenticationMethods" class="md-nav__link">
    DockerAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerConfiguration" class="md-nav__link">
    DockerConfiguration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerCredentials" class="md-nav__link">
    DockerCredentials
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.docker_service_connector.DockerServiceConnector" class="md-nav__link">
    DockerServiceConnector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector" class="md-nav__link">
    service_connector
  </a>
  
    <nav class="md-nav" aria-label="service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig" class="md-nav__link">
    AuthenticationConfig
  </a>
  
    <nav class="md-nav" aria-label="AuthenticationConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.all_values" class="md-nav__link">
    all_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.non_secret_values" class="md-nav__link">
    non_secret_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.AuthenticationConfig.secret_values" class="md-nav__link">
    secret_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector" class="md-nav__link">
    ServiceConnector
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.supported_resource_types" class="md-nav__link">
    supported_resource_types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.auto_configure" class="md-nav__link">
    auto_configure()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.configure_local_client" class="md-nav__link">
    configure_local_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.connect" class="md-nav__link">
    connect()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.from_model" class="md-nav__link">
    from_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.get_connector_client" class="md-nav__link">
    get_connector_client()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.get_type" class="md-nav__link">
    get_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.has_expired" class="md-nav__link">
    has_expired()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.to_model" class="md-nav__link">
    to_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.to_response_model" class="md-nav__link">
    to_response_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.validate_runtime_args" class="md-nav__link">
    validate_runtime_args()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnector.verify" class="md-nav__link">
    verify()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnectorMeta" class="md-nav__link">
    ServiceConnectorMeta
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorMeta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector.ServiceConnectorMeta.__new__" class="md-nav__link">
    __new__()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry" class="md-nav__link">
    service_connector_registry
  </a>
  
    <nav class="md-nav" aria-label="service_connector_registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry" class="md-nav__link">
    ServiceConnectorRegistry
  </a>
  
    <nav class="md-nav" aria-label="ServiceConnectorRegistry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__getitem__" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.get_service_connector_type" class="md-nav__link">
    get_service_connector_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.instantiate_connector" class="md-nav__link">
    instantiate_connector()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.is_registered" class="md-nav__link">
    is_registered()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.list_service_connector_types" class="md-nav__link">
    list_service_connector_types()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_builtin_service_connectors" class="md-nav__link">
    register_builtin_service_connectors()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_service_connector_type" class="md-nav__link">
    register_service_connector_type()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_utils" class="md-nav__link">
    service_connector_utils
  </a>
  
    <nav class="md-nav" aria-label="service_connector_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.service_connectors.service_connector_utils.get_resources_options_from_resource_model_for_full_stack" class="md-nav__link">
    get_resources_options_from_resource_model_for_full_stack()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/core_code_docs/core-service_connectors.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="service-connectors">Service Connectors</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.service_connectors" class="doc doc-heading">
        <code>zenml.service_connectors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>ZenML Service Connectors.</p>



  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h3 id="zenml.service_connectors.docker_service_connector" class="doc doc-heading">
        <code>docker_service_connector</code>



</h3>

    <div class="doc doc-contents ">

      <p>Docker Service Connector.</p>
<p>The Docker Service Connector is responsible for authenticating with a Docker
(or compatible) registry.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.docker_service_connector.DockerAuthenticationMethods" class="doc doc-heading">
        <code>
DockerAuthenticationMethods            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Docker Authentication methods.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/docker_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerAuthenticationMethods</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker Authentication methods.&quot;&quot;&quot;</span>

    <span class="n">PASSWORD</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">













  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.docker_service_connector.DockerConfiguration" class="doc doc-heading">
        <code>
DockerConfiguration            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.docker_service_connector.DockerCredentials" href="#zenml.service_connectors.docker_service_connector.DockerCredentials">DockerCredentials</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Docker client configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/docker_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerConfiguration</span><span class="p">(</span><span class="n">DockerCredentials</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker client configuration.&quot;&quot;&quot;</span>

    <span class="n">registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Registry server URL. Omit to use DockerHub.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.docker_service_connector.DockerCredentials" class="doc doc-heading">
        <code>
DockerCredentials            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.AuthenticationConfig" href="#zenml.service_connectors.service_connector.AuthenticationConfig">AuthenticationConfig</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Docker client authentication credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/docker_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerCredentials</span><span class="p">(</span><span class="n">AuthenticationConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker client authentication credentials.&quot;&quot;&quot;</span>

    <span class="n">username</span><span class="p">:</span> <span class="n">PlainSerializedSecretStr</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Username&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">PlainSerializedSecretStr</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Password&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.docker_service_connector.DockerServiceConnector" class="doc doc-heading">
        <code>
DockerServiceConnector            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.ServiceConnector" href="#zenml.service_connectors.service_connector.ServiceConnector">ServiceConnector</a>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Docker service connector.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/docker_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DockerServiceConnector</span><span class="p">(</span><span class="n">ServiceConnector</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docker service connector.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">DockerConfiguration</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_connector_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the service connector specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service connector specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DOCKER_SERVICE_CONNECTOR_TYPE_SPEC</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_parse_resource_id</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate and convert a Docker resource ID into a Docker registry name.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The resource ID to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Docker registry name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided resource ID is not a valid Docker</span>
<span class="sd">                registry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^(https?://)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(:[0-9]+)?(/.+)*$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is a repository URL</span>
            <span class="k">if</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
                <span class="s2">&quot;http://&quot;</span>
            <span class="p">):</span>
                <span class="n">registry</span> <span class="o">=</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">registry</span> <span class="o">=</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid resource ID for a Docker registry: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please provide a valid repository name or URL in the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;following format:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;DockerHub: docker.io or [https://]index.docker.io/v1/[/&lt;repository-name&gt;]&quot;</span>
                <span class="s2">&quot;generic OCI registry URI: http[s]://host[:port][/&lt;repository-name&gt;]&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">registry</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;index.</span><span class="si">{</span><span class="n">DOCKER_REGISTRY_NAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
            <span class="n">registry</span> <span class="o">=</span> <span class="n">DOCKER_REGISTRY_NAME</span>
        <span class="k">return</span> <span class="n">registry</span>

    <span class="k">def</span> <span class="nf">_canonical_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a resource ID to its canonical form.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The resource type to canonicalize.</span>
<span class="sd">            resource_id: The resource ID to canonicalize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The canonical resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_resource_id</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_default_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default resource ID for a resource type.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to get a default resource ID</span>
<span class="sd">                for. Only called with resource types that do not support</span>
<span class="sd">                multiple instances.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default resource ID for the resource type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canonical_resource_id</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">registry</span> <span class="ow">or</span> <span class="n">DOCKER_REGISTRY_NAME</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_authorize_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authorize a Docker client to have access to the configured Docker registry.</span>

<span class="sd">        Args:</span>
<span class="sd">            docker_client: The Docker client to authenticate.</span>
<span class="sd">            resource_id: The resource ID to authorize the client for.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the client could not be authenticated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_resource_id</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">docker_client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span>
                <span class="n">username</span><span class="o">=</span><span class="n">cfg</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                <span class="n">password</span><span class="o">=</span><span class="n">cfg</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                <span class="n">registry</span><span class="o">=</span><span class="n">registry</span>
                <span class="k">if</span> <span class="n">registry</span> <span class="o">!=</span> <span class="n">DOCKER_REGISTRY_NAME</span>
                <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">reauth</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">DockerException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;failed to authenticate with Docker registry </span><span class="si">{</span><span class="n">registry</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_connect_to_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate and connect to a Docker/OCI registry.</span>

<span class="sd">        Initialize, authenticate and return a python-docker client.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to pass</span>
<span class="sd">                to the session or client constructor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An authenticated python-docker client object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="c1"># The reason we need to configure the local client here instead of</span>
        <span class="c1"># using the `docker_client.login(...)` method is the following:</span>
        <span class="c1"># When calling the login method on the python client, it stores the</span>
        <span class="c1"># credentials in memory, but doesn&#39;t actually use them in future calls</span>
        <span class="c1"># to push/pull images in case a credential store or credential helper is</span>
        <span class="c1"># configured. If the cred store/helper contains invalid/expired</span>
        <span class="c1"># credentials for the registry, these calls will fail.</span>
        <span class="c1"># This solution is not ideal as we&#39;re now replacing potentially</span>
        <span class="c1"># long-lived credentials in the cred store with our short lived ones,</span>
        <span class="c1"># but the best we can do without modifying the docker library.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_configure_local_client</span><span class="p">()</span>
        <span class="n">docker_client</span> <span class="o">=</span> <span class="n">docker_utils</span><span class="o">.</span><span class="n">_try_get_docker_client_from_env</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_authorize_client</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">docker_client</span>

    <span class="k">def</span> <span class="nf">_configure_local_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure the local Docker client to authenticate to a Docker/OCI registry.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Call the docker CLI to authenticate to the Docker registry</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">)</span>

        <span class="n">docker_login_cmd</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;docker&quot;</span><span class="p">,</span>
            <span class="s2">&quot;login&quot;</span><span class="p">,</span>
            <span class="s2">&quot;-u&quot;</span><span class="p">,</span>
            <span class="n">cfg</span><span class="o">.</span><span class="n">username</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
            <span class="s2">&quot;--password-stdin&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">registry</span> <span class="o">!=</span> <span class="n">DOCKER_REGISTRY_NAME</span><span class="p">:</span>
            <span class="n">docker_login_cmd</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">registry</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
                <span class="n">docker_login_cmd</span><span class="p">,</span>
                <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="nb">input</span><span class="o">=</span><span class="n">cfg</span><span class="o">.</span><span class="n">password</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to authenticate to Docker registry &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_auto_configure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;DockerServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Auto-configure the connector.</span>

<span class="sd">        Not supported by the Docker connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The particular authentication method to use. If not</span>
<span class="sd">                specified, the connector implementation must decide which</span>
<span class="sd">                authentication method to use or raise an exception.</span>
<span class="sd">            resource_type: The type of resource to configure.</span>
<span class="sd">            resource_id: The ID of the resource to configure. The</span>
<span class="sd">                implementation may choose to either require or ignore this</span>
<span class="sd">                parameter if it does not support or detect an resource type that</span>
<span class="sd">                supports multiple instances.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector auto-configuration fails or</span>
<span class="sd">                is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="s2">&quot;Auto-configuration is not supported by the Docker connector.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify that the connector can authenticate and access resources.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of resource to verify. Must be set to the</span>
<span class="sd">                Docker resource type.</span>
<span class="sd">            resource_id: The Docker registry name or URL to connect to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the Docker registry that this connector can access.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The docker server isn&#39;t available on the ZenML server, so we can&#39;t</span>
        <span class="c1"># verify the credentials there.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">docker_client</span> <span class="o">=</span> <span class="n">DockerClient</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">DockerException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to connect to Docker daemon: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Skipping Docker connector verification.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_authorize_client</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">)</span>
            <span class="n">docker_client</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">]</span> <span class="k">if</span> <span class="n">resource_id</span> <span class="k">else</span> <span class="p">[]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.service_connectors.service_connector" class="doc doc-heading">
        <code>service_connector</code>



</h3>

    <div class="doc doc-contents ">

      <p>Base ZenML Service Connector class.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.service_connector.AuthenticationConfig" class="doc doc-heading">
        <code>
AuthenticationConfig            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base authentication configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AuthenticationConfig</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base authentication configuration.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">secret_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SecretStr</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the secret values as a dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of all secret values in the configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">SecretStr</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">non_secret_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the non-secret values as a dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of all non-secret values in the configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">SecretStr</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">all_values</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all values as a dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of all values in the configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.service_connectors.service_connector.AuthenticationConfig.all_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">all_values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get all values as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>A dictionary of all values in the configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-attribute">



<h5 id="zenml.service_connectors.service_connector.AuthenticationConfig.non_secret_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">non_secret_values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the non-secret values as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, str]</code></td>
      <td><p>A dictionary of all non-secret values in the configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.service_connectors.service_connector.AuthenticationConfig.secret_values" class="doc doc-heading">
<code class="highlight language-python"><span class="n">secret_values</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">SecretStr</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the secret values as a dictionary.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, pydantic.types.SecretStr]</code></td>
      <td><p>A dictionary of all secret values in the configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.service_connector.ServiceConnector" class="doc doc-heading">
        <code>
ServiceConnector            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Base service connector class.</p>
<p>Service connectors are standalone components that can be used to link ZenML
to external resources. They are responsible for validating and storing
authentication configuration and sensitive credentials and for providing
authentication services to other ZenML components. Service connectors are
built on top of the (otherwise opaque) ZenML secrets and secrets store
mechanisms and add secret auto-configuration, secret discovery and secret
schema validation capabilities.</p>
<p>The implementation independent service connector abstraction is made
possible through the use of generic "resource types" and "resource IDs".
These constitute the "contract" between connectors and the consumers of the
authentication services that they provide. In a nutshell, a connector
instance advertises what resource(s) it can be used to gain access to,
whereas a consumer may run a query to search for compatible connectors by
specifying the resource(s) that they need to access and then use a
matching connector instance to connect to said resource(s).</p>
<p>The resource types and authentication methods supported by a connector are
declared in the connector type specification. The role of this specification
is two-fold:</p>
<ul>
<li>it declares a schema for the configuration that needs to be provided to
configure the connector. This can be used to validate the configuration
without having to instantiate the connector itself (e.g. in the CLI and
dashboard), which also makes it possible to configure connectors and
store their configuration without having to instantiate them.</li>
<li>it provides a way for ZenML to keep a registry of available connector
implementations and configured connector instances. Users who want to
connect ZenML to external resources via connectors can use this registry
to discover what types of connectors are available and what types of
resources they can be configured to access. Consumers can also use the
registry to find connector instances that are compatible with the
types of resources that they need to access.</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceConnector</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">ServiceConnectorMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base service connector class.</span>

<span class="sd">    Service connectors are standalone components that can be used to link ZenML</span>
<span class="sd">    to external resources. They are responsible for validating and storing</span>
<span class="sd">    authentication configuration and sensitive credentials and for providing</span>
<span class="sd">    authentication services to other ZenML components. Service connectors are</span>
<span class="sd">    built on top of the (otherwise opaque) ZenML secrets and secrets store</span>
<span class="sd">    mechanisms and add secret auto-configuration, secret discovery and secret</span>
<span class="sd">    schema validation capabilities.</span>

<span class="sd">    The implementation independent service connector abstraction is made</span>
<span class="sd">    possible through the use of generic &quot;resource types&quot; and &quot;resource IDs&quot;.</span>
<span class="sd">    These constitute the &quot;contract&quot; between connectors and the consumers of the</span>
<span class="sd">    authentication services that they provide. In a nutshell, a connector</span>
<span class="sd">    instance advertises what resource(s) it can be used to gain access to,</span>
<span class="sd">    whereas a consumer may run a query to search for compatible connectors by</span>
<span class="sd">    specifying the resource(s) that they need to access and then use a</span>
<span class="sd">    matching connector instance to connect to said resource(s).</span>

<span class="sd">    The resource types and authentication methods supported by a connector are</span>
<span class="sd">    declared in the connector type specification. The role of this specification</span>
<span class="sd">    is two-fold:</span>

<span class="sd">    - it declares a schema for the configuration that needs to be provided to</span>
<span class="sd">    configure the connector. This can be used to validate the configuration</span>
<span class="sd">    without having to instantiate the connector itself (e.g. in the CLI and</span>
<span class="sd">    dashboard), which also makes it possible to configure connectors and</span>
<span class="sd">    store their configuration without having to instantiate them.</span>
<span class="sd">    - it provides a way for ZenML to keep a registry of available connector</span>
<span class="sd">    implementations and configured connector instances. Users who want to</span>
<span class="sd">    connect ZenML to external resources via connectors can use this registry</span>
<span class="sd">    to discover what types of connectors are available and what types of</span>
<span class="sd">    resources they can be configured to access. Consumers can also use the</span>
<span class="sd">    registry to find connector instances that are compatible with the</span>
<span class="sd">    types of resources that they need to access.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">expires_skew_tolerance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">expiration_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">AuthenticationConfig</span>
    <span class="n">allow_implicit_auth_methods</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="n">_TYPE</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a new service connector instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional keyword arguments to pass to the base class</span>
<span class="sd">                constructor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># Convert the resource ID to its canonical form. For resource types</span>
        <span class="c1"># that don&#39;t support multiple instances:</span>
        <span class="c1"># - if a resource ID is not provided, we use the default resource ID for</span>
        <span class="c1"># the resource type</span>
        <span class="c1"># - if a resource ID is provided, we verify that it matches the default</span>
        <span class="c1"># resource ID for the resource type</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_resource_id</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Authorization error validating resource ID &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span><span class="s2"> for resource type &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="c1"># Log an exception if debug logging is enabled</span>
                <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_get_connector_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the connector type specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The connector type specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_canonical_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a resource ID to its canonical form.</span>

<span class="sd">        This method is used to canonicalize the resource ID before it is</span>
<span class="sd">        stored in the connector instance. The default implementation simply</span>
<span class="sd">        returns the supplied resource ID as-is.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The resource type to canonicalize.</span>
<span class="sd">            resource_id: The resource ID to canonicalize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The canonical resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">resource_id</span>

    <span class="k">def</span> <span class="nf">_get_default_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default resource ID for a resource type.</span>

<span class="sd">        Service connector implementations must override this method and provide</span>
<span class="sd">        a default resource ID for resources that do not support multiple</span>
<span class="sd">        instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to get a default resource ID</span>
<span class="sd">                for. Only called with resource types that do not support</span>
<span class="sd">                multiple instances.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the resource type does not support multiple</span>
<span class="sd">                instances and the connector implementation did not provide a</span>
<span class="sd">                default resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If a resource type does not support multiple instances, raise an</span>
        <span class="c1"># exception; the connector implementation must override this method and</span>
        <span class="c1"># provide a default resource ID in this case.</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Resource type &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; does not support multiple &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;instances and the connector implementation didn&#39;t provide &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;a default resource ID.&quot;</span>
        <span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_connect_to_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate and connect to a resource.</span>

<span class="sd">        This method initializes and returns an implementation specific object</span>
<span class="sd">        representing an authenticated service client, connection or session that</span>
<span class="sd">        can be used to access the resource that the connector instance is</span>
<span class="sd">        configured to connect to.</span>

<span class="sd">        The implementation should assume that the the resource type and resource</span>
<span class="sd">        ID configured in the connector instance are both set, valid and ready to</span>
<span class="sd">        be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An implementation specific object representing the authenticated</span>
<span class="sd">            service client, connection or session.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_configure_local_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure a local client to authenticate and connect to a resource.</span>

<span class="sd">        This method configures a local client or SDK installed on the localhost</span>
<span class="sd">        to connect to the resource that the connector instance is configured</span>
<span class="sd">        to access.</span>

<span class="sd">        The implementation should assume that the the resource type and resource</span>
<span class="sd">        ID configured in the connector instance are both set, valid and ready to</span>
<span class="sd">        be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">            NotImplementedError: If the connector instance does not support</span>
<span class="sd">                local configuration for the configured resource type or</span>
<span class="sd">                authentication method.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_auto_configure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Auto-configure a connector instance.</span>

<span class="sd">        Instantiate a connector with a configuration extracted from the</span>
<span class="sd">        authentication configuration available in the environment (e.g.</span>
<span class="sd">        environment variables or local client/SDK configuration files).</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The particular authentication method to use. If not</span>
<span class="sd">                specified, the connector implementation must decide which</span>
<span class="sd">                authentication method to use or raise an exception.</span>
<span class="sd">            resource_type: The type of resource to configure. If not specified,</span>
<span class="sd">                the connector implementation must return a connector instance</span>
<span class="sd">                configured to access any of the supported resource types or</span>
<span class="sd">                decide to use a default resource type or raise an exception.</span>
<span class="sd">            resource_id: The ID of the resource to configure. The</span>
<span class="sd">                implementation may choose to either require or ignore this</span>
<span class="sd">                parameter if it does not support or detect a resource type that</span>
<span class="sd">                supports multiple instances.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A connector instance configured with authentication credentials</span>
<span class="sd">            automatically extracted from the environment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector auto-configuration fails or</span>
<span class="sd">                is not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify and list all the resources that the connector can access.</span>

<span class="sd">        This method uses the connector&#39;s configuration to verify that it can</span>
<span class="sd">        authenticate and access the indicated resource(s). A non-empty list of</span>
<span class="sd">        resource IDs in canonical format MUST be returned if the resource type</span>
<span class="sd">        is supplied, otherwise the connector is marked as being in an error</span>
<span class="sd">        state that doesn&#39;t allow it to be used to access any resources.</span>

<span class="sd">        The implementation should not rely on the resource type and resource</span>
<span class="sd">        ID configured in the connector instance because they might be</span>
<span class="sd">        missing or different than the ones supplied to this method (e.g. if</span>
<span class="sd">        this is a multi-type or multi-instance connector).</span>

<span class="sd">        If a resource type is not supplied, the implementation must verify that</span>
<span class="sd">        it can authenticate and connect to any of the supported resource types</span>
<span class="sd">        and should not return any resource IDs. A list of resource IDs may be</span>
<span class="sd">        returned in this case, but is not required.</span>

<span class="sd">        For resource types that do not support multiple instances, the</span>
<span class="sd">        resource ID parameter, if supplied, is the same as the default</span>
<span class="sd">        resource ID for the resource type as returned by</span>
<span class="sd">        `_get_default_resource_id`, in which case, the implementation should</span>
<span class="sd">        return it unmodified.</span>

<span class="sd">        For resource types that do support multiple instances, if the resource</span>
<span class="sd">        ID is not supplied, the implementation MUST return a non-empty list of</span>
<span class="sd">        resource IDs in canonical format identifying all the resources that the</span>
<span class="sd">        connector can access of the specified type.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to verify. If omitted and</span>
<span class="sd">                if the connector supports multiple resource types, the</span>
<span class="sd">                implementation must verify that it can authenticate and connect</span>
<span class="sd">                to any and all of the supported resource types.</span>
<span class="sd">            resource_id: The ID of the resource to connect to. Omitted if a</span>
<span class="sd">                resource type is not specified. It has the same value as the</span>
<span class="sd">                default resource ID if the supplied resource type doesn&#39;t</span>
<span class="sd">                support multiple instances. If the supplied resource type does</span>
<span class="sd">                allows multiple instances, this parameter may still be omitted</span>
<span class="sd">                to fetch a list of resource IDs identifying all the resources</span>
<span class="sd">                of the indicated type that the connector can access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources IDs in canonical format identifying the</span>
<span class="sd">            resources that the connector can access. This list may be empty only</span>
<span class="sd">            if the resource type is not specified (i.e. for multi-type</span>
<span class="sd">            connectors).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the connector configuration is invalid.</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a connector instance that can be used to connect to a resource.</span>

<span class="sd">        This method should return a connector instance that is fully configured</span>
<span class="sd">        and ready to use to access the indicated resource:</span>
<span class="sd">        - has proper authentication configuration and credentials. These can be</span>
<span class="sd">        either the same as the ones configured in this connector instance or</span>
<span class="sd">        different ones (e.g. if this connector is able to generate temporary</span>
<span class="sd">        credentials for a particular resource).</span>
<span class="sd">        - has a resource type</span>
<span class="sd">        - has a resource ID</span>

<span class="sd">        This method is useful in cases where the connector capable of</span>
<span class="sd">        authenticating against the target service and accessing the configured</span>
<span class="sd">        resource is different than the connector configured by the user. Some</span>
<span class="sd">        example use-cases for this are:</span>

<span class="sd">        - a connector is configured with long-lived credentials or credentials</span>
<span class="sd">        with wide permissions but is able to generate temporary credentials or</span>
<span class="sd">        credentials with a narrower permissions scope for a particular resource.</span>
<span class="sd">        In this case, the &quot;main connector&quot; instance stores the long-lived</span>
<span class="sd">        credentials and is used to generate temporary credentials that are used</span>
<span class="sd">        by the &quot;connector client&quot; instance to authenticate against the target</span>
<span class="sd">        service and access the resource.</span>

<span class="sd">        - a connector is configured to access multiple types of resources (e.g.</span>
<span class="sd">        cloud providers) or multiple resource instances. In this case, the &quot;main</span>
<span class="sd">        connector&quot; instance is configured without a resource type or without a</span>
<span class="sd">        resource ID and is able to grant access to any resource type/resource</span>
<span class="sd">        ID. It can instantiate &quot;connector clients&quot; for a particular</span>
<span class="sd">        resource type and resource ID.</span>

<span class="sd">        - a connector is configured with a resource type but it is able to</span>
<span class="sd">        generate configurations for a different resource type. In this case,</span>
<span class="sd">        the &quot;main connector&quot; and the &quot;connector client&quot; can even belong to</span>
<span class="sd">        different connector implementations and the &quot;main connector&quot; can</span>
<span class="sd">        generate a &quot;connector client&quot; configuration of a different resource type</span>
<span class="sd">        that is used to access the final resource (e.g. the AWS connector can</span>
<span class="sd">        instantiate a Kubernetes connector client to access an EKS resource as</span>
<span class="sd">        if it were a generic Kubernetes cluster).</span>

<span class="sd">        The default implementation returns this connector instance itself, or a</span>
<span class="sd">        copy of it if the resource type or resource ID are different than the</span>
<span class="sd">        ones configured in the connector instance.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resources to connect to.</span>
<span class="sd">            resource_id: The ID of a particular resource to connect to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector client instance that can be used to connect to</span>
<span class="sd">            the indicated resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">resource_type</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">resource_id</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">copy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_copy</span><span class="p">()</span>
        <span class="n">copy</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">=</span> <span class="n">resource_type</span>
        <span class="n">copy</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="k">return</span> <span class="n">copy</span>

    <span class="k">def</span> <span class="nf">_validate_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a resource ID value of a certain type against the connector configuration.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of resource to validate.</span>
<span class="sd">            resource_id: The resource ID to validate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated resource ID, or a default resource ID if the resource</span>
<span class="sd">            type supports multiple instances and one was not supplied.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector is not authorized to</span>
<span class="sd">                access the provided resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Fetch the resource type specification</span>
        <span class="n">resource_type_spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="p">[</span><span class="n">resource_type</span><span class="p">]</span>
        <span class="c1"># If the resource type supports multiple instances, return the supplied</span>
        <span class="c1"># resource converted to canonical format, if supplied</span>
        <span class="k">if</span> <span class="n">resource_type_spec</span><span class="o">.</span><span class="n">supports_instances</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canonical_resource_id</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">)</span>

        <span class="c1"># If the resource type does not support multiple instances, the</span>
        <span class="c1"># connector implementation must provide a default resource ID based</span>
        <span class="c1"># on the connector configuration</span>
        <span class="n">default_resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_default_resource_id</span><span class="p">(</span><span class="n">resource_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">default_resource_id</span>

        <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_canonical_resource_id</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resource_id</span> <span class="o">!=</span> <span class="n">default_resource_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The connector does not allow access to the provided &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">resource_type_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resource. It &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;only allows access to the following resource: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">default_resource_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">resource_id</span>

    <span class="k">def</span> <span class="nf">_check_implicit_auth_method_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if implicit authentication methods are allowed.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If implicit authentication methods are</span>
<span class="sd">                not enabled.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the connector instance is especially configured to allow implicit</span>
        <span class="c1"># authentication methods, skip the check.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_implicit_auth_methods</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">handle_bool_env_var</span><span class="p">(</span><span class="n">ENV_ZENML_ENABLE_IMPLICIT_AUTH_METHODS</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;Implicit authentication methods for service connectors are &quot;</span>
                <span class="s2">&quot;implicitly disabled for security reasons. To enabled them, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;the </span><span class="si">{</span><span class="n">ENV_ZENML_ENABLE_IMPLICIT_AUTH_METHODS</span><span class="si">}</span><span class="s2"> environment &quot;</span>
                <span class="s2">&quot;variable must be set for the ZenML deployment.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the connector type specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The connector type specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span>

        <span class="n">connector_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_connector_type</span><span class="p">()</span>
        <span class="n">connector_type</span><span class="o">.</span><span class="n">set_connector_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span> <span class="o">=</span> <span class="n">connector_type</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the connector type specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The connector type specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">supported_resource_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The resource types supported by this connector instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list with the resource types supported by this connector instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="c1"># An unset resource type means that the connector is configured to</span>
        <span class="c1"># access any of the supported resource types (a multi-type connector).</span>
        <span class="c1"># In that case, we report all the supported resource types to</span>
        <span class="c1"># allow it to be discovered as compatible with any of them.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">:</span>
            <span class="n">resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">resource_types</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">resource_types</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">,</span> <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a service connector instance from a service connector model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The service connector model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The created service connector instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the connector configuration is invalid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Validate the connector configuration model</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="c1"># Multiple resource types in the model means that the connector</span>
        <span class="c1"># instance is configured to access any of the supported resource</span>
        <span class="c1"># types (a multi-type connector). We represent that here by setting the</span>
        <span class="c1"># resource type to None.</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">resource_type</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">resource_types</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">expiration_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">method_spec</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">find_resource_specifications</span><span class="p">(</span>
                <span class="n">model</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">expiration_seconds</span> <span class="o">=</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">validate_expiration</span><span class="p">(</span>
                <span class="n">model</span><span class="o">.</span><span class="n">expiration_seconds</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="c1"># Unpack the authentication configuration</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ServiceConnectorResponse</span><span class="p">)</span> <span class="ow">and</span> <span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">secret</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;could not fetch secret with ID &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;referenced in the connector configuration: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">has_missing_values</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;secret with ID &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39; referenced in the &quot;</span>
                    <span class="s2">&quot;connector configuration has missing values. This can &quot;</span>
                    <span class="s2">&quot;happen for example if your user lacks the permissions &quot;</span>
                    <span class="s2">&quot;required to access the secret.&quot;</span>
                <span class="p">)</span>

            <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">secrets</span><span class="p">:</span>
            <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">v</span>
                <span class="p">}</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">config_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;the implementation of the </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> connector type is &quot;</span>
                <span class="s2">&quot;not available in the environment. Please check that you &quot;</span>
                <span class="s2">&quot;have installed the required dependencies.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Validate the authentication configuration</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">auth_config</span> <span class="o">=</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">config_class</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_config</span><span class="p">,</span> <span class="n">AuthenticationConfig</span><span class="p">)</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">auth_config</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="n">expiration_seconds</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ServiceConnectorResponse</span><span class="p">):</span>
            <span class="n">connector</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">id</span>
            <span class="n">connector</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span>

        <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the connector instance to a service connector model.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the connector.</span>
<span class="sd">            user: The ID of the user that created the connector.</span>
<span class="sd">            workspace: The ID of the workspace that the connector belongs to.</span>
<span class="sd">            description: The description of the connector.</span>
<span class="sd">            labels: The labels of the connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service connector model corresponding to the connector</span>
<span class="sd">            instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the connector configuration is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;connector configuration is not valid: name must be set&quot;</span>
            <span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="n">ServiceConnectorRequest</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="p">)</span>

        <span class="c1"># Validate the connector configuration.</span>
        <span class="n">model</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
            <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">non_secret_values</span><span class="p">,</span>
            <span class="n">secrets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>  <span class="c1"># type: ignore[arg-type]</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">to_response_model</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceResponse</span><span class="p">,</span>
        <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UserResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the connector instance to a service connector response model.</span>

<span class="sd">        Args:</span>
<span class="sd">            workspace: The workspace that the connector belongs to.</span>
<span class="sd">            user: The user that created the connector.</span>
<span class="sd">            name: The name of the connector.</span>
<span class="sd">            id: The ID of the connector.</span>
<span class="sd">            description: The description of the connector.</span>
<span class="sd">            labels: The labels of the connector.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service connector response model corresponding to the connector</span>
<span class="sd">            instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the connector configuration is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;connector configuration is not valid: name and ID must be set&quot;</span>
            <span class="p">)</span>

        <span class="n">model</span> <span class="o">=</span> <span class="n">ServiceConnectorResponse</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">body</span><span class="o">=</span><span class="n">ServiceConnectorResponseBody</span><span class="p">(</span>
                <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
                <span class="n">created</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
                <span class="n">updated</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">(),</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
                <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">metadata</span><span class="o">=</span><span class="n">ServiceConnectorResponseMetadata</span><span class="p">(</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
                <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
                <span class="n">labels</span><span class="o">=</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># Validate the connector configuration.</span>
        <span class="n">model</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
            <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">non_secret_values</span><span class="p">,</span>
            <span class="n">secrets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>  <span class="c1"># type: ignore[arg-type]</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span> <span class="nf">has_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if the connector authentication credentials have expired.</span>

<span class="sd">        Verify that the authentication credentials associated with the connector</span>
<span class="sd">        have not expired by checking the expiration time against the current</span>
<span class="sd">        time.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the connector has expired, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="c1"># Subtract some time to account for clock skew or other delays.</span>
        <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span>
            <span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="n">SERVICE_CONNECTOR_SKEW_TOLERANCE_SECONDS</span>
        <span class="p">)</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">expires_at</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">&lt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Checking if connector </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has expired.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Expires at: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Expires at (+skew): </span><span class="si">{</span><span class="n">expires_at</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Current UTC time: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Delta: </span><span class="si">{</span><span class="n">delta</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">validate_runtime_args</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">require_resource_type</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">require_resource_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate the runtime arguments against the connector configuration.</span>

<span class="sd">        Validate that the supplied runtime arguments are compatible with the</span>
<span class="sd">        connector configuration and its specification. This includes validating</span>
<span class="sd">        that the resource type and resource ID are compatible with the connector</span>
<span class="sd">        configuration and its capabilities.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource supplied at runtime by the</span>
<span class="sd">                connector&#39;s consumer. Must be the same as the resource type that</span>
<span class="sd">                the connector is configured to access, unless the connector is</span>
<span class="sd">                configured to access any resource type.</span>
<span class="sd">            resource_id: The ID of the resource requested by the connector&#39;s</span>
<span class="sd">                consumer. Can be different than the resource ID that the</span>
<span class="sd">                connector is configured to access, e.g. if it is not in the</span>
<span class="sd">                canonical form.</span>
<span class="sd">            require_resource_type: Whether the resource type is required.</span>
<span class="sd">            require_resource_id: Whether the resource ID is required.</span>
<span class="sd">            kwargs: Additional runtime arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The validated resource type and resource ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the runtime arguments are not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>
            <span class="ow">and</span> <span class="n">resource_type</span>
            <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">!=</span> <span class="n">resource_type</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; resource type, but a different &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource type was requested: &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">resource_type</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="n">resource_id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span>

        <span class="k">if</span> <span class="n">require_resource_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;the connector is configured to provide access to multiple &quot;</span>
                <span class="s2">&quot;resource types. A resource type must be specified when &quot;</span>
                <span class="s2">&quot;requesting access to a resource.&quot;</span>
            <span class="p">)</span>

        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Get the resource specification corresponding to the</span>
            <span class="c1"># connector configuration.</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">resource_spec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">find_resource_specifications</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">resource_spec</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;the connector is configured to provide access to multiple &quot;</span>
                    <span class="s2">&quot;resource types, but only a resource name was specified. A &quot;</span>
                    <span class="s2">&quot;resource type must also be specified when &quot;</span>
                    <span class="s2">&quot;requesting access to a resource.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>

        <span class="c1"># Validate and convert the resource ID to its canonical form.</span>
        <span class="c1"># A default resource ID is returned for resource types that do not</span>
        <span class="c1"># support instances, if no resource ID is specified.</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_resource_id</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;single </span><span class="si">{</span><span class="n">resource_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resource with a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;resource name of &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;, but a &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;different resource name was requested: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">and</span> <span class="n">require_resource_id</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;multiple </span><span class="si">{</span><span class="n">resource_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resources. A resource name &quot;</span>
                    <span class="s2">&quot;must be specified when requesting access to a resource.&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate and connect to a resource.</span>

<span class="sd">        Initialize and return an implementation specific object representing an</span>
<span class="sd">        authenticated service client, connection or session that can be used</span>
<span class="sd">        to access the resource that the connector is configured to access.</span>

<span class="sd">        The connector has to be fully configured for this method to succeed</span>
<span class="sd">        (i.e. the connector&#39;s configuration must be valid, a resource type and</span>
<span class="sd">        a resource ID must be configured). This method should only be called on</span>
<span class="sd">        a connector client retrieved by calling `get_connector_client` on the</span>
<span class="sd">        main service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            verify: Whether to verify that the connector can access the</span>
<span class="sd">                configured resource before connecting to it.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An implementation specific object representing the authenticated</span>
<span class="sd">            service client, connection or session.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">                credentials have expired.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">verify</span><span class="p">:</span>
            <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
                <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connect_to_resource</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">auto_configure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServiceConnector&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Auto-configure a connector instance.</span>

<span class="sd">        Instantiate a connector with a configuration extracted from the</span>
<span class="sd">        authentication configuration available in the environment (e.g.</span>
<span class="sd">        environment variables or local client/SDK configuration files).</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The particular authentication method to use. If</span>
<span class="sd">                omitted and if the connector implementation cannot decide which</span>
<span class="sd">                authentication method to use, it may raise an exception.</span>
<span class="sd">            resource_type: The type of resource to configure. If not specified,</span>
<span class="sd">                the method returns a connector instance configured to access any</span>
<span class="sd">                of the supported resource types (multi-type connector) or</span>
<span class="sd">                configured to use a default resource type. If the connector</span>
<span class="sd">                doesn&#39;t support multi-type configurations or if it cannot decide</span>
<span class="sd">                which resource type to use, it may raise an exception.</span>
<span class="sd">            resource_id: The ID of the resource instance to configure. The</span>
<span class="sd">                connector implementation may choose to either require or ignore</span>
<span class="sd">                this parameter if it does not support or detect a resource type</span>
<span class="sd">                that supports multiple instances.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A connector instance configured with authentication credentials</span>
<span class="sd">            automatically extracted from the environment or None if</span>
<span class="sd">            auto-configuration is not supported.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the connector does not support the requested</span>
<span class="sd">                authentication method or resource type.</span>
<span class="sd">            AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">                credentials have expired.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">spec</span><span class="o">.</span><span class="n">supports_auto_configuration</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">auth_method</span> <span class="ow">and</span> <span class="n">auth_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">auth_method_dict</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector type </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not support authentication &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;method: &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">and</span> <span class="n">resource_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector type </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not support resource type: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>

        <span class="n">connector</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_auto_configure</span><span class="p">(</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">connector</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;the connector&#39;s auto-configured authentication credentials &quot;</span>
                <span class="s2">&quot;have expired.&quot;</span>
            <span class="p">)</span>

        <span class="n">connector</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">connector</span>

    <span class="k">def</span> <span class="nf">configure_local_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure a local client to authenticate and connect to a resource.</span>

<span class="sd">        This method uses the connector&#39;s configuration to configure a local</span>
<span class="sd">        client or SDK installed on the localhost so that it can authenticate</span>
<span class="sd">        and connect to the resource that the connector is configured to access.</span>

<span class="sd">        The connector has to be fully configured for this method to succeed</span>
<span class="sd">        (i.e. the connector&#39;s configuration must be valid, a resource type must</span>
<span class="sd">        be specified and the resource ID must be specified if the resource type</span>
<span class="sd">        supports multiple instances). This method should only be called on a</span>
<span class="sd">        connector client retrieved by calling `get_connector_client` on the</span>
<span class="sd">        main service connector.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">                credentials have expired.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_configure_local_client</span><span class="p">(</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">verify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify and optionally list all the resources that the connector can access.</span>

<span class="sd">        This method uses the connector&#39;s configuration to verify that it can</span>
<span class="sd">        authenticate and access the indicated resource(s).</span>

<span class="sd">        If `list_resources` is set, the list of resources that the connector can</span>
<span class="sd">        access, scoped to the supplied resource type and resource ID is included</span>
<span class="sd">        in the response, otherwise the connector only verifies that it can</span>
<span class="sd">        globally authenticate and doesn&#39;t verify or return resource information</span>
<span class="sd">        (i.e. the `resource_ids` fields in the response are empty).</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to verify. If the connector</span>
<span class="sd">                instance is already configured with a resource type, this</span>
<span class="sd">                argument must be the same as the one configured if supplied.</span>
<span class="sd">            resource_id: The ID of a particular resource instance to check</span>
<span class="sd">                whether the connector can access. If the connector instance is</span>
<span class="sd">                already configured with a resource ID that is not the same or</span>
<span class="sd">                equivalent to the one requested, a `ValueError` exception is</span>
<span class="sd">                raised.</span>
<span class="sd">            list_resources: Whether to list the resources that the connector can</span>
<span class="sd">                access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of resources that the connector can access.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the arguments or the connector configuration are</span>
<span class="sd">                not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

        <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
            <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">name_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

        <span class="n">resource_types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_resource_types</span>
        <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">resource_types</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> does not support resource type: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;. Supported resource types are: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">resource_type</span><span class="p">]</span>

        <span class="c1"># Pre-populate the list of resources with entries corresponding to the</span>
        <span class="c1"># supported resource types and scoped to the supplied resource type</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ServiceConnectorTypedResourcesModel</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">rt</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">rt</span> <span class="ow">in</span> <span class="n">resource_types</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
            <span class="c1"># Log the error in the resources object</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">resources</span>

        <span class="n">verify_resource_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">list_resources</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="c1"># If we&#39;re not listing resources, we&#39;re only verifying that the</span>
            <span class="c1"># connector can authenticate globally (i.e. without supplying a</span>
            <span class="c1"># resource type or resource ID). This is the same as if no resource</span>
            <span class="c1"># type or resource ID was supplied. The only exception is when the</span>
            <span class="c1"># verification scope is already set to a single resource ID, in</span>
            <span class="c1"># which case we still perform the verification on that resource ID.</span>
            <span class="n">verify_resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
            <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># This forces the connector to verify that it can authenticate</span>
                <span class="c1"># globally (i.e. without supplying a resource type or resource</span>
                <span class="c1"># ID) before listing individual resources in the case of</span>
                <span class="c1"># multi-type service connectors.</span>
                <span class="n">verify_resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>

            <span class="n">verify_resource_types</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_resource_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="n">resource_id</span>

        <span class="c1"># Here we go through each resource type and attempt to verify and list</span>
        <span class="c1"># the resources that the connector can access for that resource type.</span>
        <span class="c1"># This list may start with a `None` resource type, which indicates that</span>
        <span class="c1"># the connector should verify that it can authenticate globally.</span>
        <span class="k">for</span> <span class="n">resource_type</span> <span class="ow">in</span> <span class="n">verify_resource_types</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
                    <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                    <span class="n">resource_id</span><span class="o">=</span><span class="n">verify_resource_id</span><span class="p">,</span>
                    <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">resource_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
                    <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                    <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The connector configuration is incomplete or invalid: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> authorization failure: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="c1"># Log an exception if debug logging is enabled</span>
                <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

                <span class="c1"># Log the error in the resources object</span>
                <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># We stop on a global failure</span>
                    <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> verification failed with &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;unexpected error: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="c1"># Log an exception if debug logging is enabled</span>
                <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;an unexpected error occurred while verifying the &quot;</span>
                    <span class="s2">&quot;connector.&quot;</span>
                <span class="p">)</span>
                <span class="c1"># Log the error in the resources object</span>
                <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># We stop on a global failure</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
                <span class="c1"># If a resource type is not provided as argument, we don&#39;t</span>
                <span class="c1"># expect any resources to be listed</span>
                <span class="k">continue</span>

            <span class="n">resource_type_spec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="p">[</span><span class="n">resource_type</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="c1"># A single resource was requested, so we expect a single</span>
                <span class="c1"># resource to be listed</span>
                <span class="k">if</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">]</span> <span class="o">!=</span> <span class="n">resource_ids</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;a different resource ID &#39;</span><span class="si">{</span><span class="n">resource_ids</span><span class="si">}</span><span class="s2">&#39; was &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;returned than the one requested: </span><span class="si">{</span><span class="n">resource_ids</span><span class="si">}</span><span class="s2">. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;This is likely a bug in the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2"> &quot;</span>
                        <span class="s2">&quot;connector implementation.&quot;</span>
                    <span class="p">)</span>
                <span class="n">resources</span><span class="o">.</span><span class="n">set_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">])</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">resource_ids</span><span class="p">:</span>
                <span class="c1"># If no resources were listed, signal this as an error that the</span>
                <span class="c1"># connector cannot access any resources.</span>
                <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> didn&#39;t list any &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_type_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resources. This is likely &quot;</span>
                    <span class="s2">&quot;caused by the connector credentials not being valid or &quot;</span>
                    <span class="s2">&quot;not having sufficient permissions to list or access &quot;</span>
                    <span class="s2">&quot;resources of this type. Please check the connector &quot;</span>
                    <span class="s2">&quot;configuration and its credentials and try again.&quot;</span>
                <span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
                <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">resources</span><span class="o">.</span><span class="n">set_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_ids</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">resources</span>

    <span class="k">def</span> <span class="nf">get_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a connector client that can be used to connect to a resource.</span>

<span class="sd">        The connector client can be used by consumers to connect to a resource</span>
<span class="sd">        (i.e. make calls to `connect` and `configure_local_client`).</span>

<span class="sd">        The returned connector may be the same as the original connector</span>
<span class="sd">        or it may a different instance configured with different credentials or</span>
<span class="sd">        even of a different connector type.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to connect to.</span>
<span class="sd">            resource_id: The ID of a particular resource to connect to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector client that can be used to connect to the</span>
<span class="sd">            resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Verify if the connector allows access to the requested resource type</span>
        <span class="c1"># and instance.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">assert</span> <span class="n">resource_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">connector_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connector_client</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Transfer the expiration skew tolerance to the connector client</span>
        <span class="c1"># if an expiration time is set for the connector client credentials.</span>
        <span class="k">if</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">expires_at</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">connector_client</span><span class="o">.</span><span class="n">expires_skew_tolerance</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
            <span class="p">)</span>

        <span class="n">connector_client</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">connector_client</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">connector_client</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-attribute">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.supported_resource_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">supported_resource_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The resource types supported by this connector instance.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>A list with the resource types supported by this connector instance.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.type" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">type</span><span class="p">:</span> <span class="n">ServiceConnectorTypeModel</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the connector type specification.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The connector type specification.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize a new service connector instance.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments to pass to the base class
constructor.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a new service connector instance.</span>

<span class="sd">    Args:</span>
<span class="sd">        kwargs: Additional keyword arguments to pass to the base class</span>
<span class="sd">            constructor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Convert the resource ID to its canonical form. For resource types</span>
    <span class="c1"># that don&#39;t support multiple instances:</span>
    <span class="c1"># - if a resource ID is not provided, we use the default resource ID for</span>
    <span class="c1"># the resource type</span>
    <span class="c1"># - if a resource ID is provided, we verify that it matches the default</span>
    <span class="c1"># resource ID for the resource type</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_resource_id</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Authorization error validating resource ID &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span><span class="s2"> for resource type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="c1"># Log an exception if debug logging is enabled</span>
            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.auto_configure" class="doc doc-heading">
<code class="highlight language-python"><span class="n">auto_configure</span><span class="p">(</span><span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Auto-configure a connector instance.</p>
<p>Instantiate a connector with a configuration extracted from the
authentication configuration available in the environment (e.g.
environment variables or local client/SDK configuration files).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The particular authentication method to use. If
omitted and if the connector implementation cannot decide which
authentication method to use, it may raise an exception.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of resource to configure. If not specified,
the method returns a connector instance configured to access any
of the supported resource types (multi-type connector) or
configured to use a default resource type. If the connector
doesn't support multi-type configurations or if it cannot decide
which resource type to use, it may raise an exception.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource instance to configure. The
connector implementation may choose to either require or ignore
this parameter if it does not support or detect a resource type
that supports multiple instances.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional implementation specific keyword arguments to use.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[ServiceConnector]</code></td>
      <td><p>A connector instance configured with authentication credentials
automatically extracted from the environment or None if
auto-configuration is not supported.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the connector does not support the requested
authentication method or resource type.</p></td>
      </tr>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the connector's authentication
credentials have expired.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">auto_configure</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;ServiceConnector&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto-configure a connector instance.</span>

<span class="sd">    Instantiate a connector with a configuration extracted from the</span>
<span class="sd">    authentication configuration available in the environment (e.g.</span>
<span class="sd">    environment variables or local client/SDK configuration files).</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_method: The particular authentication method to use. If</span>
<span class="sd">            omitted and if the connector implementation cannot decide which</span>
<span class="sd">            authentication method to use, it may raise an exception.</span>
<span class="sd">        resource_type: The type of resource to configure. If not specified,</span>
<span class="sd">            the method returns a connector instance configured to access any</span>
<span class="sd">            of the supported resource types (multi-type connector) or</span>
<span class="sd">            configured to use a default resource type. If the connector</span>
<span class="sd">            doesn&#39;t support multi-type configurations or if it cannot decide</span>
<span class="sd">            which resource type to use, it may raise an exception.</span>
<span class="sd">        resource_id: The ID of the resource instance to configure. The</span>
<span class="sd">            connector implementation may choose to either require or ignore</span>
<span class="sd">            this parameter if it does not support or detect a resource type</span>
<span class="sd">            that supports multiple instances.</span>
<span class="sd">        kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A connector instance configured with authentication credentials</span>
<span class="sd">        automatically extracted from the environment or None if</span>
<span class="sd">        auto-configuration is not supported.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the connector does not support the requested</span>
<span class="sd">            authentication method or resource type.</span>
<span class="sd">        AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">            credentials have expired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">spec</span><span class="o">.</span><span class="n">supports_auto_configuration</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">auth_method</span> <span class="ow">and</span> <span class="n">auth_method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">auth_method_dict</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;connector type </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not support authentication &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;method: &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">and</span> <span class="n">resource_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">spec</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;connector type </span><span class="si">{</span><span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> does not support resource type: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
        <span class="p">)</span>

    <span class="n">connector</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_auto_configure</span><span class="p">(</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">connector</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;the connector&#39;s auto-configured authentication credentials &quot;</span>
            <span class="s2">&quot;have expired.&quot;</span>
        <span class="p">)</span>

    <span class="n">connector</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">connector</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.configure_local_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">configure_local_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Configure a local client to authenticate and connect to a resource.</p>
<p>This method uses the connector's configuration to configure a local
client or SDK installed on the localhost so that it can authenticate
and connect to the resource that the connector is configured to access.</p>
<p>The connector has to be fully configured for this method to succeed
(i.e. the connector's configuration must be valid, a resource type must
be specified and the resource ID must be specified if the resource type
supports multiple instances). This method should only be called on a
connector client retrieved by calling <code>get_connector_client</code> on the
main service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional implementation specific keyword arguments to use
to configure the client.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the connector's authentication
credentials have expired.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">configure_local_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configure a local client to authenticate and connect to a resource.</span>

<span class="sd">    This method uses the connector&#39;s configuration to configure a local</span>
<span class="sd">    client or SDK installed on the localhost so that it can authenticate</span>
<span class="sd">    and connect to the resource that the connector is configured to access.</span>

<span class="sd">    The connector has to be fully configured for this method to succeed</span>
<span class="sd">    (i.e. the connector&#39;s configuration must be valid, a resource type must</span>
<span class="sd">    be specified and the resource ID must be specified if the resource type</span>
<span class="sd">    supports multiple instances). This method should only be called on a</span>
<span class="sd">    connector client retrieved by calling `get_connector_client` on the</span>
<span class="sd">    main service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">            to configure the client.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">            credentials have expired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_configure_local_client</span><span class="p">(</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.connect" class="doc doc-heading">
<code class="highlight language-python"><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">verify</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Authenticate and connect to a resource.</p>
<p>Initialize and return an implementation specific object representing an
authenticated service client, connection or session that can be used
to access the resource that the connector is configured to access.</p>
<p>The connector has to be fully configured for this method to succeed
(i.e. the connector's configuration must be valid, a resource type and
a resource ID must be configured). This method should only be called on
a connector client retrieved by calling <code>get_connector_client</code> on the
main service connector.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>verify</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to verify that the connector can access the
configured resource before connecting to it.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional implementation specific keyword arguments to use
to configure the client.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>An implementation specific object representing the authenticated
service client, connection or session.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the connector's authentication
credentials have expired.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">verify</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Authenticate and connect to a resource.</span>

<span class="sd">    Initialize and return an implementation specific object representing an</span>
<span class="sd">    authenticated service client, connection or session that can be used</span>
<span class="sd">    to access the resource that the connector is configured to access.</span>

<span class="sd">    The connector has to be fully configured for this method to succeed</span>
<span class="sd">    (i.e. the connector&#39;s configuration must be valid, a resource type and</span>
<span class="sd">    a resource ID must be configured). This method should only be called on</span>
<span class="sd">    a connector client retrieved by calling `get_connector_client` on the</span>
<span class="sd">    main service connector.</span>

<span class="sd">    Args:</span>
<span class="sd">        verify: Whether to verify that the connector can access the</span>
<span class="sd">            configured resource before connecting to it.</span>
<span class="sd">        kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">            to configure the client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An implementation specific object representing the authenticated</span>
<span class="sd">        service client, connection or session.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If the connector&#39;s authentication</span>
<span class="sd">            credentials have expired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">verify</span><span class="p">:</span>
        <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connect_to_resource</span><span class="p">(</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.from_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a service connector instance from a service connector model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Union[ServiceConnectorRequest, ServiceConnectorResponse]</code></td>
        <td><p>The service connector model.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnector</code></td>
      <td><p>The created service connector instance.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the connector configuration is invalid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_model</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">,</span> <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a service connector instance from a service connector model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The service connector model.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The created service connector instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the connector configuration is invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Validate the connector configuration model</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="c1"># Multiple resource types in the model means that the connector</span>
    <span class="c1"># instance is configured to access any of the supported resource</span>
    <span class="c1"># types (a multi-type connector). We represent that here by setting the</span>
    <span class="c1"># resource type to None.</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">resource_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">resource_types</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">expiration_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">method_spec</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">find_resource_specifications</span><span class="p">(</span>
            <span class="n">model</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">expiration_seconds</span> <span class="o">=</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">validate_expiration</span><span class="p">(</span>
            <span class="n">model</span><span class="o">.</span><span class="n">expiration_seconds</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="c1"># Unpack the authentication configuration</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">configuration</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ServiceConnectorResponse</span><span class="p">)</span> <span class="ow">and</span> <span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span><span class="o">.</span><span class="n">get_secret</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;could not fetch secret with ID &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;referenced in the connector configuration: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">if</span> <span class="n">secret</span><span class="o">.</span><span class="n">has_missing_values</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;secret with ID &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">secret_id</span><span class="si">}</span><span class="s2">&#39; referenced in the &quot;</span>
                <span class="s2">&quot;connector configuration has missing values. This can &quot;</span>
                <span class="s2">&quot;happen for example if your user lacks the permissions &quot;</span>
                <span class="s2">&quot;required to access the secret.&quot;</span>
            <span class="p">)</span>

        <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">secret_values</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">secrets</span><span class="p">:</span>
        <span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">secrets</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">v</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">config_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;the implementation of the </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> connector type is &quot;</span>
            <span class="s2">&quot;not available in the environment. Please check that you &quot;</span>
            <span class="s2">&quot;have installed the required dependencies.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Validate the authentication configuration</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">auth_config</span> <span class="o">=</span> <span class="n">method_spec</span><span class="o">.</span><span class="n">config_class</span><span class="p">(</span><span class="o">**</span><span class="n">config</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">auth_config</span><span class="p">,</span> <span class="n">AuthenticationConfig</span><span class="p">)</span>

    <span class="n">connector</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">config</span><span class="o">=</span><span class="n">auth_config</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
        <span class="n">expiration_seconds</span><span class="o">=</span><span class="n">expiration_seconds</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">ServiceConnectorResponse</span><span class="p">):</span>
        <span class="n">connector</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">id</span>
        <span class="n">connector</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span>

    <span class="k">return</span> <span class="n">connector</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.get_connector_client" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_connector_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a connector client that can be used to connect to a resource.</p>
<p>The connector client can be used by consumers to connect to a resource
(i.e. make calls to <code>connect</code> and <code>configure_local_client</code>).</p>
<p>The returned connector may be the same as the original connector
or it may a different instance configured with different credentials or
even of a different connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of the resource to connect to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of a particular resource to connect to.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnector</code></td>
      <td><p>A service connector client that can be used to connect to the
resource.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If authentication failed.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_connector_client</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a connector client that can be used to connect to a resource.</span>

<span class="sd">    The connector client can be used by consumers to connect to a resource</span>
<span class="sd">    (i.e. make calls to `connect` and `configure_local_client`).</span>

<span class="sd">    The returned connector may be the same as the original connector</span>
<span class="sd">    or it may a different instance configured with different credentials or</span>
<span class="sd">    even of a different connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type: The type of the resource to connect to.</span>
<span class="sd">        resource_id: The ID of a particular resource to connect to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector client that can be used to connect to the</span>
<span class="sd">        resource.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AuthorizationException: If authentication failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Verify if the connector allows access to the requested resource type</span>
    <span class="c1"># and instance.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">assert</span> <span class="n">resource_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">assert</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="n">connector_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_connector_client</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># Transfer the expiration skew tolerance to the connector client</span>
    <span class="c1"># if an expiration time is set for the connector client credentials.</span>
    <span class="k">if</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">expires_at</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">connector_client</span><span class="o">.</span><span class="n">expires_skew_tolerance</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">connector_client</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
            <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
        <span class="p">)</span>

    <span class="n">connector_client</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">connector_client</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">connector_client</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.get_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_type</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get the connector type specification.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>The connector type specification.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the connector type specification.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The connector type specification.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span>

    <span class="n">connector_type</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_connector_type</span><span class="p">()</span>
    <span class="n">connector_type</span><span class="o">.</span><span class="n">set_connector_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span> <span class="o">=</span> <span class="n">connector_type</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_TYPE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.has_expired" class="doc doc-heading">
<code class="highlight language-python"><span class="n">has_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Check if the connector authentication credentials have expired.</p>
<p>Verify that the authentication credentials associated with the connector
have not expired by checking the expiration time against the current
time.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the connector has expired, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_expired</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the connector authentication credentials have expired.</span>

<span class="sd">    Verify that the authentication credentials associated with the connector</span>
<span class="sd">    have not expired by checking the expiration time against the current</span>
<span class="sd">    time.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the connector has expired, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="c1"># Subtract some time to account for clock skew or other delays.</span>
    <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span>
        <span class="n">seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">else</span> <span class="n">SERVICE_CONNECTOR_SKEW_TOLERANCE_SECONDS</span>
    <span class="p">)</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="n">expires_at</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">&lt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Checking if connector </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has expired.</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Expires at: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Expires at (+skew): </span><span class="si">{</span><span class="n">expires_at</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Current UTC time: </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Delta: </span><span class="si">{</span><span class="n">delta</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.to_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">workspace</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Convert the connector instance to a service connector model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the connector.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the user that created the connector.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>workspace</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the workspace that the connector belongs to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>The description of the connector.</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
      <tr>
        <td><code>labels</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>The labels of the connector.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorRequest</code></td>
      <td><p>The service connector model corresponding to the connector
instance.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the connector configuration is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">UUID</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the connector instance to a service connector model.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the connector.</span>
<span class="sd">        user: The ID of the user that created the connector.</span>
<span class="sd">        workspace: The ID of the workspace that the connector belongs to.</span>
<span class="sd">        description: The description of the connector.</span>
<span class="sd">        labels: The labels of the connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The service connector model corresponding to the connector</span>
<span class="sd">        instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the connector configuration is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;connector configuration is not valid: name must be set&quot;</span>
        <span class="p">)</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">ServiceConnectorRequest</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
        <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
        <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
        <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
        <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">{},</span>
    <span class="p">)</span>

    <span class="c1"># Validate the connector configuration.</span>
    <span class="n">model</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
        <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">non_secret_values</span><span class="p">,</span>
        <span class="n">secrets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>  <span class="c1"># type: ignore[arg-type]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.to_response_model" class="doc doc-heading">
<code class="highlight language-python"><span class="n">to_response_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">workspace</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Convert the connector instance to a service connector response model.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>workspace</code></td>
        <td><code>WorkspaceResponse</code></td>
        <td><p>The workspace that the connector belongs to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>user</code></td>
        <td><code>Optional[zenml.models.v2.core.user.UserResponse]</code></td>
        <td><p>The user that created the connector.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the connector.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>id</code></td>
        <td><code>Optional[uuid.UUID]</code></td>
        <td><p>The ID of the connector.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>The description of the connector.</p></td>
        <td><code>&#39;&#39;</code></td>
      </tr>
      <tr>
        <td><code>labels</code></td>
        <td><code>Optional[Dict[str, str]]</code></td>
        <td><p>The labels of the connector.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResponse</code></td>
      <td><p>The service connector response model corresponding to the connector
instance.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the connector configuration is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">to_response_model</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="n">WorkspaceResponse</span><span class="p">,</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UserResponse</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">labels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the connector instance to a service connector response model.</span>

<span class="sd">    Args:</span>
<span class="sd">        workspace: The workspace that the connector belongs to.</span>
<span class="sd">        user: The user that created the connector.</span>
<span class="sd">        name: The name of the connector.</span>
<span class="sd">        id: The ID of the connector.</span>
<span class="sd">        description: The description of the connector.</span>
<span class="sd">        labels: The labels of the connector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The service connector response model corresponding to the connector</span>
<span class="sd">        instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the connector configuration is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="nb">id</span> <span class="o">=</span> <span class="nb">id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;connector configuration is not valid: name and ID must be set&quot;</span>
        <span class="p">)</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">ServiceConnectorResponse</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">body</span><span class="o">=</span><span class="n">ServiceConnectorResponseBody</span><span class="p">(</span>
            <span class="n">user</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
            <span class="n">created</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
            <span class="n">updated</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">(),</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">expires_skew_tolerance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_skew_tolerance</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">ServiceConnectorResponseMetadata</span><span class="p">(</span>
            <span class="n">workspace</span><span class="o">=</span><span class="n">workspace</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expiration_seconds</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="n">labels</span> <span class="ow">or</span> <span class="p">{},</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Validate the connector configuration.</span>
    <span class="n">model</span><span class="o">.</span><span class="n">validate_and_configure_resources</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
        <span class="n">resource_types</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">non_secret_values</span><span class="p">,</span>
        <span class="n">secrets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">secret_values</span><span class="p">,</span>  <span class="c1"># type: ignore[arg-type]</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">model</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.validate_runtime_args" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validate_runtime_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Validate the runtime arguments against the connector configuration.</p>
<p>Validate that the supplied runtime arguments are compatible with the
connector configuration and its specification. This includes validating
that the resource type and resource ID are compatible with the connector
configuration and its capabilities.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of the resource supplied at runtime by the
connector's consumer. Must be the same as the resource type that
the connector is configured to access, unless the connector is
configured to access any resource type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of the resource requested by the connector's
consumer. Can be different than the resource ID that the
connector is configured to access, e.g. if it is not in the
canonical form.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>require_resource_type</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the resource type is required.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>require_resource_id</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the resource ID is required.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional runtime arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[Optional[str], Optional[str]]</code></td>
      <td><p>The validated resource type and resource ID.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the runtime arguments are not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">validate_runtime_args</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">require_resource_type</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">require_resource_id</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate the runtime arguments against the connector configuration.</span>

<span class="sd">    Validate that the supplied runtime arguments are compatible with the</span>
<span class="sd">    connector configuration and its specification. This includes validating</span>
<span class="sd">    that the resource type and resource ID are compatible with the connector</span>
<span class="sd">    configuration and its capabilities.</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type: The type of the resource supplied at runtime by the</span>
<span class="sd">            connector&#39;s consumer. Must be the same as the resource type that</span>
<span class="sd">            the connector is configured to access, unless the connector is</span>
<span class="sd">            configured to access any resource type.</span>
<span class="sd">        resource_id: The ID of the resource requested by the connector&#39;s</span>
<span class="sd">            consumer. Can be different than the resource ID that the</span>
<span class="sd">            connector is configured to access, e.g. if it is not in the</span>
<span class="sd">            canonical form.</span>
<span class="sd">        require_resource_type: Whether the resource type is required.</span>
<span class="sd">        require_resource_id: Whether the resource ID is required.</span>
<span class="sd">        kwargs: Additional runtime arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The validated resource type and resource ID.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the runtime arguments are not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>
        <span class="ow">and</span> <span class="n">resource_type</span>
        <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">!=</span> <span class="n">resource_type</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to a &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; resource type, but a different &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;resource type was requested: &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="n">resource_type</span> <span class="o">=</span> <span class="n">resource_type</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>
    <span class="n">resource_id</span> <span class="o">=</span> <span class="n">resource_id</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span>

    <span class="k">if</span> <span class="n">require_resource_type</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;the connector is configured to provide access to multiple &quot;</span>
            <span class="s2">&quot;resource types. A resource type must be specified when &quot;</span>
            <span class="s2">&quot;requesting access to a resource.&quot;</span>
        <span class="p">)</span>

    <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Get the resource specification corresponding to the</span>
        <span class="c1"># connector configuration.</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">resource_spec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">find_resource_specifications</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">resource_spec</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;the connector is configured to provide access to multiple &quot;</span>
                <span class="s2">&quot;resource types, but only a resource name was specified. A &quot;</span>
                <span class="s2">&quot;resource type must also be specified when &quot;</span>
                <span class="s2">&quot;requesting access to a resource.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>

    <span class="c1"># Validate and convert the resource ID to its canonical form.</span>
    <span class="c1"># A default resource ID is returned for resource types that do not</span>
    <span class="c1"># support instances, if no resource ID is specified.</span>
    <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_resource_id</span><span class="p">(</span>
        <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">!=</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;single </span><span class="si">{</span><span class="n">resource_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resource with a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource name of &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;, but a &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;different resource name was requested: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="ow">and</span> <span class="n">require_resource_id</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;the connector is configured to provide access to &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;multiple </span><span class="si">{</span><span class="n">resource_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resources. A resource name &quot;</span>
                <span class="s2">&quot;must be specified when requesting access to a resource.&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnector.verify" class="doc doc-heading">
<code class="highlight language-python"><span class="n">verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Verify and optionally list all the resources that the connector can access.</p>
<p>This method uses the connector's configuration to verify that it can
authenticate and access the indicated resource(s).</p>
<p>If <code>list_resources</code> is set, the list of resources that the connector can
access, scoped to the supplied resource type and resource ID is included
in the response, otherwise the connector only verifies that it can
globally authenticate and doesn't verify or return resource information
(i.e. the <code>resource_ids</code> fields in the response are empty).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The type of the resource to verify. If the connector
instance is already configured with a resource type, this
argument must be the same as the one configured if supplied.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID of a particular resource instance to check
whether the connector can access. If the connector instance is
already configured with a resource ID that is not the same or
equivalent to the one requested, a <code>ValueError</code> exception is
raised.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>list_resources</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to list the resources that the connector can
access.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesModel</code></td>
      <td><p>A list of resources that the connector can access.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the arguments or the connector configuration are
not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">verify</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">list_resources</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verify and optionally list all the resources that the connector can access.</span>

<span class="sd">    This method uses the connector&#39;s configuration to verify that it can</span>
<span class="sd">    authenticate and access the indicated resource(s).</span>

<span class="sd">    If `list_resources` is set, the list of resources that the connector can</span>
<span class="sd">    access, scoped to the supplied resource type and resource ID is included</span>
<span class="sd">    in the response, otherwise the connector only verifies that it can</span>
<span class="sd">    globally authenticate and doesn&#39;t verify or return resource information</span>
<span class="sd">    (i.e. the `resource_ids` fields in the response are empty).</span>

<span class="sd">    Args:</span>
<span class="sd">        resource_type: The type of the resource to verify. If the connector</span>
<span class="sd">            instance is already configured with a resource type, this</span>
<span class="sd">            argument must be the same as the one configured if supplied.</span>
<span class="sd">        resource_id: The ID of a particular resource instance to check</span>
<span class="sd">            whether the connector can access. If the connector instance is</span>
<span class="sd">            already configured with a resource ID that is not the same or</span>
<span class="sd">            equivalent to the one requested, a `ValueError` exception is</span>
<span class="sd">            raised.</span>
<span class="sd">        list_resources: Whether to list the resources that the connector can</span>
<span class="sd">            access.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of resources that the connector can access.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the arguments or the connector configuration are</span>
<span class="sd">            not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="n">ServiceConnectorResourcesModel</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">spec</span><span class="p">,</span>
        <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">name_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot; &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

    <span class="n">resource_types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">supported_resource_types</span>
    <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">resource_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> does not support resource type: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39;. Supported resource types are: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="n">resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">resource_type</span><span class="p">]</span>

    <span class="c1"># Pre-populate the list of resources with entries corresponding to the</span>
    <span class="c1"># supported resource types and scoped to the supplied resource type</span>
    <span class="n">resources</span><span class="o">.</span><span class="n">resources</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ServiceConnectorTypedResourcesModel</span><span class="p">(</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">rt</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">rt</span> <span class="ow">in</span> <span class="n">resource_types</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_expired</span><span class="p">():</span>
        <span class="n">error</span> <span class="o">=</span> <span class="s2">&quot;the connector&#39;s authentication credentials have expired.&quot;</span>
        <span class="c1"># Log the error in the resources object</span>
        <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resources</span>

    <span class="n">verify_resource_types</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">list_resources</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">resource_id</span><span class="p">:</span>
        <span class="c1"># If we&#39;re not listing resources, we&#39;re only verifying that the</span>
        <span class="c1"># connector can authenticate globally (i.e. without supplying a</span>
        <span class="c1"># resource type or resource ID). This is the same as if no resource</span>
        <span class="c1"># type or resource ID was supplied. The only exception is when the</span>
        <span class="c1"># verification scope is already set to a single resource ID, in</span>
        <span class="c1"># which case we still perform the verification on that resource ID.</span>
        <span class="n">verify_resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>
        <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># This forces the connector to verify that it can authenticate</span>
            <span class="c1"># globally (i.e. without supplying a resource type or resource</span>
            <span class="c1"># ID) before listing individual resources in the case of</span>
            <span class="c1"># multi-type service connectors.</span>
            <span class="n">verify_resource_types</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span>

        <span class="n">verify_resource_types</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">resource_types</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_resource_types</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">verify_resource_id</span> <span class="o">=</span> <span class="n">resource_id</span>

    <span class="c1"># Here we go through each resource type and attempt to verify and list</span>
    <span class="c1"># the resources that the connector can access for that resource type.</span>
    <span class="c1"># This list may start with a `None` resource type, which indicates that</span>
    <span class="c1"># the connector should verify that it can authenticate globally.</span>
    <span class="k">for</span> <span class="n">resource_type</span> <span class="ow">in</span> <span class="n">verify_resource_types</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_runtime_args</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">verify_resource_id</span><span class="p">,</span>
                <span class="n">require_resource_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">require_resource_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">resource_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_verify</span><span class="p">(</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The connector configuration is incomplete or invalid: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">AuthorizationException</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> authorization failure: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="c1"># Log an exception if debug logging is enabled</span>
            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

            <span class="c1"># Log the error in the resources object</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># We stop on a global failure</span>
                <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> verification failed with &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;unexpected error: </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="c1"># Log an exception if debug logging is enabled</span>
            <span class="k">if</span> <span class="n">logger</span><span class="o">.</span><span class="n">isEnabledFor</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;an unexpected error occurred while verifying the &quot;</span>
                <span class="s2">&quot;connector.&quot;</span>
            <span class="p">)</span>
            <span class="c1"># Log the error in the resources object</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">resource_type</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># We stop on a global failure</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="c1"># If a resource type is not provided as argument, we don&#39;t</span>
            <span class="c1"># expect any resources to be listed</span>
            <span class="k">continue</span>

        <span class="n">resource_type_spec</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">resource_type_dict</span><span class="p">[</span><span class="n">resource_type</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="c1"># A single resource was requested, so we expect a single</span>
            <span class="c1"># resource to be listed</span>
            <span class="k">if</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">]</span> <span class="o">!=</span> <span class="n">resource_ids</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;a different resource ID &#39;</span><span class="si">{</span><span class="n">resource_ids</span><span class="si">}</span><span class="s2">&#39; was &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;returned than the one requested: </span><span class="si">{</span><span class="n">resource_ids</span><span class="si">}</span><span class="s2">. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;This is likely a bug in the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;connector implementation.&quot;</span>
                <span class="p">)</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">])</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">resource_ids</span><span class="p">:</span>
            <span class="c1"># If no resources were listed, signal this as an error that the</span>
            <span class="c1"># connector cannot access any resources.</span>
            <span class="n">error</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;connector</span><span class="si">{</span><span class="n">name_msg</span><span class="si">}</span><span class="s2"> didn&#39;t list any &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_type_spec</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> resources. This is likely &quot;</span>
                <span class="s2">&quot;caused by the connector credentials not being valid or &quot;</span>
                <span class="s2">&quot;not having sufficient permissions to list or access &quot;</span>
                <span class="s2">&quot;resources of this type. Please check the connector &quot;</span>
                <span class="s2">&quot;configuration and its credentials and try again.&quot;</span>
            <span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">resources</span><span class="o">.</span><span class="n">set_resource_ids</span><span class="p">(</span><span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_ids</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">resources</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.service_connector.ServiceConnectorMeta" class="doc doc-heading">
        <code>
ServiceConnectorMeta            (<span title="pydantic._internal._model_construction.ModelMetaclass">ModelMetaclass</span>)
        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Metaclass responsible for automatically registering ServiceConnector classes.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceConnectorMeta</span><span class="p">(</span><span class="n">ModelMetaclass</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Metaclass responsible for automatically registering ServiceConnector classes.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
        <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorMeta&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a new ServiceConnector class and registers it.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name of the class.</span>
<span class="sd">            bases: The base classes of the class.</span>
<span class="sd">            dct: The dictionary of the class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ServiceConnectorMeta class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;ServiceConnector&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Skip the following validation and registration for the base class.</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.service_connectors.service_connector_registry</span> <span class="kn">import</span> <span class="p">(</span>
                <span class="n">service_connector_registry</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="c1"># Register the service connector.</span>
            <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">register_service_connector_type</span><span class="p">(</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector.ServiceConnectorMeta.__new__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Creates a new ServiceConnector class and registers it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>bases</code></td>
        <td><code>Tuple[Type[Any], ...]</code></td>
        <td><p>The base classes of the class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dct</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The dictionary of the class.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorMeta</code></td>
      <td><p>The ServiceConnectorMeta class.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span>
    <span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bases</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span> <span class="n">dct</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnectorMeta&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new ServiceConnector class and registers it.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the class.</span>
<span class="sd">        bases: The base classes of the class.</span>
<span class="sd">        dct: The dictionary of the class.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ServiceConnectorMeta class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;ServiceConnector&quot;</span><span class="p">],</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">mcs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">bases</span><span class="p">,</span> <span class="n">dct</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Skip the following validation and registration for the base class.</span>
    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.service_connectors.service_connector_registry</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">service_connector_registry</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Register the service connector.</span>
        <span class="n">service_connector_registry</span><span class="o">.</span><span class="n">register_service_connector_type</span><span class="p">(</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.service_connectors.service_connector_registry" class="doc doc-heading">
        <code>service_connector_registry</code>



</h3>

    <div class="doc doc-contents ">

      <p>Implementation of a service connector registry.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h4 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry" class="doc doc-heading">
        <code>
ServiceConnectorRegistry        </code>



</h4>

    <div class="doc doc-contents ">

      <p>Service connector registry.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ServiceConnectorRegistry</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Service connector registry.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the service connector registry.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">register_service_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service_connector_type</span><span class="p">:</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Registers a service connector type.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_connector_type: Service connector type.</span>
<span class="sd">            overwrite: Whether to overwrite an existing service connector type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
            <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span>
            <span class="ow">or</span> <span class="n">overwrite</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">[</span>
                <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
            <span class="p">]</span> <span class="o">=</span> <span class="n">service_connector_type</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;Registered service connector type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Found existing service connector for type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">: Skipping registration.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service connector type by its connector type identifier.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: The service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector type that was registered for the given</span>
<span class="sd">            connector type identifier.</span>

<span class="sd">        Raises:</span>
<span class="sd">            KeyError: If no service connector was registered for the given type</span>
<span class="sd">                identifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">connector_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Service connector type </span><span class="si">{</span><span class="n">connector_type</span><span class="si">}</span><span class="s2"> is not available. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please make sure the corresponding packages and/or ZenML &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;integration are installed and try again.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">[</span><span class="n">connector_type</span><span class="p">]</span><span class="o">.</span><span class="n">model_copy</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a service connector type by its connector type identifier.</span>

<span class="sd">        Args:</span>
<span class="sd">            key: The service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector that was registered for the given service</span>
<span class="sd">            connector type identifier.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_registered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns if a service connector is registered for the given type identifier.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: The service connector type identifier.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if a service connector is registered for the given type</span>
<span class="sd">            identifier, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">connector_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span>

    <span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Find one or more service connector types that match the given criteria.</span>

<span class="sd">        Args:</span>
<span class="sd">            connector_type: Filter by service connector type identifier.</span>
<span class="sd">            resource_type: Filter by a resource type that the connector can</span>
<span class="sd">                be used to give access to.</span>
<span class="sd">            auth_method: Filter by an authentication method that the connector</span>
<span class="sd">                uses to authenticate with the resource provider.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of service connector type models that match the given</span>
<span class="sd">            criteria.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>

        <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">service_connector_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="p">(</span>
                    <span class="n">connector_type</span> <span class="ow">is</span> <span class="kc">None</span>
                    <span class="ow">or</span> <span class="n">connector_type</span> <span class="o">==</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
                <span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="n">resource_type</span> <span class="ow">is</span> <span class="kc">None</span>
                    <span class="ow">or</span> <span class="n">resource_type</span>
                    <span class="ow">in</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">resource_type_dict</span>
                <span class="p">)</span>
                <span class="ow">and</span> <span class="p">(</span>
                    <span class="n">auth_method</span> <span class="ow">is</span> <span class="kc">None</span>
                    <span class="ow">or</span> <span class="n">auth_method</span> <span class="ow">in</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">auth_method_dict</span>
                <span class="p">)</span>
            <span class="p">):</span>
                <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">model_copy</span><span class="p">())</span>

        <span class="k">return</span> <span class="n">matches</span>

    <span class="k">def</span> <span class="nf">instantiate_connector</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate a service connector model and create an instance from it.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: The service connector model to validate and instantiate.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A service connector instance.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If no service connector is registered for the</span>
<span class="sd">                given type identifier.</span>
<span class="sd">            ValueError: If the service connector model is not valid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">service_connector_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
                <span class="n">model</span><span class="o">.</span><span class="n">type</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Service connector type </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> is not available &quot;</span>
                <span class="s2">&quot;locally. Please make sure the corresponding packages and/or &quot;</span>
                <span class="s2">&quot;ZenML integration are installed and try again.&quot;</span>
            <span class="p">)</span>

        <span class="k">assert</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_class</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The service connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">register_builtin_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Registers the default built-in service connectors.&quot;&quot;&quot;</span>
        <span class="c1"># Only register built-in service connectors once</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.aws.service_connectors.aws_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">AWSServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import AWS service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.gcp.service_connectors.gcp_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">GCPServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import GCP service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.azure.service_connectors.azure_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">AzureServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import Azure service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.kubernetes.service_connectors.kubernetes_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">KubernetesServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Could not import Kubernetes service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.service_connectors.docker_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">DockerServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import Docker service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.service_connectors.hyperai_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
                <span class="n">HyperAIServiceConnector</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import HyperAI service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__getitem__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector type by its connector type identifier.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>key</code></td>
        <td><code>str</code></td>
        <td><p>The service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>A service connector that was registered for the given service
connector type identifier.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector type by its connector type identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        key: The service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector that was registered for the given service</span>
<span class="sd">        connector type identifier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Initialize the service connector registry.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the service connector registry.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.get_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_service_connector_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Get a service connector type by its connector type identifier.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>The service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorTypeModel</code></td>
      <td><p>A service connector type that was registered for the given
connector type identifier.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>KeyError</code></td>
        <td><p>If no service connector was registered for the given type
identifier.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_service_connector_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get a service connector type by its connector type identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: The service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector type that was registered for the given</span>
<span class="sd">        connector type identifier.</span>

<span class="sd">    Raises:</span>
<span class="sd">        KeyError: If no service connector was registered for the given type</span>
<span class="sd">            identifier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">connector_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Service connector type </span><span class="si">{</span><span class="n">connector_type</span><span class="si">}</span><span class="s2"> is not available. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Please make sure the corresponding packages and/or ZenML &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;integration are installed and try again.&quot;</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">[</span><span class="n">connector_type</span><span class="p">]</span><span class="o">.</span><span class="n">model_copy</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.instantiate_connector" class="doc doc-heading">
<code class="highlight language-python"><span class="n">instantiate_connector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Validate a service connector model and create an instance from it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>model</code></td>
        <td><code>Union[ServiceConnectorRequest, ServiceConnectorResponse]</code></td>
        <td><p>The service connector model to validate and instantiate.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnector</code></td>
      <td><p>A service connector instance.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>NotImplementedError</code></td>
        <td><p>If no service connector is registered for the
given type identifier.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the service connector model is not valid.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">instantiate_connector</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
        <span class="s2">&quot;ServiceConnectorRequest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ServiceConnectorResponse&quot;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Validate a service connector model and create an instance from it.</span>

<span class="sd">    Args:</span>
<span class="sd">        model: The service connector model to validate and instantiate.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A service connector instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If no service connector is registered for the</span>
<span class="sd">            given type identifier.</span>
<span class="sd">        ValueError: If the service connector model is not valid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">service_connector_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_service_connector_type</span><span class="p">(</span>
            <span class="n">model</span><span class="o">.</span><span class="n">type</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Service connector type </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2"> is not available &quot;</span>
            <span class="s2">&quot;locally. Please make sure the corresponding packages and/or &quot;</span>
            <span class="s2">&quot;ZenML integration are installed and try again.&quot;</span>
        <span class="p">)</span>

    <span class="k">assert</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_class</span><span class="o">.</span><span class="n">from_model</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The service connector configuration is not valid: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.is_registered" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_registered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Returns if a service connector is registered for the given type identifier.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>str</code></td>
        <td><p>The service connector type identifier.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if a service connector is registered for the given type
identifier, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_registered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns if a service connector is registered for the given type identifier.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: The service connector type identifier.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if a service connector is registered for the given type</span>
<span class="sd">        identifier, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connector_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.list_service_connector_types" class="doc doc-heading">
<code class="highlight language-python"><span class="n">list_service_connector_types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connector_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">auth_method</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Find one or more service connector types that match the given criteria.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by service connector type identifier.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by a resource type that the connector can
be used to give access to.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Filter by an authentication method that the connector
uses to authenticate with the resource provider.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[zenml.models.v2.misc.service_connector_type.ServiceConnectorTypeModel]</code></td>
      <td><p>A list of service connector type models that match the given
criteria.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">list_service_connector_types</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">connector_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find one or more service connector types that match the given criteria.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_type: Filter by service connector type identifier.</span>
<span class="sd">        resource_type: Filter by a resource type that the connector can</span>
<span class="sd">            be used to give access to.</span>
<span class="sd">        auth_method: Filter by an authentication method that the connector</span>
<span class="sd">            uses to authenticate with the resource provider.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of service connector type models that match the given</span>
<span class="sd">        criteria.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">register_builtin_service_connectors</span><span class="p">()</span>

    <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ServiceConnectorTypeModel</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">service_connector_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="p">(</span>
                <span class="n">connector_type</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="ow">or</span> <span class="n">connector_type</span> <span class="o">==</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="n">resource_type</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="ow">or</span> <span class="n">resource_type</span>
                <span class="ow">in</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">resource_type_dict</span>
            <span class="p">)</span>
            <span class="ow">and</span> <span class="p">(</span>
                <span class="n">auth_method</span> <span class="ow">is</span> <span class="kc">None</span>
                <span class="ow">or</span> <span class="n">auth_method</span> <span class="ow">in</span> <span class="n">service_connector_type</span><span class="o">.</span><span class="n">auth_method_dict</span>
            <span class="p">)</span>
        <span class="p">):</span>
            <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">model_copy</span><span class="p">())</span>

    <span class="k">return</span> <span class="n">matches</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_builtin_service_connectors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_builtin_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Registers the default built-in service connectors.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_builtin_service_connectors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Registers the default built-in service connectors.&quot;&quot;&quot;</span>
    <span class="c1"># Only register built-in service connectors once</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">initialized</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.aws.service_connectors.aws_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">AWSServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import AWS service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.gcp.service_connectors.gcp_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">GCPServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import GCP service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure.service_connectors.azure_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">AzureServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import Azure service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.kubernetes.service_connectors.kubernetes_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">KubernetesServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not import Kubernetes service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.service_connectors.docker_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">DockerServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import Docker service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.hyperai.service_connectors.hyperai_service_connector</span> <span class="kn">import</span> <span class="p">(</span>  <span class="c1"># noqa</span>
            <span class="n">HyperAIServiceConnector</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not import HyperAI service connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="zenml.service_connectors.service_connector_registry.ServiceConnectorRegistry.register_service_connector_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">register_service_connector_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service_connector_type</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h5>

    <div class="doc doc-contents ">

      <p>Registers a service connector type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_connector_type</code></td>
        <td><code>ServiceConnectorTypeModel</code></td>
        <td><p>Service connector type.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>Whether to overwrite an existing service connector type.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_registry.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">register_service_connector_type</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service_connector_type</span><span class="p">:</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Registers a service connector type.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_connector_type: Service connector type.</span>
<span class="sd">        overwrite: Whether to overwrite an existing service connector type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
        <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span>
        <span class="ow">or</span> <span class="n">overwrite</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">service_connector_types</span><span class="p">[</span>
            <span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span>
        <span class="p">]</span> <span class="o">=</span> <span class="n">service_connector_type</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="s2">&quot;Registered service connector type &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Found existing service connector for type &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">connector_type</span><span class="si">}</span><span class="s2">: Skipping registration.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.service_connectors.service_connector_utils" class="doc doc-heading">
        <code>service_connector_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>Utility methods for Service Connectors.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h4 id="zenml.service_connectors.service_connector_utils.get_resources_options_from_resource_model_for_full_stack" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_resources_options_from_resource_model_for_full_stack</span><span class="p">(</span><span class="n">connector_details</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Get the resource options from the resource model for the full stack.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>connector_details</code></td>
        <td><code>Union[uuid.UUID, zenml.models.v2.misc.info_models.ServiceConnectorInfo]</code></td>
        <td><p>The service connector details (UUID or Info).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ServiceConnectorResourcesInfo</code></td>
      <td><p>All available service connector resource options.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/service_connectors/service_connector_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_resources_options_from_resource_model_for_full_stack</span><span class="p">(</span>
    <span class="n">connector_details</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">UUID</span><span class="p">,</span> <span class="n">ServiceConnectorInfo</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorResourcesInfo</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the resource options from the resource model for the full stack.</span>

<span class="sd">    Args:</span>
<span class="sd">        connector_details: The service connector details (UUID or Info).</span>

<span class="sd">    Returns:</span>
<span class="sd">        All available service connector resource options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
    <span class="n">zen_store</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">zen_store</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">connector_details</span><span class="p">,</span> <span class="n">UUID</span><span class="p">):</span>
        <span class="n">resource_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">verify_service_connector</span><span class="p">(</span>
            <span class="n">connector_details</span><span class="p">,</span>
            <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">resource_model</span> <span class="o">=</span> <span class="n">zen_store</span><span class="o">.</span><span class="n">verify_service_connector_config</span><span class="p">(</span>
            <span class="n">service_connector</span><span class="o">=</span><span class="n">ServiceConnectorRequest</span><span class="p">(</span>
                <span class="n">user</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">workspace</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">active_workspace</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;fake&quot;</span><span class="p">,</span>
                <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_details</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">connector_details</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">configuration</span><span class="o">=</span><span class="n">connector_details</span><span class="o">.</span><span class="n">configuration</span><span class="p">,</span>
                <span class="n">secrets</span><span class="o">=</span><span class="p">{},</span>
                <span class="n">labels</span><span class="o">=</span><span class="p">{},</span>
            <span class="p">),</span>
            <span class="n">list_resources</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">resources</span> <span class="o">=</span> <span class="n">resource_model</span><span class="o">.</span><span class="n">resources</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
        <span class="n">resource_model</span><span class="o">.</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">connector_type</span> <span class="o">=</span> <span class="n">resource_model</span><span class="o">.</span><span class="n">connector_type</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">connector_type</span> <span class="o">=</span> <span class="n">resource_model</span><span class="o">.</span><span class="n">connector_type</span><span class="o">.</span><span class="n">connector_type</span>

    <span class="n">artifact_stores</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ResourcesInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">orchestrators</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ResourcesInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">container_registries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ResourcesInfo</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">connector_type</span> <span class="o">==</span> <span class="s2">&quot;aws&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;s3-bucket&quot;</span><span class="p">:</span>
                    <span class="n">artifact_stores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;s3&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;S3 Bucket&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;aws-generic&quot;</span><span class="p">:</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;sagemaker&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span>
                                <span class="s2">&quot;execution_role&quot;</span><span class="p">:</span> <span class="s2">&quot;execution role ARN&quot;</span>
                            <span class="p">},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;AWS Sagemaker&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;vm_aws&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;region&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Skypilot (EC2)&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;kubernetes-cluster&quot;</span><span class="p">:</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Kubernetes&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;docker-registry&quot;</span><span class="p">:</span>
                    <span class="n">container_registries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;aws&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;URI&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;ECR&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

    <span class="k">elif</span> <span class="n">connector_type</span> <span class="o">==</span> <span class="s2">&quot;gcp&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;gcs-bucket&quot;</span><span class="p">:</span>
                    <span class="n">artifact_stores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;GCS Bucket&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;gcp-generic&quot;</span><span class="p">:</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;vertex&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;region name&quot;</span><span class="p">},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Vertex AI&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;vm_gcp&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;region name&quot;</span><span class="p">},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Skypilot (Compute)&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;kubernetes-cluster&quot;</span><span class="p">:</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Kubernetes&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;docker-registry&quot;</span><span class="p">:</span>
                    <span class="n">container_registries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;gcp&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;URI&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;GCR&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

    <span class="k">elif</span> <span class="n">connector_type</span> <span class="o">==</span> <span class="s2">&quot;azure&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">resources</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;blob-container&quot;</span><span class="p">:</span>
                    <span class="n">artifact_stores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;Path&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Blob container&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;azure-generic&quot;</span><span class="p">:</span>
                    <span class="c1"># No native orchestrator ATM</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;vm_azure&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;region name&quot;</span><span class="p">},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Skypilot (VM)&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;azureml&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span>
                                <span class="s2">&quot;subscription_id&quot;</span><span class="p">:</span> <span class="s2">&quot;subscription ID&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;resource_group&quot;</span><span class="p">:</span> <span class="s2">&quot;resource group&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;workspace&quot;</span><span class="p">:</span> <span class="s2">&quot;workspace&quot;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;AzureML&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;kubernetes-cluster&quot;</span><span class="p">:</span>
                    <span class="n">orchestrators</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{},</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;Kubernetes&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">each</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="s2">&quot;docker-registry&quot;</span><span class="p">:</span>
                    <span class="n">container_registries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">_prepare_resource_info</span><span class="p">(</span>
                            <span class="n">connector_details</span><span class="o">=</span><span class="n">connector_details</span><span class="p">,</span>
                            <span class="n">resource_ids</span><span class="o">=</span><span class="n">each</span><span class="o">.</span><span class="n">resource_ids</span><span class="p">,</span>
                            <span class="n">stack_component_type</span><span class="o">=</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                            <span class="n">flavor</span><span class="o">=</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span>
                            <span class="n">required_configuration</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;URI&quot;</span><span class="p">},</span>
                            <span class="n">use_resource_value_as_fixed_config</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">flavor_display_name</span><span class="o">=</span><span class="s2">&quot;ACR&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

    <span class="n">_raise_specific_cloud_exception_if_needed</span><span class="p">(</span>
        <span class="n">cloud_provider</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">artifact_stores</span><span class="o">=</span><span class="n">artifact_stores</span><span class="p">,</span>
        <span class="n">orchestrators</span><span class="o">=</span><span class="n">orchestrators</span><span class="p">,</span>
        <span class="n">container_registries</span><span class="o">=</span><span class="n">container_registries</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">ServiceConnectorResourcesInfo</span><span class="p">(</span>
        <span class="n">connector_type</span><span class="o">=</span><span class="n">connector_type</span><span class="p">,</span>
        <span class="n">components_resources_info</span><span class="o">=</span><span class="p">{</span>
            <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ARTIFACT_STORE</span><span class="p">:</span> <span class="n">artifact_stores</span><span class="p">,</span>
            <span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">:</span> <span class="n">orchestrators</span><span class="p">,</span>
            <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">:</span> <span class="n">container_registries</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../core-secret/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Secret" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Secret
            </div>
          </div>
        </a>
      
      
        
        <a href="../core-services/" class="md-footer__link md-footer__link--next" aria-label="Next: Services" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Services
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>