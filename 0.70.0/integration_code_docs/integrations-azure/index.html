
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sdkdocs.zenml.io/0.70.0/integration_code_docs/integrations-azure/">
      
      <link rel="icon" href="../../_assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-8.5.10">
    
    
      
        <title>Azure - ZenML API Reference</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("CaE5VaNjhyaUt48qXK4rLwwKJ0PdAOFM");
  analytics.page();
  }}();
</script>
<script defer data-domain="apidocs.zenml.io" src="https://plausible.io/js/plausible.js"></script>


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#azure" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ZenML API Reference" class="md-header__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ZenML API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Azure
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ZenML API Reference" class="md-nav__button md-logo" aria-label="ZenML API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    ZenML API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zenml-io/zenml" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        ZenML
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI docs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Core code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Core code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-alerter/" class="md-nav__link">
        Alerter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-analytics/" class="md-nav__link">
        Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-annotators/" class="md-nav__link">
        Annotators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifact_stores/" class="md-nav__link">
        Artifact Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-artifacts/" class="md-nav__link">
        Artifacts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client/" class="md-nav__link">
        Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-client_lazy_loader/" class="md-nav__link">
        Client Lazy Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-code_repositories/" class="md-nav__link">
        Code Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-config/" class="md-nav__link">
        Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-console/" class="md-nav__link">
        Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-container_registries/" class="md-nav__link">
        Container Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-data_validators/" class="md-nav__link">
        Data Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-entrypoints/" class="md-nav__link">
        Entrypoints
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-enums/" class="md-nav__link">
        Enums
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-environment/" class="md-nav__link">
        Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_hub/" class="md-nav__link">
        Event Hub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-event_sources/" class="md-nav__link">
        Event Sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-experiment_trackers/" class="md-nav__link">
        Experiment Trackers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-feature_stores/" class="md-nav__link">
        Feature Stores
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-image_builders/" class="md-nav__link">
        Image Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-io/" class="md-nav__link">
        Io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logger/" class="md-nav__link">
        Logger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-login/" class="md-nav__link">
        Login
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-materializers/" class="md-nav__link">
        Materializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_deployers/" class="md-nav__link">
        Model Deployers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-model_registries/" class="md-nav__link">
        Model Registries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-orchestrators/" class="md-nav__link">
        Orchestrators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-pipelines/" class="md-nav__link">
        Pipelines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-secret/" class="md-nav__link">
        Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-service_connectors/" class="md-nav__link">
        Service Connectors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-stack/" class="md-nav__link">
        Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-stack_deployments/" class="md-nav__link">
        Stack Deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-step_operators/" class="md-nav__link">
        Step Operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-steps/" class="md-nav__link">
        Steps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-types/" class="md-nav__link">
        Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_server/" class="md-nav__link">
        Zen Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core_code_docs/core-zen_stores/" class="md-nav__link">
        Zen Stores
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Integration code docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration code docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integration code docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-argilla/" class="md-nav__link">
        Argilla
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-aws/" class="md-nav__link">
        Aws
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Azure
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Azure
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.azure" class="md-nav__link">
    azure
  </a>
  
    <nav class="md-nav" aria-label="azure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration" class="md-nav__link">
    AzureIntegration
  </a>
  
    <nav class="md-nav" aria-label="AzureIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store" class="md-nav__link">
    azure_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="md-nav__link">
    AzureArtifactStore
  </a>
  
    <nav class="md-nav" aria-label="AzureArtifactStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.filesystem" class="md-nav__link">
    filesystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.copyfile" class="md-nav__link">
    copyfile()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.exists" class="md-nav__link">
    exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.get_credentials" class="md-nav__link">
    get_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.glob" class="md-nav__link">
    glob()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.isdir" class="md-nav__link">
    isdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.listdir" class="md-nav__link">
    listdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.makedirs" class="md-nav__link">
    makedirs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.mkdir" class="md-nav__link">
    mkdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.open" class="md-nav__link">
    open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.remove" class="md-nav__link">
    remove()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rename" class="md-nav__link">
    rename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rmtree" class="md-nav__link">
    rmtree()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.size" class="md-nav__link">
    size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.stat" class="md-nav__link">
    stat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.walk" class="md-nav__link">
    walk()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils" class="md-nav__link">
    azureml_utils
  </a>
  
    <nav class="md-nav" aria-label="azureml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils.check_settings_and_compute_configuration" class="md-nav__link">
    check_settings_and_compute_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils.create_or_get_compute" class="md-nav__link">
    create_or_get_compute()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor" class="md-nav__link">
    azure_artifact_store_flavor
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreConfig" class="md-nav__link">
    AzureArtifactStoreConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor" class="md-nav__link">
    AzureArtifactStoreFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureArtifactStoreFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml" class="md-nav__link">
    azureml
  </a>
  
    <nav class="md-nav" aria-label="azureml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings" class="md-nav__link">
    AzureMLComputeSettings
  </a>
  
    <nav class="md-nav" aria-label="AzureMLComputeSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings.azureml_settings_validator" class="md-nav__link">
    azureml_settings_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeTypes" class="md-nav__link">
    AzureMLComputeTypes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor" class="md-nav__link">
    azureml_orchestrator_flavor
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig" class="md-nav__link">
    AzureMLOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_schedulable" class="md-nav__link">
    is_schedulable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_synchronous" class="md-nav__link">
    is_synchronous
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor" class="md-nav__link">
    AzureMLOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorSettings" class="md-nav__link">
    AzureMLOrchestratorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor" class="md-nav__link">
    azureml_step_operator_flavor
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig" class="md-nav__link">
    AzureMLStepOperatorConfig
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperatorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor" class="md-nav__link">
    AzureMLStepOperatorFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperatorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorSettings" class="md-nav__link">
    AzureMLStepOperatorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator" class="md-nav__link">
    azureml_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator" class="md-nav__link">
    AzureMLOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.compute_metadata" class="md-nav__link">
    compute_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.fetch_status" class="md-nav__link">
    fetch_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_pipeline_run_metadata" class="md-nav__link">
    get_pipeline_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config" class="md-nav__link">
    azureml_orchestrator_entrypoint_config
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator_entrypoint_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration" class="md-nav__link">
    AzureMLEntrypointConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AzureMLEntrypointConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_arguments" class="md-nav__link">
    get_entrypoint_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_options" class="md-nav__link">
    get_entrypoint_options()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector" class="md-nav__link">
    azure_service_connector
  </a>
  
    <nav class="md-nav" aria-label="azure_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessToken" class="md-nav__link">
    AzureAccessToken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessTokenConfig" class="md-nav__link">
    AzureAccessTokenConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAuthenticationMethods" class="md-nav__link">
    AzureAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig" class="md-nav__link">
    AzureBaseConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientConfig" class="md-nav__link">
    AzureClientConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientSecret" class="md-nav__link">
    AzureClientSecret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector" class="md-nav__link">
    AzureServiceConnector
  </a>
  
    <nav class="md-nav" aria-label="AzureServiceConnector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.subscription" class="md-nav__link">
    subscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.tenant_id" class="md-nav__link">
    tenant_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.get_azure_credential" class="md-nav__link">
    get_azure_credential()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServicePrincipalConfig" class="md-nav__link">
    AzureServicePrincipalConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential" class="md-nav__link">
    ZenMLAzureTokenCredential
  </a>
  
    <nav class="md-nav" aria-label="ZenMLAzureTokenCredential">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator" class="md-nav__link">
    azureml_step_operator
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="md-nav__link">
    AzureMLStepOperator
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.get_docker_builds" class="md-nav__link">
    get_docker_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.launch" class="md-nav__link">
    launch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bentoml/" class="md-nav__link">
        Bentoml
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-bitbucket/" class="md-nav__link">
        Bitbucket
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-comet/" class="md-nav__link">
        Comet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-constants/" class="md-nav__link">
        Constants
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-databricks/" class="md-nav__link">
        Databricks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-deepchecks/" class="md-nav__link">
        Deepchecks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-discord/" class="md-nav__link">
        Discord
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-evidently/" class="md-nav__link">
        Evidently
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-facets/" class="md-nav__link">
        Facets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gcp/" class="md-nav__link">
        Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-github/" class="md-nav__link">
        Github
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-gitlab/" class="md-nav__link">
        Gitlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-great_expectations/" class="md-nav__link">
        Great Expectations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-huggingface/" class="md-nav__link">
        Huggingface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-hyperai/" class="md-nav__link">
        Hyperai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-integration/" class="md-nav__link">
        Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kaniko/" class="md-nav__link">
        Kaniko
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubeflow/" class="md-nav__link">
        Kubeflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-label_studio/" class="md-nav__link">
        Label Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-langchain/" class="md-nav__link">
        Langchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-lightgbm/" class="md-nav__link">
        Lightgbm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-lightning/" class="md-nav__link">
        Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-llama_index/" class="md-nav__link">
        Llama Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-mlflow/" class="md-nav__link">
        Mlflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neptune/" class="md-nav__link">
        Neptune
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-neural_prophet/" class="md-nav__link">
        Neural Prophet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-numpy/" class="md-nav__link">
        Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-openai/" class="md-nav__link">
        Openai
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pandas/" class="md-nav__link">
        Pandas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pigeon/" class="md-nav__link">
        Pigeon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pillow/" class="md-nav__link">
        Pillow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-polars/" class="md-nav__link">
        Polars
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-prodigy/" class="md-nav__link">
        Prodigy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pycaret/" class="md-nav__link">
        Pycaret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch/" class="md-nav__link">
        Pytorch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-pytorch_lightning/" class="md-nav__link">
        Pytorch Lightning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-registry/" class="md-nav__link">
        Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-s3/" class="md-nav__link">
        S3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-scipy/" class="md-nav__link">
        Scipy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-seldon/" class="md-nav__link">
        Seldon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-sklearn/" class="md-nav__link">
        Sklearn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot/" class="md-nav__link">
        Skypilot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_aws/" class="md-nav__link">
        Skypilot Aws
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_azure/" class="md-nav__link">
        Skypilot Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_gcp/" class="md-nav__link">
        Skypilot Gcp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_kubernetes/" class="md-nav__link">
        Skypilot Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-skypilot_lambda/" class="md-nav__link">
        Skypilot Lambda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-slack/" class="md-nav__link">
        Slack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-spark/" class="md-nav__link">
        Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tekton/" class="md-nav__link">
        Tekton
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorboard/" class="md-nav__link">
        Tensorboard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-tensorflow/" class="md-nav__link">
        Tensorflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-utils/" class="md-nav__link">
        Utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-vllm/" class="md-nav__link">
        Vllm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-wandb/" class="md-nav__link">
        Wandb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-whylogs/" class="md-nav__link">
        Whylogs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations-xgboost/" class="md-nav__link">
        Xgboost
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#zenml.integrations.azure" class="md-nav__link">
    azure
  </a>
  
    <nav class="md-nav" aria-label="azure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration" class="md-nav__link">
    AzureIntegration
  </a>
  
    <nav class="md-nav" aria-label="AzureIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.activate" class="md-nav__link">
    activate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.AzureIntegration.flavors" class="md-nav__link">
    flavors()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores" class="md-nav__link">
    artifact_stores
  </a>
  
    <nav class="md-nav" aria-label="artifact_stores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store" class="md-nav__link">
    azure_artifact_store
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="md-nav__link">
    AzureArtifactStore
  </a>
  
    <nav class="md-nav" aria-label="AzureArtifactStore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.filesystem" class="md-nav__link">
    filesystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.copyfile" class="md-nav__link">
    copyfile()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.exists" class="md-nav__link">
    exists()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.get_credentials" class="md-nav__link">
    get_credentials()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.glob" class="md-nav__link">
    glob()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.isdir" class="md-nav__link">
    isdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.listdir" class="md-nav__link">
    listdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.makedirs" class="md-nav__link">
    makedirs()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.mkdir" class="md-nav__link">
    mkdir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.open" class="md-nav__link">
    open()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.remove" class="md-nav__link">
    remove()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rename" class="md-nav__link">
    rename()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rmtree" class="md-nav__link">
    rmtree()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.size" class="md-nav__link">
    size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.stat" class="md-nav__link">
    stat()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.walk" class="md-nav__link">
    walk()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils" class="md-nav__link">
    azureml_utils
  </a>
  
    <nav class="md-nav" aria-label="azureml_utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils.check_settings_and_compute_configuration" class="md-nav__link">
    check_settings_and_compute_configuration()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.azureml_utils.create_or_get_compute" class="md-nav__link">
    create_or_get_compute()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors" class="md-nav__link">
    flavors
  </a>
  
    <nav class="md-nav" aria-label="flavors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor" class="md-nav__link">
    azure_artifact_store_flavor
  </a>
  
    <nav class="md-nav" aria-label="azure_artifact_store_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreConfig" class="md-nav__link">
    AzureArtifactStoreConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor" class="md-nav__link">
    AzureArtifactStoreFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureArtifactStoreFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml" class="md-nav__link">
    azureml
  </a>
  
    <nav class="md-nav" aria-label="azureml">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings" class="md-nav__link">
    AzureMLComputeSettings
  </a>
  
    <nav class="md-nav" aria-label="AzureMLComputeSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings.azureml_settings_validator" class="md-nav__link">
    azureml_settings_validator()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeTypes" class="md-nav__link">
    AzureMLComputeTypes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor" class="md-nav__link">
    azureml_orchestrator_flavor
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig" class="md-nav__link">
    AzureMLOrchestratorConfig
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestratorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_schedulable" class="md-nav__link">
    is_schedulable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_synchronous" class="md-nav__link">
    is_synchronous
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor" class="md-nav__link">
    AzureMLOrchestratorFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestratorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorSettings" class="md-nav__link">
    AzureMLOrchestratorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor" class="md-nav__link">
    azureml_step_operator_flavor
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator_flavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig" class="md-nav__link">
    AzureMLStepOperatorConfig
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperatorConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig.is_remote" class="md-nav__link">
    is_remote
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor" class="md-nav__link">
    AzureMLStepOperatorFlavor
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperatorFlavor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.config_class" class="md-nav__link">
    config_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.docs_url" class="md-nav__link">
    docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.implementation_class" class="md-nav__link">
    implementation_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.logo_url" class="md-nav__link">
    logo_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.sdk_docs_url" class="md-nav__link">
    sdk_docs_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.service_connector_requirements" class="md-nav__link">
    service_connector_requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorSettings" class="md-nav__link">
    AzureMLStepOperatorSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators" class="md-nav__link">
    orchestrators
  </a>
  
    <nav class="md-nav" aria-label="orchestrators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator" class="md-nav__link">
    azureml_orchestrator
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator" class="md-nav__link">
    AzureMLOrchestrator
  </a>
  
    <nav class="md-nav" aria-label="AzureMLOrchestrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.compute_metadata" class="md-nav__link">
    compute_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.fetch_status" class="md-nav__link">
    fetch_status()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_orchestrator_run_id" class="md-nav__link">
    get_orchestrator_run_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_pipeline_run_metadata" class="md-nav__link">
    get_pipeline_run_metadata()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.prepare_or_run_pipeline" class="md-nav__link">
    prepare_or_run_pipeline()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config" class="md-nav__link">
    azureml_orchestrator_entrypoint_config
  </a>
  
    <nav class="md-nav" aria-label="azureml_orchestrator_entrypoint_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration" class="md-nav__link">
    AzureMLEntrypointConfiguration
  </a>
  
    <nav class="md-nav" aria-label="AzureMLEntrypointConfiguration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_arguments" class="md-nav__link">
    get_entrypoint_arguments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_options" class="md-nav__link">
    get_entrypoint_options()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors" class="md-nav__link">
    service_connectors
  </a>
  
    <nav class="md-nav" aria-label="service_connectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector" class="md-nav__link">
    azure_service_connector
  </a>
  
    <nav class="md-nav" aria-label="azure_service_connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessToken" class="md-nav__link">
    AzureAccessToken
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessTokenConfig" class="md-nav__link">
    AzureAccessTokenConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAuthenticationMethods" class="md-nav__link">
    AzureAuthenticationMethods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig" class="md-nav__link">
    AzureBaseConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientConfig" class="md-nav__link">
    AzureClientConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientSecret" class="md-nav__link">
    AzureClientSecret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector" class="md-nav__link">
    AzureServiceConnector
  </a>
  
    <nav class="md-nav" aria-label="AzureServiceConnector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.subscription" class="md-nav__link">
    subscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.tenant_id" class="md-nav__link">
    tenant_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.get_azure_credential" class="md-nav__link">
    get_azure_credential()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.model_post_init" class="md-nav__link">
    model_post_init()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureServicePrincipalConfig" class="md-nav__link">
    AzureServicePrincipalConfig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential" class="md-nav__link">
    ZenMLAzureTokenCredential
  </a>
  
    <nav class="md-nav" aria-label="ZenMLAzureTokenCredential">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.get_token" class="md-nav__link">
    get_token()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators" class="md-nav__link">
    step_operators
  </a>
  
    <nav class="md-nav" aria-label="step_operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator" class="md-nav__link">
    azureml_step_operator
  </a>
  
    <nav class="md-nav" aria-label="azureml_step_operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="md-nav__link">
    AzureMLStepOperator
  </a>
  
    <nav class="md-nav" aria-label="AzureMLStepOperator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.config" class="md-nav__link">
    config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.settings_class" class="md-nav__link">
    settings_class
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.validator" class="md-nav__link">
    validator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.get_docker_builds" class="md-nav__link">
    get_docker_builds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.launch" class="md-nav__link">
    launch()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zenml-io/zenml/docs/integration_code_docs/integrations-azure.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="azure">Azure</h1>


  <div class="doc doc-object doc-module">



<h2 id="zenml.integrations.azure" class="doc doc-heading">
        <code>zenml.integrations.azure</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>Initialization of the ZenML Azure integration.</p>
<p>The Azure integration submodule provides a way to run ZenML pipelines in a cloud
environment. Specifically, it allows the use of cloud artifact stores,
and an <code>io</code> module to handle file operations on Azure Blob Storage.
The Azure Step Operator integration submodule provides a way to run ZenML steps
in AzureML.</p>



  <div class="doc doc-children">













  <div class="doc doc-object doc-class">



<h3 id="zenml.integrations.azure.AzureIntegration" class="doc doc-heading">
        <code>
AzureIntegration            (<a class="autorefs autorefs-internal" title="zenml.integrations.integration.Integration" href="../integrations-integration/#zenml.integrations.integration.Integration">Integration</a>)
        </code>



</h3>

    <div class="doc doc-contents ">

      <p>Definition of Azure integration for ZenML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureIntegration</span><span class="p">(</span><span class="n">Integration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Definition of Azure integration for ZenML.&quot;&quot;&quot;</span>

    <span class="n">NAME</span> <span class="o">=</span> <span class="n">AZURE</span>
    <span class="n">REQUIREMENTS</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;adlfs&gt;=2021.10.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-keyvault-keys&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-keyvault-secrets&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-identity&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azureml-core==1.56.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-mgmt-containerservice&gt;=20.0.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-storage-blob==12.17.0&quot;</span><span class="p">,</span>  <span class="c1"># temporary fix for https://github.com/Azure/azure-sdk-for-python/issues/32056</span>
        <span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure-ai-ml==1.18.0&quot;</span><span class="p">,</span>
        <span class="c1"># In azureml/core/_metrics.py:212 of azureml-core 1.56.0, they use </span>
        <span class="c1"># an attribute that was removed in Numpy 2.0. However, AzureML itself</span>
        <span class="c1"># does not have a limitation on numpy.</span>
        <span class="s2">&quot;numpy&lt;2.0&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">REQUIREMENTS_IGNORED_ON_UNINSTALL</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kubernetes&quot;</span><span class="p">,</span> <span class="s2">&quot;numpy&quot;</span><span class="p">]</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Activate the Azure integration.&quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure</span> <span class="kn">import</span> <span class="n">service_connectors</span>  <span class="c1"># noqa</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Declares the flavors for the integration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of stack component flavors for this integration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure.flavors</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">AzureArtifactStoreFlavor</span><span class="p">,</span>
            <span class="n">AzureMLStepOperatorFlavor</span><span class="p">,</span>
            <span class="n">AzureMLOrchestratorFlavor</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">AzureArtifactStoreFlavor</span><span class="p">,</span>
            <span class="n">AzureMLStepOperatorFlavor</span><span class="p">,</span>
            <span class="n">AzureMLOrchestratorFlavor</span><span class="p">,</span>
        <span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.azure.AzureIntegration.activate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">activate</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Activate the Azure integration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">activate</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Activate the Azure integration.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.azure</span> <span class="kn">import</span> <span class="n">service_connectors</span>  <span class="c1"># noqa</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="zenml.integrations.azure.AzureIntegration.flavors" class="doc doc-heading">
<code class="highlight language-python"><span class="n">flavors</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h4>

    <div class="doc doc-contents ">

      <p>Declares the flavors for the integration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Type[zenml.stack.flavor.Flavor]]</code></td>
      <td><p>List of stack component flavors for this integration.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/__init__.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">flavors</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">Flavor</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Declares the flavors for the integration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of stack component flavors for this integration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">zenml.integrations.azure.flavors</span> <span class="kn">import</span> <span class="p">(</span>
        <span class="n">AzureArtifactStoreFlavor</span><span class="p">,</span>
        <span class="n">AzureMLStepOperatorFlavor</span><span class="p">,</span>
        <span class="n">AzureMLOrchestratorFlavor</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">AzureArtifactStoreFlavor</span><span class="p">,</span>
        <span class="n">AzureMLStepOperatorFlavor</span><span class="p">,</span>
        <span class="n">AzureMLOrchestratorFlavor</span><span class="p">,</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.artifact_stores" class="doc doc-heading">
        <code>artifact_stores</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of the Azure Artifact Store integration.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.artifact_stores.azure_artifact_store" class="doc doc-heading">
        <code>azure_artifact_store</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the Azure Artifact Store integration.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore" class="doc doc-heading">
        <code>
AzureArtifactStore            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStore" href="../../core_code_docs/core-artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStore">BaseArtifactStore</a>, <a class="autorefs autorefs-internal" title="zenml.stack.authentication_mixin.AuthenticationMixin" href="../../core_code_docs/core-stack/#zenml.stack.authentication_mixin.AuthenticationMixin">AuthenticationMixin</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Artifact Store for Microsoft Azure based artifacts.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureArtifactStore</span><span class="p">(</span><span class="n">BaseArtifactStore</span><span class="p">,</span> <span class="n">AuthenticationMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Artifact Store for Microsoft Azure based artifacts.&quot;&quot;&quot;</span>

    <span class="n">_filesystem</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AzureArtifactStoreConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the `AzureArtifactStoreConfig` config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">AzureArtifactStoreConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AzureSecretSchema</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the credentials for the Azure Artifact Store if configured.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The credentials.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the connector is not configured with Azure service</span>
<span class="sd">                principal credentials.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">connector</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">ClientSecretCredential</span>
            <span class="kn">from</span> <span class="nn">azure.storage.blob</span> <span class="kn">import</span> <span class="n">BlobServiceClient</span>

            <span class="n">client</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">BlobServiceClient</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Expected a </span><span class="si">{</span><span class="n">BlobServiceClient</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BlobServiceClient</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> object while &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;trying to use the linked connector, but got &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">client</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="p">)</span>
            <span class="c1"># Get the credentials from the client</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">credential</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">ClientSecretCredential</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The Azure Artifact Store connector can only be used &quot;</span>
                    <span class="s2">&quot;with a service connector that is configured with &quot;</span>
                    <span class="s2">&quot;Azure service principal credentials.&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">AzureSecretSchema</span><span class="p">(</span>
                <span class="n">client_id</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
                <span class="n">client_secret</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_client_credential</span><span class="p">,</span>
                <span class="n">tenant_id</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_tenant_id</span><span class="p">,</span>
                <span class="n">account_name</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">account_name</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_typed_authentication_secret</span><span class="p">(</span>
            <span class="n">expected_schema_type</span><span class="o">=</span><span class="n">AzureSecretSchema</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">secret</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filesystem</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The adlfs filesystem to access this artifact store.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The adlfs filesystem to access this artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_credentials</span><span class="p">()</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">secret</span><span class="o">.</span><span class="n">get_values</span><span class="p">()</span> <span class="k">if</span> <span class="n">secret</span> <span class="k">else</span> <span class="p">{}</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span> <span class="o">=</span> <span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span><span class="p">(</span>
                <span class="o">**</span><span class="n">credentials</span><span class="p">,</span>
                <span class="n">anon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">use_listings_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filesystem</span>

    <span class="k">def</span> <span class="nf">_split_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Splits a path into the filesystem prefix and remainder.</span>

<span class="sd">        Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        prefix, remainder = ZenAzure._split_path(&quot;az://my_container/test.txt&quot;)</span>
<span class="sd">        print(prefix, remainder)  # &quot;az://&quot; &quot;my_container/test.txt&quot;</span>
<span class="sd">        ```</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to split.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple of the filesystem prefix and the remainder.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">convert_to_str</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">potential_prefix</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">potential_prefix</span><span class="p">):</span>
                <span class="n">prefix</span> <span class="o">=</span> <span class="n">potential_prefix</span>
                <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">potential_prefix</span><span class="p">)</span> <span class="p">:]</span>
                <span class="k">break</span>

        <span class="k">return</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: Path of the file to open.</span>
<span class="sd">            mode: Mode in which to open the file. Currently, only</span>
<span class="sd">                &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A file-like object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path to copy from.</span>
<span class="sd">            dst: The path to copy to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
        <span class="c1">#  manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path exists, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">        The glob pattern may include:</span>
<span class="sd">        - &#39;*&#39; to match any number of characters</span>
<span class="sd">        - &#39;?&#39; to match a single character</span>
<span class="sd">        - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">        - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">            in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern: The glob pattern to match, see details above.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of paths that match the given glob pattern.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the path is a directory, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of files in the given directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Extracts the basename from a dictionary returned by the Azure filesystem.</span>

<span class="sd">            Args:</span>
<span class="sd">                file_dict: A dictionary returned by the Azure filesystem.</span>

<span class="sd">            Returns:</span>
<span class="sd">                The basename of the file.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
            <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
            <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span>
            <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        If needed also create missing parent directories.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to create.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">        Args:</span>
<span class="sd">            src: The path of the file to rename.</span>
<span class="sd">            dst: The path to rename the source file to.</span>
<span class="sd">            overwrite: If a file already exists at the destination, this</span>
<span class="sd">                method will overwrite it if overwrite=`True` and</span>
<span class="sd">                raise a FileExistsError otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileExistsError: If a file already exists at the destination</span>
<span class="sd">                and overwrite is not set to `True`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
        <span class="c1">#  to manually remove it first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path of the directory to remove.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to get stat info for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Stat info.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the size of a file in bytes.</span>

<span class="sd">        Args:</span>
<span class="sd">            path: The path to the file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The size of the file in bytes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>

    <span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
        <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">        Args:</span>
<span class="sd">            top: Path of directory to walk.</span>
<span class="sd">            topdown: Unused argument to conform to interface.</span>
<span class="sd">            onerror: Unused argument to conform to interface.</span>

<span class="sd">        Yields:</span>
<span class="sd">            An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">            directory path, a list of directories inside the current directory</span>
<span class="sd">            and a list of files inside the current directory.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO [ENG-153]: Additional params</span>
        <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">directory</span><span class="p">,</span>
            <span class="n">subdirectories</span><span class="p">,</span>
            <span class="n">files</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">AzureArtifactStoreConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the <code>AzureArtifactStoreConfig</code> config.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AzureArtifactStoreConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.filesystem" class="doc doc-heading">
<code class="highlight language-python"><span class="n">filesystem</span><span class="p">:</span> <span class="n">adlfs</span><span class="o">.</span><span class="n">AzureBlobFileSystem</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>The adlfs filesystem to access this artifact store.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>adlfs.AzureBlobFileSystem</code></td>
      <td><p>The adlfs filesystem to access this artifact store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.copyfile" class="doc doc-heading">
<code class="highlight language-python"><span class="n">copyfile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Copy a file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy from.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to copy to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">copyfile</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy a file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path to copy from.</span>
<span class="sd">        dst: The path to copy to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to copy to destination &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to copy anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-151]: Check if it works with overwrite=True or if we need to</span>
    <span class="c1">#  manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.exists" class="doc doc-heading">
<code class="highlight language-python"><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check whether a path exists.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path exists, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check whether a path exists.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path exists, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.get_credentials" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the credentials for the Azure Artifact Store if configured.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.secret.schemas.azure_secret_schema.AzureSecretSchema]</code></td>
      <td><p>The credentials.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the connector is not configured with Azure service
principal credentials.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">AzureSecretSchema</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the credentials for the Azure Artifact Store if configured.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The credentials.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the connector is not configured with Azure service</span>
<span class="sd">            principal credentials.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">connector</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">ClientSecretCredential</span>
        <span class="kn">from</span> <span class="nn">azure.storage.blob</span> <span class="kn">import</span> <span class="n">BlobServiceClient</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">BlobServiceClient</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Expected a </span><span class="si">{</span><span class="n">BlobServiceClient</span><span class="o">.</span><span class="vm">__module__</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">BlobServiceClient</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> object while &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;trying to use the linked connector, but got &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">client</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="c1"># Get the credentials from the client</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">credential</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">ClientSecretCredential</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;The Azure Artifact Store connector can only be used &quot;</span>
                <span class="s2">&quot;with a service connector that is configured with &quot;</span>
                <span class="s2">&quot;Azure service principal credentials.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">AzureSecretSchema</span><span class="p">(</span>
            <span class="n">client_id</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_client_id</span><span class="p">,</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_client_credential</span><span class="p">,</span>
            <span class="n">tenant_id</span><span class="o">=</span><span class="n">credentials</span><span class="o">.</span><span class="n">_tenant_id</span><span class="p">,</span>
            <span class="n">account_name</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">account_name</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">secret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_typed_authentication_secret</span><span class="p">(</span>
        <span class="n">expected_schema_type</span><span class="o">=</span><span class="n">AzureSecretSchema</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">secret</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.glob" class="doc doc-heading">
<code class="highlight language-python"><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Return all paths that match the given glob pattern.</p>
<p>The glob pattern may include:
- '<em>' to match any number of characters
- '?' to match a single character
- '[...]' to match one of the characters inside the brackets
- '</em><em>' as the full name of a path component to match to search
    in subdirectories of any depth (e.g. '/some_dir/</em>*/some_file)</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pattern</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The glob pattern to match, see details above.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of paths that match the given glob pattern.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">glob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return all paths that match the given glob pattern.</span>

<span class="sd">    The glob pattern may include:</span>
<span class="sd">    - &#39;*&#39; to match any number of characters</span>
<span class="sd">    - &#39;?&#39; to match a single character</span>
<span class="sd">    - &#39;[...]&#39; to match one of the characters inside the brackets</span>
<span class="sd">    - &#39;**&#39; as the full name of a path component to match to search</span>
<span class="sd">        in subdirectories of any depth (e.g. &#39;/some_dir/**/some_file)</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern: The glob pattern to match, see details above.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of paths that match the given glob pattern.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.isdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Check whether a path is a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the path is a directory, False otherwise.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">isdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check whether a path is a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to check.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the path is a directory, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.listdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Return a list of files in a directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to list.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[Union[bytes, str]]</code></td>
      <td><p>A list of files in the given directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">listdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list of files in a directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of files in the given directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_extract_basename</span><span class="p">(</span><span class="n">file_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extracts the basename from a dictionary returned by the Azure filesystem.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_dict: A dictionary returned by the Azure filesystem.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The basename of the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="n">base_name</span> <span class="o">=</span> <span class="n">file_path</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="p">:]</span>
        <span class="k">return</span> <span class="n">base_name</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span>
        <span class="n">_extract_basename</span><span class="p">(</span><span class="n">dict_</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">dict_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.makedirs" class="doc doc-heading">
<code class="highlight language-python"><span class="n">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>
<p>If needed also create missing parent directories.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">makedirs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    If needed also create missing parent directories.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.mkdir" class="doc doc-heading">
<code class="highlight language-python"><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Create a directory at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to create.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a directory at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to create.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">makedir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.open" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Open a file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of the file to open.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>mode</code></td>
        <td><code>str</code></td>
        <td><p>Mode in which to open the file. Currently, only
'rb' and 'wb' to read and write binary files are supported.</p></td>
        <td><code>&#39;r&#39;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A file-like object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Open a file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: Path of the file to open.</span>
<span class="sd">        mode: Mode in which to open the file. Currently, only</span>
<span class="sd">            &#39;rb&#39; and &#39;wb&#39; to read and write binary files are supported.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A file-like object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.remove" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Remove the file at the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove the file at the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rm_file</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">overwrite</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Rename source file to destination file.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>src</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the file to rename.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dst</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to rename the source file to.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>overwrite</code></td>
        <td><code>bool</code></td>
        <td><p>If a file already exists at the destination, this
method will overwrite it if overwrite=<code>True</code> and
raise a FileExistsError otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileExistsError</code></td>
        <td><p>If a file already exists at the destination
and overwrite is not set to <code>True</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rename</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">src</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">dst</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rename source file to destination file.</span>

<span class="sd">    Args:</span>
<span class="sd">        src: The path of the file to rename.</span>
<span class="sd">        dst: The path to rename the source file to.</span>
<span class="sd">        overwrite: If a file already exists at the destination, this</span>
<span class="sd">            method will overwrite it if overwrite=`True` and</span>
<span class="sd">            raise a FileExistsError otherwise.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileExistsError: If a file already exists at the destination</span>
<span class="sd">            and overwrite is not set to `True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">overwrite</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">dst</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileExistsError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to rename file to &#39;</span><span class="si">{</span><span class="n">convert_to_str</span><span class="p">(</span><span class="n">dst</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;file already exists. Set `overwrite=True` to rename anyway.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># TODO [ENG-152]: Check if it works with overwrite=True or if we need</span>
    <span class="c1">#  to manually remove it first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">path1</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">path2</span><span class="o">=</span><span class="n">dst</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.rmtree" class="doc doc-heading">
<code class="highlight language-python"><span class="n">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Remove the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path of the directory to remove.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">rmtree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path of the directory to remove.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get the size of a file in bytes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to the file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>The size of the file in bytes.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the size of a file in bytes.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to the file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The size of the file in bytes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.stat" class="doc doc-heading">
<code class="highlight language-python"><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Return stat info for the given path.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>path</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>The path to get stat info for.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, Any]</code></td>
      <td><p>Stat info.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">stat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">PathType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return stat info for the given path.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: The path to get stat info for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Stat info.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">)</span>  <span class="c1"># type: ignore[no-any-return]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.artifact_stores.azure_artifact_store.AzureArtifactStore.walk" class="doc doc-heading">
<code class="highlight language-python"><span class="n">walk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">topdown</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">onerror</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Return an iterator that walks the contents of the given directory.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>top</code></td>
        <td><code>Union[bytes, str]</code></td>
        <td><p>Path of directory to walk.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>topdown</code></td>
        <td><code>bool</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>onerror</code></td>
        <td><code>Optional[Callable[..., NoneType]]</code></td>
        <td><p>Unused argument to conform to interface.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[Tuple[Union[bytes, str], List[Union[bytes, str]], List[Union[bytes, str]]]]</code></td>
      <td><p>An Iterable of Tuples, each of which contain the path of the current
directory path, a list of directories inside the current directory
and a list of files inside the current directory.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/artifact_stores/azure_artifact_store.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">walk</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="n">PathType</span><span class="p">,</span>
    <span class="n">topdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">onerror</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">PathType</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">PathType</span><span class="p">]]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return an iterator that walks the contents of the given directory.</span>

<span class="sd">    Args:</span>
<span class="sd">        top: Path of directory to walk.</span>
<span class="sd">        topdown: Unused argument to conform to interface.</span>
<span class="sd">        onerror: Unused argument to conform to interface.</span>

<span class="sd">    Yields:</span>
<span class="sd">        An Iterable of Tuples, each of which contain the path of the current</span>
<span class="sd">        directory path, a list of directories inside the current directory</span>
<span class="sd">        and a list of files inside the current directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO [ENG-153]: Additional params</span>
    <span class="n">prefix</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_split_path</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span>
        <span class="n">directory</span><span class="p">,</span>
        <span class="n">subdirectories</span><span class="p">,</span>
        <span class="n">files</span><span class="p">,</span>
    <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">top</span><span class="p">):</span>
        <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">subdirectories</span><span class="p">,</span> <span class="n">files</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.azureml_utils" class="doc doc-heading">
        <code>azureml_utils</code>



</h3>

    <div class="doc doc-contents ">

      <p>AzureML definitions.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h4 id="zenml.integrations.azure.azureml_utils.check_settings_and_compute_configuration" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_settings_and_compute_configuration</span><span class="p">(</span><span class="n">parameter</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">compute</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Utility function comparing a parameter between settings and compute.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>parameter</code></td>
        <td><code>str</code></td>
        <td><p>the name of the parameter.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>AzureMLComputeSettings</code></td>
        <td><p>The AzureML orchestrator settings.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>compute</code></td>
        <td><code>azure.ai.ml.entities.Compute</code></td>
        <td><p>The compute instance or cluster from AzureML.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/azureml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">check_settings_and_compute_configuration</span><span class="p">(</span>
    <span class="n">parameter</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">AzureMLComputeSettings</span><span class="p">,</span>
    <span class="n">compute</span><span class="p">:</span> <span class="n">Compute</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function comparing a parameter between settings and compute.</span>

<span class="sd">    Args:</span>
<span class="sd">        parameter: the name of the parameter.</span>
<span class="sd">        settings: The AzureML orchestrator settings.</span>
<span class="sd">        compute: The compute instance or cluster from AzureML.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check the compute size</span>
    <span class="n">compute_value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">compute</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
    <span class="n">settings_value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">settings</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">settings_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">settings_value</span> <span class="o">!=</span> <span class="n">compute_value</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The &#39;</span><span class="si">{</span><span class="n">parameter</span><span class="si">}</span><span class="s2">&#39; defined in the settings &#39;</span><span class="si">{</span><span class="n">settings_value</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="s2">&quot;does not match the actual parameter of the instance: &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">compute_value</span><span class="si">}</span><span class="s2">&#39;. Will ignore this setting for now.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 id="zenml.integrations.azure.azureml_utils.create_or_get_compute" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_or_get_compute</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">default_compute_name</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Creates or fetches the compute target if defined in the settings.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>client</code></td>
        <td><code>azure.ai.ml.MLClient</code></td>
        <td><p>the AzureML client.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>settings</code></td>
        <td><code>AzureMLComputeSettings</code></td>
        <td><p>the settings for the orchestrator.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>default_compute_name</code></td>
        <td><code>str</code></td>
        <td><p>the default name for the compute target, if one
is not provided in the settings.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>None, if the orchestrator is using serverless compute or
str, the name of the compute target (instance or cluster).</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>if the fetched compute target is unsupported or the
mode defined in the setting does not match the type of the
compute target.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/azureml_utils.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">create_or_get_compute</span><span class="p">(</span>
    <span class="n">client</span><span class="p">:</span> <span class="n">MLClient</span><span class="p">,</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">AzureMLComputeSettings</span><span class="p">,</span>
    <span class="n">default_compute_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates or fetches the compute target if defined in the settings.</span>

<span class="sd">    Args:</span>
<span class="sd">        client: the AzureML client.</span>
<span class="sd">        settings: the settings for the orchestrator.</span>
<span class="sd">        default_compute_name: the default name for the compute target, if one</span>
<span class="sd">            is not provided in the settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None, if the orchestrator is using serverless compute or</span>
<span class="sd">        str, the name of the compute target (instance or cluster).</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: if the fetched compute target is unsupported or the</span>
<span class="sd">            mode defined in the setting does not match the type of the</span>
<span class="sd">            compute target.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If the mode is serverless, we can not fetch anything anyhow</span>
    <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># If a name is not provided, generate one based on the orchestrator id</span>
    <span class="n">compute_name</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">compute_name</span> <span class="ow">or</span> <span class="n">default_compute_name</span>

    <span class="c1"># Try to fetch the compute target</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">compute</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">compute</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">compute_name</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using existing compute target: &#39;</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span><span class="p">)</span>

        <span class="c1"># Check if compute size matches with the settings</span>
        <span class="n">check_settings_and_compute_configuration</span><span class="p">(</span>
            <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="n">compute</span>
        <span class="p">)</span>

        <span class="n">compute_type</span> <span class="o">=</span> <span class="n">compute</span><span class="o">.</span><span class="n">type</span>

        <span class="c1"># Check the type and matches the settings</span>
        <span class="k">if</span> <span class="n">compute_type</span> <span class="o">==</span> <span class="s2">&quot;computeinstance&quot;</span><span class="p">:</span>  <span class="c1"># Compute Instance</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The mode of operation for the compute target defined&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;in the settings &#39;</span><span class="si">{</span><span class="n">settings</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">&#39; does not match &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;the type of the compute target: `</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">` &quot;</span>
                    <span class="s2">&quot;which is a &#39;compute-instance&#39;. Please make sure that &quot;</span>
                    <span class="s2">&quot;the settings are adjusted properly.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">compute</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="s2">&quot;Running&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The compute instance `</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">` is not in a &quot;</span>
                    <span class="s2">&quot;running state at the moment. Please make sure that &quot;</span>
                    <span class="s2">&quot;the compute target is running, before executing the &quot;</span>
                    <span class="s2">&quot;pipeline.&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Idle time before shutdown</span>
            <span class="n">check_settings_and_compute_configuration</span><span class="p">(</span>
                <span class="n">parameter</span><span class="o">=</span><span class="s2">&quot;idle_time_before_shutdown_minutes&quot;</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span>
                <span class="n">compute</span><span class="o">=</span><span class="n">compute</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="n">compute_type</span> <span class="o">==</span> <span class="s2">&quot;amIcompute&quot;</span><span class="p">:</span>  <span class="c1"># Compute Cluster</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">!=</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;The mode of operation for the compute target defined &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;in the settings &#39;</span><span class="si">{</span><span class="n">settings</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">&#39; does not match &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;the type of the compute target: `</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">` &quot;</span>
                    <span class="s2">&quot;which is a &#39;compute-cluster&#39;. Please make sure that &quot;</span>
                    <span class="s2">&quot;the settings are adjusted properly.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">compute</span><span class="o">.</span><span class="n">provisioning_state</span> <span class="o">!=</span> <span class="s2">&quot;Succeeded&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The provisioning state &#39;</span><span class="si">{</span><span class="n">compute</span><span class="o">.</span><span class="n">provisioning_state</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of the compute cluster `</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">` is not &quot;</span>
                    <span class="s2">&quot;successful. Please make sure that the compute cluster &quot;</span>
                    <span class="s2">&quot;is provisioned properly, before executing the &quot;</span>
                    <span class="s2">&quot;pipeline.&quot;</span>
                <span class="p">)</span>

            <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="s2">&quot;idle_time_before_scale_down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;max_instances&quot;</span><span class="p">,</span>
                <span class="s2">&quot;min_instances&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tier&quot;</span><span class="p">,</span>
                <span class="s2">&quot;location&quot;</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="c1"># Check all possible configurations</span>
                <span class="n">check_settings_and_compute_configuration</span><span class="p">(</span>
                    <span class="n">parameter</span><span class="o">=</span><span class="n">parameter</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="n">settings</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="n">compute</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported compute type: </span><span class="si">{</span><span class="n">compute_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">compute_name</span>

    <span class="c1"># If the compute target does not exist create it</span>
    <span class="k">except</span> <span class="n">ResourceNotFoundError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;Can not find the compute target with name: &quot;</span> <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">compute_name</span><span class="si">}</span><span class="s2">&#39;:&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Creating a new compute instance. This might take a &quot;</span>
                <span class="s2">&quot;few minutes.&quot;</span>
            <span class="p">)</span>

            <span class="kn">from</span> <span class="nn">azure.ai.ml.entities</span> <span class="kn">import</span> <span class="n">ComputeInstance</span>

            <span class="n">compute_instance</span> <span class="o">=</span> <span class="n">ComputeInstance</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">compute_name</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                <span class="n">idle_time_before_shutdown_minutes</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">idle_time_before_shutdown_minutes</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">client</span><span class="o">.</span><span class="n">begin_create_or_update</span><span class="p">(</span><span class="n">compute_instance</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">compute_name</span>

        <span class="k">elif</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="s2">&quot;Creating a new compute cluster. This might take a &quot;</span>
                <span class="s2">&quot;few minutes.&quot;</span>
            <span class="p">)</span>

            <span class="kn">from</span> <span class="nn">azure.ai.ml.entities</span> <span class="kn">import</span> <span class="n">AmlCompute</span>

            <span class="n">compute_cluster</span> <span class="o">=</span> <span class="n">AmlCompute</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">compute_name</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                <span class="n">location</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
                <span class="n">min_instances</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">min_instances</span><span class="p">,</span>
                <span class="n">max_instances</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">max_instances</span><span class="p">,</span>
                <span class="n">idle_time_before_scale_down</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">idle_time_before_scaledown_down</span><span class="p">,</span>
                <span class="n">tier</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">tier</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">client</span><span class="o">.</span><span class="n">begin_create_or_update</span><span class="p">(</span><span class="n">compute_cluster</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">compute_name</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.flavors" class="doc doc-heading">
        <code>flavors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Azure integration flavors.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor" class="doc doc-heading">
        <code>azure_artifact_store_flavor</code>



</h4>

    <div class="doc doc-contents ">

      <p>Azure artifact store flavor.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreConfig" class="doc doc-heading">
        <code>
AzureArtifactStoreConfig            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStoreConfig" href="../../core_code_docs/core-artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStoreConfig">BaseArtifactStoreConfig</a>, <a class="autorefs autorefs-internal" title="zenml.stack.authentication_mixin.AuthenticationConfigMixin" href="../../core_code_docs/core-stack/#zenml.stack.authentication_mixin.AuthenticationConfigMixin">AuthenticationConfigMixin</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Configuration class for Azure Artifact Store.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azure_artifact_store_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureArtifactStoreConfig</span><span class="p">(</span>
    <span class="n">BaseArtifactStoreConfig</span><span class="p">,</span> <span class="n">AuthenticationConfigMixin</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration class for Azure Artifact Store.&quot;&quot;&quot;</span>

    <span class="n">SUPPORTED_SCHEMES</span><span class="p">:</span> <span class="n">ClassVar</span><span class="p">[</span><span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;abfs://&quot;</span><span class="p">,</span> <span class="s2">&quot;az://&quot;</span><span class="p">}</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor" class="doc doc-heading">
        <code>
AzureArtifactStoreFlavor            (<a class="autorefs autorefs-internal" title="zenml.artifact_stores.base_artifact_store.BaseArtifactStoreFlavor" href="../../core_code_docs/core-artifact_stores/#zenml.artifact_stores.base_artifact_store.BaseArtifactStoreFlavor">BaseArtifactStoreFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure Artifact Store flavor.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azure_artifact_store_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureArtifactStoreFlavor</span><span class="p">(</span><span class="n">BaseArtifactStoreFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure Artifact Store flavor.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AZURE_ARTIFACT_STORE_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_connector_requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorRequirements</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Service connector resource requirements for service connectors.</span>

<span class="sd">        Specifies resource requirements that are used to filter the available</span>
<span class="sd">        service connector types that are compatible with this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Requirements for compatible service connectors, if a service</span>
<span class="sd">            connector is required for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceConnectorRequirements</span><span class="p">(</span>
            <span class="n">connector_type</span><span class="o">=</span><span class="n">AZURE_CONNECTOR_TYPE</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">BLOB_RESOURCE_TYPE</span><span class="p">,</span>
            <span class="n">resource_id_attr</span><span class="o">=</span><span class="s2">&quot;path&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/artifact_store/azure.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureArtifactStoreConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns AzureArtifactStoreConfig config class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AzureArtifactStoreConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;AzureArtifactStore&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure.artifact_stores</span> <span class="kn">import</span> <span class="n">AzureArtifactStore</span>

        <span class="k">return</span> <span class="n">AzureArtifactStore</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">azure</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">azure_artifact_store_flavor</span><span class="o">.</span><span class="n">AzureArtifactStoreConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns AzureArtifactStoreConfig config class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureArtifactStore</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[AzureArtifactStore]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azure_artifact_store_flavor.AzureArtifactStoreFlavor.service_connector_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service_connector_requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">ServiceConnectorRequirements</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service connector resource requirements for service connectors.</p>
<p>Specifies resource requirements that are used to filter the available
service connector types that are compatible with this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.models.v2.misc.service_connector_type.ServiceConnectorRequirements]</code></td>
      <td><p>Requirements for compatible service connectors, if a service
connector is required for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.flavors.azureml" class="doc doc-heading">
        <code>azureml</code>



</h4>

    <div class="doc doc-contents ">

      <p>AzureML definitions.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings" class="doc doc-heading">
        <code>
AzureMLComputeSettings            (<a class="autorefs autorefs-internal" title="zenml.config.base_settings.BaseSettings" href="../../core_code_docs/core-config/#zenml.config.base_settings.BaseSettings">BaseSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Settings for the AzureML compute.</p>
<p>These settings adjust the compute resources that will be used by the
pipeline execution.</p>
<p>There are three possible use cases for this implementation:</p>
<pre><code>1. Serverless compute (default behavior):
    - The `mode` is set to `serverless` (default behavior).
    - All the other parameters become irrelevant and will throw a
    warning if set.

2. Compute instance:
    - The `mode` is set to `compute-instance`.
    - In this case, users have to provide a `compute-name`.
        - If a compute instance exists with this name, this instance
        will be used and all the other parameters become irrelevant
        and will throw a warning if set.
        - If a compute instance does not already exist, ZenML will
        create it. You can use the parameters `compute_size` and
        `idle_type_before_shutdown_minutes` for this operation.

3. Compute cluster:
    - The `mode` is set to `compute-cluster`.
    - In this case, users have to provide a `compute-name`.
        - If a compute cluster exists with this name, this instance
        will be used and all the other parameters become irrelevant
        and will throw a warning if set.
        - If a compute cluster does not already exist, ZenML will
        create it. You can set the additional parameters for this
        operation.
</code></pre>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLComputeSettings</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for the AzureML compute.</span>

<span class="sd">    These settings adjust the compute resources that will be used by the</span>
<span class="sd">    pipeline execution.</span>

<span class="sd">    There are three possible use cases for this implementation:</span>

<span class="sd">        1. Serverless compute (default behavior):</span>
<span class="sd">            - The `mode` is set to `serverless` (default behavior).</span>
<span class="sd">            - All the other parameters become irrelevant and will throw a</span>
<span class="sd">            warning if set.</span>

<span class="sd">        2. Compute instance:</span>
<span class="sd">            - The `mode` is set to `compute-instance`.</span>
<span class="sd">            - In this case, users have to provide a `compute-name`.</span>
<span class="sd">                - If a compute instance exists with this name, this instance</span>
<span class="sd">                will be used and all the other parameters become irrelevant</span>
<span class="sd">                and will throw a warning if set.</span>
<span class="sd">                - If a compute instance does not already exist, ZenML will</span>
<span class="sd">                create it. You can use the parameters `compute_size` and</span>
<span class="sd">                `idle_type_before_shutdown_minutes` for this operation.</span>

<span class="sd">        3. Compute cluster:</span>
<span class="sd">            - The `mode` is set to `compute-cluster`.</span>
<span class="sd">            - In this case, users have to provide a `compute-name`.</span>
<span class="sd">                - If a compute cluster exists with this name, this instance</span>
<span class="sd">                will be used and all the other parameters become irrelevant</span>
<span class="sd">                and will throw a warning if set.</span>
<span class="sd">                - If a compute cluster does not already exist, ZenML will</span>
<span class="sd">                create it. You can set the additional parameters for this</span>
<span class="sd">                operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Mode for compute</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">AzureMLComputeTypes</span> <span class="o">=</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span>

    <span class="c1"># Common Configuration for Compute Instances and Clusters</span>
    <span class="n">compute_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Additional configuration for a Compute Instance</span>
    <span class="n">idle_time_before_shutdown_minutes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Additional configuration for a Compute Cluster</span>
    <span class="n">idle_time_before_scaledown_down</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">min_instances</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">max_instances</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tier</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">azureml_settings_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzureMLComputeSettings&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks whether the right configuration is set based on mode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the instance itself.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AssertionError: if a name is not provided when working with</span>
<span class="sd">                instances and clusters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">viable_configuration_fields</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="p">},</span>
            <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;mode&quot;</span><span class="p">,</span>
                <span class="s2">&quot;compute_name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;size&quot;</span><span class="p">,</span>
                <span class="s2">&quot;idle_time_before_shutdown_minutes&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;mode&quot;</span><span class="p">,</span>
                <span class="s2">&quot;compute_name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;size&quot;</span><span class="p">,</span>
                <span class="s2">&quot;idle_time_before_scaledown_down&quot;</span><span class="p">,</span>
                <span class="s2">&quot;location&quot;</span><span class="p">,</span>
                <span class="s2">&quot;min_instances&quot;</span><span class="p">,</span>
                <span class="s2">&quot;max_instances&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tier&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
        <span class="n">viable_fields</span> <span class="o">=</span> <span class="n">viable_configuration_fields</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_fields_set</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">viable_fields</span>
                <span class="ow">and</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">AzureMLComputeSettings</span><span class="o">.</span><span class="n">model_fields</span>
            <span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;In the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> settings, the mode of &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;operation is set to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">. In this mode, you can &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;not configure the parameter &#39;</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">&#39;. This &quot;</span>
                    <span class="s2">&quot;configuration will be ignored.&quot;</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span>
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span>
        <span class="p">):</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="p">(</span>
                <span class="s2">&quot;When you are working with compute instances and clusters, &quot;</span>
                <span class="s2">&quot;please define a name for the compute target.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">

























  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings.azureml_settings_validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">azureml_settings_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Checks whether the right configuration is set based on mode.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AzureMLComputeSettings</code></td>
      <td><p>the instance itself.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AssertionError</code></td>
        <td><p>if a name is not provided when working with
instances and clusters.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">azureml_settings_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzureMLComputeSettings&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks whether the right configuration is set based on mode.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the instance itself.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: if a name is not provided when working with</span>
<span class="sd">            instances and clusters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">viable_configuration_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;mode&quot;</span><span class="p">},</span>
        <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;compute_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;idle_time_before_shutdown_minutes&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;mode&quot;</span><span class="p">,</span>
            <span class="s2">&quot;compute_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;idle_time_before_scaledown_down&quot;</span><span class="p">,</span>
            <span class="s2">&quot;location&quot;</span><span class="p">,</span>
            <span class="s2">&quot;min_instances&quot;</span><span class="p">,</span>
            <span class="s2">&quot;max_instances&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tier&quot;</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">viable_fields</span> <span class="o">=</span> <span class="n">viable_configuration_fields</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_fields_set</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">field</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">viable_fields</span>
            <span class="ow">and</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">AzureMLComputeSettings</span><span class="o">.</span><span class="n">model_fields</span>
        <span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;In the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> settings, the mode of &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;operation is set to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="si">}</span><span class="s2">. In this mode, you can &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;not configure the parameter &#39;</span><span class="si">{</span><span class="n">field</span><span class="si">}</span><span class="s2">&#39;. This &quot;</span>
                <span class="s2">&quot;configuration will be ignored.&quot;</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span>
        <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_CLUSTER</span>
    <span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="p">(</span>
            <span class="s2">&quot;When you are working with compute instances and clusters, &quot;</span>
            <span class="s2">&quot;please define a name for the compute target.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml.AzureMLComputeTypes" class="doc doc-heading">
        <code>
AzureMLComputeTypes            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../../core_code_docs/core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Enum for different types of compute on AzureML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLComputeTypes</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enum for different types of compute on AzureML.&quot;&quot;&quot;</span>

    <span class="n">SERVERLESS</span> <span class="o">=</span> <span class="s2">&quot;serverless&quot;</span>
    <span class="n">COMPUTE_INSTANCE</span> <span class="o">=</span> <span class="s2">&quot;compute-instance&quot;</span>
    <span class="n">COMPUTE_CLUSTER</span> <span class="o">=</span> <span class="s2">&quot;compute-cluster&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor" class="doc doc-heading">
        <code>azureml_orchestrator_flavor</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the AzureML Orchestrator flavor.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig" class="doc doc-heading">
        <code>
AzureMLOrchestratorConfig            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestratorConfig">BaseOrchestratorConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorSettings" href="#zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorSettings">AzureMLOrchestratorSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Configuration for the AzureML orchestrator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLOrchestratorConfig</span><span class="p">(</span>
    <span class="n">BaseOrchestratorConfig</span><span class="p">,</span> <span class="n">AzureMLOrchestratorSettings</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configuration for the AzureML orchestrator.&quot;&quot;&quot;</span>

    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Subscription ID that AzureML is running on.&quot;</span>
    <span class="p">)</span>
    <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the resource group that AzureML is running on.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the workspace that AzureML is running on.&quot;</span>
    <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if this stack component is running remotely.</span>

<span class="sd">        This designation is used to determine if the stack component can be</span>
<span class="sd">        used with a local ZenML database or if it requires a remote ZenML</span>
<span class="sd">        server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this config is for a remote component, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_synchronous</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the orchestrator runs synchronously or not.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the orchestrator runs synchronously or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">synchronous</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_schedulable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the orchestrator is schedulable or not.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Whether the orchestrator is schedulable or not.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_remote" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_remote</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Checks if this stack component is running remotely.</p>
<p>This designation is used to determine if the stack component can be
used with a local ZenML database or if it requires a remote ZenML
server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if this config is for a remote component, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_schedulable" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_schedulable</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Whether the orchestrator is schedulable or not.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the orchestrator is schedulable or not.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig.is_synchronous" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_synchronous</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Whether the orchestrator runs synchronously or not.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the orchestrator runs synchronously or not.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor" class="doc doc-heading">
        <code>
AzureMLOrchestratorFlavor            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.base_orchestrator.BaseOrchestratorFlavor">BaseOrchestratorFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Flavor for the AzureML orchestrator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLOrchestratorFlavor</span><span class="p">(</span><span class="n">BaseOrchestratorFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Flavor for the AzureML orchestrator.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AZUREML_ORCHESTRATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_connector_requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorRequirements</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Service connector resource requirements for service connectors.</span>

<span class="sd">        Specifies resource requirements that are used to filter the available</span>
<span class="sd">        service connector types that are compatible with this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Requirements for compatible service connectors, if a service</span>
<span class="sd">            connector is required for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceConnectorRequirements</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">AZURE_RESOURCE_TYPE</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A URL to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A URL to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A URL to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/orchestrator/azureml.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureMLOrchestratorConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns AzureMLOrchestratorConfig config class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AzureMLOrchestratorConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;AzureMLOrchestrator&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure.orchestrators</span> <span class="kn">import</span> <span class="n">AzureMLOrchestrator</span>

        <span class="k">return</span> <span class="n">AzureMLOrchestrator</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">azure</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">azureml_orchestrator_flavor</span><span class="o">.</span><span class="n">AzureMLOrchestratorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns AzureMLOrchestratorConfig config class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A URL to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureMLOrchestrator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[AzureMLOrchestrator]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A URL to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A URL to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorFlavor.service_connector_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service_connector_requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">ServiceConnectorRequirements</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service connector resource requirements for service connectors.</p>
<p>Specifies resource requirements that are used to filter the available
service connector types that are compatible with this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.models.v2.misc.service_connector_type.ServiceConnectorRequirements]</code></td>
      <td><p>Requirements for compatible service connectors, if a service
connector is required for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_orchestrator_flavor.AzureMLOrchestratorSettings" class="doc doc-heading">
        <code>
AzureMLOrchestratorSettings            (<a class="autorefs autorefs-internal" title="zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings" href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings">AzureMLComputeSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Settings for the AzureML orchestrator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_orchestrator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLOrchestratorSettings</span><span class="p">(</span><span class="n">AzureMLComputeSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for the AzureML orchestrator.&quot;&quot;&quot;</span>

    <span class="n">synchronous</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the orchestrator runs synchronously or not.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor" class="doc doc-heading">
        <code>azureml_step_operator_flavor</code>



</h4>

    <div class="doc doc-contents ">

      <p>AzureML step operator flavor.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig" class="doc doc-heading">
        <code>
AzureMLStepOperatorConfig            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperatorConfig" href="../../core_code_docs/core-step_operators/#zenml.step_operators.base_step_operator.BaseStepOperatorConfig">BaseStepOperatorConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorSettings" href="#zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorSettings">AzureMLStepOperatorSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Config for the AzureML step operator.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>subscription_id</code></td>
        <td><code>str</code></td>
        <td><p>The Azure account's subscription ID</p></td>
      </tr>
      <tr>
        <td><code>resource_group</code></td>
        <td><code>str</code></td>
        <td><p>The resource group to which the AzureML workspace
is deployed.</p></td>
      </tr>
      <tr>
        <td><code>workspace_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the AzureML Workspace.</p></td>
      </tr>
      <tr>
        <td><code>tenant_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The Azure Tenant ID.</p></td>
      </tr>
      <tr>
        <td><code>service_principal_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The ID for the service principal that is created
to allow apps to access secure resources.</p></td>
      </tr>
      <tr>
        <td><code>service_principal_password</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Password for the service principal.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_step_operator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLStepOperatorConfig</span><span class="p">(</span>
    <span class="n">BaseStepOperatorConfig</span><span class="p">,</span> <span class="n">AzureMLStepOperatorSettings</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Config for the AzureML step operator.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        subscription_id: The Azure account&#39;s subscription ID</span>
<span class="sd">        resource_group: The resource group to which the AzureML workspace</span>
<span class="sd">            is deployed.</span>
<span class="sd">        workspace_name: The name of the AzureML Workspace.</span>
<span class="sd">        tenant_id: The Azure Tenant ID.</span>
<span class="sd">        service_principal_id: The ID for the service principal that is created</span>
<span class="sd">            to allow apps to access secure resources.</span>
<span class="sd">        service_principal_password: Password for the service principal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Subscription ID that AzureML is running on.&quot;</span>
    <span class="p">)</span>
    <span class="n">resource_group</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the resource group that AzureML is running on.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">workspace_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the workspace that AzureML is running on.&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Service principal authentication</span>
    <span class="c1"># https://docs.microsoft.com/en-us/azure/machine-learning/how-to-setup-authentication#configure-a-service-principal</span>
    <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">service_principal_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">service_principal_password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">SecretField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_remote</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Checks if this stack component is running remotely.</span>

<span class="sd">        This designation is used to determine if the stack component can be</span>
<span class="sd">        used with a local ZenML database or if it requires a remote ZenML</span>
<span class="sd">        server.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if this config is for a remote component, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig.is_remote" class="doc doc-heading">
<code class="highlight language-python"><span class="n">is_remote</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Checks if this stack component is running remotely.</p>
<p>This designation is used to determine if the stack component can be
used with a local ZenML database or if it requires a remote ZenML
server.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if this config is for a remote component, False otherwise.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor" class="doc doc-heading">
        <code>
AzureMLStepOperatorFlavor            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperatorFlavor" href="../../core_code_docs/core-step_operators/#zenml.step_operators.base_step_operator.BaseStepOperatorFlavor">BaseStepOperatorFlavor</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Flavor for the AzureML step operator.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_step_operator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLStepOperatorFlavor</span><span class="p">(</span><span class="n">BaseStepOperatorFlavor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Flavor for the AzureML step operator.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Name of the flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The name of the flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AZUREML_STEP_OPERATOR_FLAVOR</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service_connector_requirements</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ServiceConnectorRequirements</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Service connector resource requirements for service connectors.</span>

<span class="sd">        Specifies resource requirements that are used to filter the available</span>
<span class="sd">        service connector types that are compatible with this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Requirements for compatible service connectors, if a service</span>
<span class="sd">            connector is required for this flavor.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ServiceConnectorRequirements</span><span class="p">(</span><span class="n">resource_type</span><span class="o">=</span><span class="n">AZURE_RESOURCE_TYPE</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sdk_docs_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to point at SDK docs explaining this flavor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A flavor SDK docs url.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_default_sdk_docs_url</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logo_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A url to represent the flavor in the dashboard.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The flavor logo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;https://public-flavor-logos.s3.eu-central-1.amazonaws.com/step_operator/azureml.png&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureMLStepOperatorConfig</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns AzureMLStepOperatorConfig config class.</span>

<span class="sd">        Returns:</span>
<span class="sd">                The config class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AzureMLStepOperatorConfig</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">implementation_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Type</span><span class="p">[</span><span class="s2">&quot;AzureMLStepOperator&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Implementation class.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The implementation class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">zenml.integrations.azure.step_operators</span> <span class="kn">import</span> <span class="n">AzureMLStepOperator</span>

        <span class="k">return</span> <span class="n">AzureMLStepOperator</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.config_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">integrations</span><span class="o">.</span><span class="n">azure</span><span class="o">.</span><span class="n">flavors</span><span class="o">.</span><span class="n">azureml_step_operator_flavor</span><span class="o">.</span><span class="n">AzureMLStepOperatorConfig</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns AzureMLStepOperatorConfig config class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorConfig]</code></td>
      <td><p>The config class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.implementation_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">implementation_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">AzureMLStepOperator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Implementation class.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Type[AzureMLStepOperator]</code></td>
      <td><p>The implementation class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.logo_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">logo_url</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to represent the flavor in the dashboard.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The flavor logo.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Name of the flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The name of the flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.sdk_docs_url" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sdk_docs_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>A url to point at SDK docs explaining this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>A flavor SDK docs url.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorFlavor.service_connector_requirements" class="doc doc-heading">
<code class="highlight language-python"><span class="n">service_connector_requirements</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">service_connector_type</span><span class="o">.</span><span class="n">ServiceConnectorRequirements</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Service connector resource requirements for service connectors.</p>
<p>Specifies resource requirements that are used to filter the available
service connector types that are compatible with this flavor.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.models.v2.misc.service_connector_type.ServiceConnectorRequirements]</code></td>
      <td><p>Requirements for compatible service connectors, if a service
connector is required for this flavor.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.flavors.azureml_step_operator_flavor.AzureMLStepOperatorSettings" class="doc doc-heading">
        <code>
AzureMLStepOperatorSettings            (<a class="autorefs autorefs-internal" title="zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings" href="#zenml.integrations.azure.flavors.azureml.AzureMLComputeSettings">AzureMLComputeSettings</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Settings for the AzureML step operator.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>compute_target_name</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The name of the configured ComputeTarget.
Deprecated in favor of <code>compute_name</code>.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/flavors/azureml_step_operator_flavor.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLStepOperatorSettings</span><span class="p">(</span><span class="n">AzureMLComputeSettings</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Settings for the AzureML step operator.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        compute_target_name: The name of the configured ComputeTarget.</span>
<span class="sd">            Deprecated in favor of `compute_name`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">compute_target_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Name of the configured ComputeTarget. Deprecated in favor &quot;</span>
        <span class="s2">&quot;of `compute_name`.&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="nd">@before_validator_handler</span>
    <span class="k">def</span> <span class="nf">_migrate_compute_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Backward compatibility for compute_target_name.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: The model data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The migrated data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="s2">&quot;compute_target_name&quot;</span> <span class="ow">in</span> <span class="n">data</span>
            <span class="ow">and</span> <span class="s2">&quot;compute_name&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span>
            <span class="ow">and</span> <span class="s2">&quot;mode&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span>
        <span class="p">):</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;compute_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;compute_target_name&quot;</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;mode&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">COMPUTE_INSTANCE</span>

        <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">



























  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.orchestrators" class="doc doc-heading">
        <code>orchestrators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>AzureML orchestrator.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.orchestrators.azureml_orchestrator" class="doc doc-heading">
        <code>azureml_orchestrator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the AzureML Orchestrator.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator" class="doc doc-heading">
        <code>
AzureMLOrchestrator            (<a class="autorefs autorefs-internal" title="zenml.orchestrators.containerized_orchestrator.ContainerizedOrchestrator" href="../../core_code_docs/core-orchestrators/#zenml.orchestrators.containerized_orchestrator.ContainerizedOrchestrator">ContainerizedOrchestrator</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Orchestrator responsible for running pipelines on AzureML.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLOrchestrator</span><span class="p">(</span><span class="n">ContainerizedOrchestrator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Orchestrator responsible for running pipelines on AzureML.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AzureMLOrchestratorConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the `AzureMLOrchestratorConfig` config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">AzureMLOrchestratorConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">settings_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSettings&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Settings class for the AzureML orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The settings class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AzureMLOrchestratorSettings</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the stack.</span>

<span class="sd">        In the remote case, checks that the stack contains a container registry,</span>
<span class="sd">        image builder and only remote components.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A `StackValidator` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_remote_components</span><span class="p">(</span>
            <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">component</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The AzureML orchestrator runs pipelines remotely, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;but the &#39;</span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">{</span><span class="n">component</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> is &quot;</span>
                    <span class="s2">&quot;a local stack component and will not be available in &quot;</span>
                    <span class="s2">&quot;the AzureML step.</span><span class="se">\n</span><span class="s2">Please ensure that you always &quot;</span>
                    <span class="s2">&quot;use non-local stack components with the AzureML &quot;</span>
                    <span class="s2">&quot;orchestrator.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">IMAGE_BUILDER</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_remote_components</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the run id of the active orchestrator run.</span>

<span class="sd">        Important: This needs to be a unique ID and return the same value for</span>
<span class="sd">        all steps of a pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The orchestrator run id.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the run id cannot be read from the environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_create_command_component</span><span class="p">(</span>
        <span class="n">step</span><span class="p">:</span> <span class="n">Step</span><span class="p">,</span>
        <span class="n">step_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">env_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">image</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">arguments</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CommandComponent</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a CommandComponent to run on AzureML Pipelines.</span>

<span class="sd">        Args:</span>
<span class="sd">            step: The step definition in ZenML.</span>
<span class="sd">            step_name: The name of the step.</span>
<span class="sd">            env_name: The name of the environment.</span>
<span class="sd">            image: The image to use in the environment</span>
<span class="sd">            command: The command to execute the entrypoint with.</span>
<span class="sd">            arguments: The arguments to pass into the command.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the generated AzureML CommandComponent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">env_name</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">)</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;completed&quot;</span><span class="p">:</span> <span class="n">Output</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;uri_file&quot;</span><span class="p">)}</span>

        <span class="n">inputs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">upstream_steps</span><span class="p">:</span>
            <span class="n">inputs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">upstream_step</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">Input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;uri_file&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">upstream_step</span> <span class="ow">in</span> <span class="n">step</span><span class="o">.</span><span class="n">spec</span><span class="o">.</span><span class="n">upstream_steps</span>
            <span class="p">}</span>

        <span class="k">return</span> <span class="n">CommandComponent</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
            <span class="n">display_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;AzureML CommandComponent for </span><span class="si">{</span><span class="n">step_name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
            <span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span>
            <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">command</span> <span class="o">+</span> <span class="n">arguments</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentResponse&quot;</span><span class="p">,</span>
        <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prepares or runs a pipeline on AzureML.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The deployment to prepare or run.</span>
<span class="sd">            stack: The stack to run on.</span>
<span class="sd">            environment: Environment variables to set in the orchestration</span>
<span class="sd">                environment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the creation of the schedule fails.</span>

<span class="sd">        Yields:</span>
<span class="sd">            A dictionary of metadata related to the pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Authentication</span>
        <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

        <span class="c1"># Settings</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">AzureMLOrchestratorSettings</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">deployment</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="c1"># Client creation</span>
        <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
            <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
            <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
            <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Create components</span>
        <span class="n">components</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Get the image for each step</span>
            <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">)</span>

            <span class="c1"># Get the command and arguments</span>
            <span class="n">command</span> <span class="o">=</span> <span class="n">AzureMLEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
            <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">AzureMLEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                    <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
                    <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">zenml_env_variables</span><span class="o">=</span><span class="n">b64_encode</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">environment</span><span class="p">)),</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="c1"># Generate an AzureML CommandComponent</span>
            <span class="n">components</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_command_component</span><span class="p">(</span>
                <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
                <span class="n">env_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
                <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
                <span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Pipeline definition</span>
        <span class="n">pipeline_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">run_name</span> <span class="o">=</span> <span class="n">get_orchestrator_run_name</span><span class="p">(</span>
            <span class="n">pipeline_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="n">pipeline_args</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_name</span>

        <span class="k">if</span> <span class="n">compute_target</span> <span class="o">:=</span> <span class="n">create_or_get_compute</span><span class="p">(</span>
            <span class="n">ml_client</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">default_compute_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">):</span>
            <span class="n">pipeline_args</span><span class="p">[</span><span class="s2">&quot;compute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">compute_target</span>

        <span class="nd">@pipeline</span><span class="p">(</span><span class="n">force_rerun</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">pipeline_args</span><span class="p">)</span>  <span class="c1"># type: ignore[call-overload, misc]</span>
        <span class="k">def</span> <span class="nf">azureml_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Create an AzureML pipeline.&quot;&quot;&quot;</span>
            <span class="c1"># Here we have to track the inputs and outputs so that we can bind</span>
            <span class="c1"># the components to each other to execute them in a specific order.</span>
            <span class="n">component_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">component_name</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="c1"># Inputs</span>
                <span class="n">component_inputs</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                    <span class="n">component_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                        <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">component_outputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">component</span><span class="o">.</span><span class="n">inputs</span><span class="p">}</span>
                    <span class="p">)</span>

                <span class="c1"># Job</span>
                <span class="n">component_job</span> <span class="o">=</span> <span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">component_inputs</span><span class="p">)</span>

                <span class="c1"># Outputs</span>
                <span class="k">if</span> <span class="n">component_job</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                    <span class="n">component_outputs</span><span class="p">[</span><span class="n">component_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">component_job</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">completed</span>
                    <span class="p">)</span>

        <span class="c1"># Create and execute the pipeline job</span>
        <span class="n">pipeline_job</span> <span class="o">=</span> <span class="n">azureml_pipeline</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span><span class="p">:</span>
            <span class="n">pipeline_job</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">default_compute</span> <span class="o">=</span> <span class="s2">&quot;serverless&quot;</span>

        <span class="c1"># Scheduling</span>
        <span class="k">if</span> <span class="n">schedule</span> <span class="o">:=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">schedule_trigger</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                    <span class="n">Union</span><span class="p">[</span><span class="n">CronTrigger</span><span class="p">,</span> <span class="n">RecurrenceTrigger</span><span class="p">]</span>
                <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="n">start_time</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">start_time</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

                <span class="n">end_time</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">end_time</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
                    <span class="c1"># If we are working with a cron expression</span>
                    <span class="n">schedule_trigger</span> <span class="o">=</span> <span class="n">CronTrigger</span><span class="p">(</span>
                        <span class="n">expression</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                        <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                        <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
                        <span class="n">time_zone</span><span class="o">=</span><span class="n">TimeZone</span><span class="o">.</span><span class="n">UTC</span><span class="p">,</span>
                    <span class="p">)</span>

                <span class="k">elif</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="p">:</span>
                    <span class="c1"># If we are working with intervals</span>
                    <span class="n">interval</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">interval</span> <span class="o">%</span> <span class="mi">60</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                            <span class="s2">&quot;The ZenML AzureML orchestrator only works with &quot;</span>
                            <span class="s2">&quot;time intervals defined over minutes. Will &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;use a schedule over </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">interval</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">60</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                        <span class="p">)</span>

                    <span class="k">if</span> <span class="n">interval</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                            <span class="s2">&quot;Can not create a schedule with an interval less &quot;</span>
                            <span class="s2">&quot;than 60 secs.&quot;</span>
                        <span class="p">)</span>

                    <span class="n">frequency</span> <span class="o">=</span> <span class="s2">&quot;minute&quot;</span>
                    <span class="n">interval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">interval</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span>

                    <span class="n">schedule_trigger</span> <span class="o">=</span> <span class="n">RecurrenceTrigger</span><span class="p">(</span>
                        <span class="n">frequency</span><span class="o">=</span><span class="n">frequency</span><span class="p">,</span>
                        <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
                        <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                        <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
                        <span class="n">time_zone</span><span class="o">=</span><span class="n">TimeZone</span><span class="o">.</span><span class="n">UTC</span><span class="p">,</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">schedule_trigger</span><span class="p">:</span>
                    <span class="c1"># Create and execute the job schedule</span>
                    <span class="n">job_schedule</span> <span class="o">=</span> <span class="n">JobSchedule</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                        <span class="n">trigger</span><span class="o">=</span><span class="n">schedule_trigger</span><span class="p">,</span>
                        <span class="n">create_job</span><span class="o">=</span><span class="n">pipeline_job</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">ml_client</span><span class="o">.</span><span class="n">schedules</span><span class="o">.</span><span class="n">begin_create_or_update</span><span class="p">(</span>
                        <span class="n">job_schedule</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Scheduled pipeline &#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39; with recurrence &quot;</span>
                        <span class="s2">&quot;or cron expression.&quot;</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="s2">&quot;No valid scheduling configuration found for &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;pipeline &#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                    <span class="p">)</span>

            <span class="k">except</span> <span class="p">(</span><span class="n">HttpResponseError</span><span class="p">,</span> <span class="n">ResourceExistsError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;Failed to create schedule for the pipeline &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">create_or_update</span><span class="p">(</span><span class="n">pipeline_job</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pipeline </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2"> has been started.&quot;</span><span class="p">)</span>

            <span class="c1"># Yield metadata based on the generated job object</span>
            <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_metadata</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

            <span class="k">assert</span> <span class="n">job</span><span class="o">.</span><span class="n">services</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">assert</span> <span class="n">job</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Pipeline </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2"> is running. &quot;</span>
                <span class="s2">&quot;You can view the pipeline in the AzureML portal at &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">job</span><span class="o">.</span><span class="n">services</span><span class="p">[</span><span class="s1">&#39;Studio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Waiting for pipeline to finish...&quot;</span><span class="p">)</span>
                <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_pipeline_run_metadata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get general component-specific metadata for a pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run_id: The ID of the pipeline run.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A dictionary of metadata.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
                <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

            <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
                <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
                <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
                <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
                <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">azureml_root_run_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="p">]</span>
            <span class="n">azureml_job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">azureml_root_run_id</span><span class="p">)</span>

            <span class="k">return</span> <span class="p">{</span>
                <span class="n">METADATA_ORCHESTRATOR_URL</span><span class="p">:</span> <span class="n">Uri</span><span class="p">(</span><span class="n">azureml_job</span><span class="o">.</span><span class="n">studio_url</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to fetch the Studio URL of the AzureML pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;job: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">fetch_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExecutionStatus</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Refreshes the status of a specific pipeline run.</span>

<span class="sd">        Args:</span>
<span class="sd">            run: The run that was executed by this orchestrator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            the actual status of the pipeline execution.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AssertionError: If the run was not executed by to this orchestrator.</span>
<span class="sd">            ValueError: If it fetches an unknown state or if we can not fetch</span>
<span class="sd">                the orchestrator run ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Make sure that the stack exists and is accessible</span>
        <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The stack that the run was executed on is not available &quot;</span>
                <span class="s2">&quot;anymore.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Make sure that the run belongs to this orchestrator</span>
        <span class="k">assert</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
            <span class="o">==</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span>

        <span class="c1"># Initialize the AzureML client</span>
        <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

        <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
            <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
            <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
            <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Fetch the status of the PipelineJob</span>
        <span class="k">if</span> <span class="n">METADATA_ORCHESTRATOR_RUN_ID</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">run_metadata</span><span class="p">:</span>
            <span class="n">run_id</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">run_metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_RUN_ID</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">run_id</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Can not find the orchestrator run ID, thus can not fetch &quot;</span>
                <span class="s2">&quot;the status.&quot;</span>
            <span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span><span class="o">.</span><span class="n">status</span>

        <span class="c1"># Map the potential outputs to ZenML ExecutionStatus. Potential values:</span>
        <span class="c1"># https://learn.microsoft.com/en-us/python/api/azure-ai-ml/azure.ai.ml.entities.pipelinejob?view=azure-python#azure-ai-ml-entities-pipelinejob-status</span>
        <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;NotStarted&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Starting&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Provisioning&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Preparing&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Queued&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">INITIALIZING</span>
        <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Running&quot;</span><span class="p">,</span> <span class="s2">&quot;Finalizing&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span>
        <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;CancelRequested&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Failed&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Canceled&quot;</span><span class="p">,</span>
            <span class="s2">&quot;NotResponding&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">FAILED</span>
        <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Completed&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">COMPLETED</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown status for the pipeline job.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compute_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate run metadata based on the generated AzureML PipelineJob.</span>

<span class="sd">        Args:</span>
<span class="sd">            job: The corresponding PipelineJob object.</span>

<span class="sd">        Yields:</span>
<span class="sd">            A dictionary of metadata related to the pipeline run.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Metadata</span>
        <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Orchestrator Run ID</span>
        <span class="k">if</span> <span class="n">run_id</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_orchestrator_run_id</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_id</span>

        <span class="c1"># URL to the AzureML&#39;s pipeline view</span>
        <span class="k">if</span> <span class="n">orchestrator_url</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_orchestrator_url</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
            <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_URL</span><span class="p">]</span> <span class="o">=</span> <span class="n">Uri</span><span class="p">(</span><span class="n">orchestrator_url</span><span class="p">)</span>

        <span class="k">yield</span> <span class="n">metadata</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_compute_orchestrator_url</span><span class="p">(</span><span class="n">job</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the Orchestrator Dashboard URL upon pipeline execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            job: The corresponding PipelineJob object.</span>

<span class="sd">        Returns:</span>
<span class="sd">             the URL to the dashboard view in AzureML.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">job</span><span class="o">.</span><span class="n">studio_url</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">studio_url</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;There was an issue while extracting the pipeline url: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_compute_orchestrator_run_id</span><span class="p">(</span><span class="n">job</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate the Orchestrator Dashboard URL upon pipeline execution.</span>

<span class="sd">        Args:</span>
<span class="sd">            job: The corresponding PipelineJob object.</span>

<span class="sd">        Returns:</span>
<span class="sd">             the URL to the dashboard view in AzureML.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;There was an issue while extracting the pipeline run ID: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">AzureMLOrchestratorConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the <code>AzureMLOrchestratorConfig</code> config.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AzureMLOrchestratorConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.settings_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">settings_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseSettings</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Settings class for the AzureML orchestrator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Type[BaseSettings]]</code></td>
      <td><p>The settings class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates the stack.</p>
<p>In the remote case, checks that the stack contains a container registry,
image builder and only remote components.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A <code>StackValidator</code> instance.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.compute_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">compute_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Generate run metadata based on the generated AzureML PipelineJob.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>job</code></td>
        <td><code>Any</code></td>
        <td><p>The corresponding PipelineJob object.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Dict[str, Union[str, int, float, bool, Dict[Any, Any], List[Any], Set[Any], Tuple[Any, ...], zenml.metadata.metadata_types.Uri, zenml.metadata.metadata_types.Path, zenml.metadata.metadata_types.DType, zenml.metadata.metadata_types.StorageSize]]]</code></td>
      <td><p>A dictionary of metadata related to the pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">compute_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">job</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate run metadata based on the generated AzureML PipelineJob.</span>

<span class="sd">    Args:</span>
<span class="sd">        job: The corresponding PipelineJob object.</span>

<span class="sd">    Yields:</span>
<span class="sd">        A dictionary of metadata related to the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Metadata</span>
    <span class="n">metadata</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Orchestrator Run ID</span>
    <span class="k">if</span> <span class="n">run_id</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_orchestrator_run_id</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_RUN_ID</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_id</span>

    <span class="c1"># URL to the AzureML&#39;s pipeline view</span>
    <span class="k">if</span> <span class="n">orchestrator_url</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_orchestrator_url</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
        <span class="n">metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_URL</span><span class="p">]</span> <span class="o">=</span> <span class="n">Uri</span><span class="p">(</span><span class="n">orchestrator_url</span><span class="p">)</span>

    <span class="k">yield</span> <span class="n">metadata</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.fetch_status" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fetch_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Refreshes the status of a specific pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run</code></td>
        <td><code>PipelineRunResponse</code></td>
        <td><p>The run that was executed by this orchestrator.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ExecutionStatus</code></td>
      <td><p>the actual status of the pipeline execution.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AssertionError</code></td>
        <td><p>If the run was not executed by to this orchestrator.</p></td>
      </tr>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If it fetches an unknown state or if we can not fetch
the orchestrator run ID.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">fetch_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span> <span class="s2">&quot;PipelineRunResponse&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExecutionStatus</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Refreshes the status of a specific pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run: The run that was executed by this orchestrator.</span>

<span class="sd">    Returns:</span>
<span class="sd">        the actual status of the pipeline execution.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AssertionError: If the run was not executed by to this orchestrator.</span>
<span class="sd">        ValueError: If it fetches an unknown state or if we can not fetch</span>
<span class="sd">            the orchestrator run ID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Make sure that the stack exists and is accessible</span>
    <span class="k">if</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The stack that the run was executed on is not available &quot;</span>
            <span class="s2">&quot;anymore.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Make sure that the run belongs to this orchestrator</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span>
        <span class="o">==</span> <span class="n">run</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">components</span><span class="p">[</span><span class="n">StackComponentType</span><span class="o">.</span><span class="n">ORCHESTRATOR</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
    <span class="p">)</span>

    <span class="c1"># Initialize the AzureML client</span>
    <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

    <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
        <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
        <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Fetch the status of the PipelineJob</span>
    <span class="k">if</span> <span class="n">METADATA_ORCHESTRATOR_RUN_ID</span> <span class="ow">in</span> <span class="n">run</span><span class="o">.</span><span class="n">run_metadata</span><span class="p">:</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">run_metadata</span><span class="p">[</span><span class="n">METADATA_ORCHESTRATOR_RUN_ID</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">run_id</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">orchestrator_run_id</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Can not find the orchestrator run ID, thus can not fetch &quot;</span>
            <span class="s2">&quot;the status.&quot;</span>
        <span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">run_id</span><span class="p">)</span><span class="o">.</span><span class="n">status</span>

    <span class="c1"># Map the potential outputs to ZenML ExecutionStatus. Potential values:</span>
    <span class="c1"># https://learn.microsoft.com/en-us/python/api/azure-ai-ml/azure.ai.ml.entities.pipelinejob?view=azure-python#azure-ai-ml-entities-pipelinejob-status</span>
    <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s2">&quot;NotStarted&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Starting&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Provisioning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Preparing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Queued&quot;</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">INITIALIZING</span>
    <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Running&quot;</span><span class="p">,</span> <span class="s2">&quot;Finalizing&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">RUNNING</span>
    <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span>
        <span class="s2">&quot;CancelRequested&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Failed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Canceled&quot;</span><span class="p">,</span>
        <span class="s2">&quot;NotResponding&quot;</span><span class="p">,</span>
    <span class="p">]:</span>
        <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">FAILED</span>
    <span class="k">elif</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Completed&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">ExecutionStatus</span><span class="o">.</span><span class="n">COMPLETED</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unknown status for the pipeline job.&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_orchestrator_run_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Returns the run id of the active orchestrator run.</p>
<p>Important: This needs to be a unique ID and return the same value for
all steps of a pipeline run.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The orchestrator run id.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the run id cannot be read from the environment.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_orchestrator_run_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the run id of the active orchestrator run.</span>

<span class="sd">    Important: This needs to be a unique ID and return the same value for</span>
<span class="sd">    all steps of a pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The orchestrator run id.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the run id cannot be read from the environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;Unable to read run id from environment variable &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.get_pipeline_run_metadata" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_pipeline_run_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get general component-specific metadata for a pipeline run.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>run_id</code></td>
        <td><code>UUID</code></td>
        <td><p>The ID of the pipeline run.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, MetadataType]</code></td>
      <td><p>A dictionary of metadata.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_pipeline_run_metadata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">run_id</span><span class="p">:</span> <span class="n">UUID</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;MetadataType&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get general component-specific metadata for a pipeline run.</span>

<span class="sd">    Args:</span>
<span class="sd">        run_id: The ID of the pipeline run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dictionary of metadata.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

        <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
            <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
            <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
            <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">azureml_root_run_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">ENV_ZENML_AZUREML_RUN_ID</span><span class="p">]</span>
        <span class="n">azureml_job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">azureml_root_run_id</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="n">METADATA_ORCHESTRATOR_URL</span><span class="p">:</span> <span class="n">Uri</span><span class="p">(</span><span class="n">azureml_job</span><span class="o">.</span><span class="n">studio_url</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Failed to fetch the Studio URL of the AzureML pipeline &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;job: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator.AzureMLOrchestrator.prepare_or_run_pipeline" class="doc doc-heading">
<code class="highlight language-python"><span class="n">prepare_or_run_pipeline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">,</span> <span class="n">stack</span><span class="p">,</span> <span class="n">environment</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Prepares or runs a pipeline on AzureML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentResponse</code></td>
        <td><p>The deployment to prepare or run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>stack</code></td>
        <td><code>Stack</code></td>
        <td><p>The stack to run on.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>environment</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>Environment variables to set in the orchestration
environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>If the creation of the schedule fails.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Yields:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterator[Dict[str, Union[str, int, float, bool, Dict[Any, Any], List[Any], Set[Any], Tuple[Any, ...], zenml.metadata.metadata_types.Uri, zenml.metadata.metadata_types.Path, zenml.metadata.metadata_types.DType, zenml.metadata.metadata_types.StorageSize]]]</code></td>
      <td><p>A dictionary of metadata related to the pipeline run.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_or_run_pipeline</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentResponse&quot;</span><span class="p">,</span>
    <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
    <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">MetadataType</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares or runs a pipeline on AzureML.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The deployment to prepare or run.</span>
<span class="sd">        stack: The stack to run on.</span>
<span class="sd">        environment: Environment variables to set in the orchestration</span>
<span class="sd">            environment.</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: If the creation of the schedule fails.</span>

<span class="sd">    Yields:</span>
<span class="sd">        A dictionary of metadata related to the pipeline run.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Authentication</span>
    <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">credentials</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

    <span class="c1"># Settings</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span>
        <span class="n">AzureMLOrchestratorSettings</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">deployment</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Client creation</span>
    <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
        <span class="n">credential</span><span class="o">=</span><span class="n">credentials</span><span class="p">,</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
        <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Create components</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Get the image for each step</span>
        <span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">deployment</span><span class="o">=</span><span class="n">deployment</span><span class="p">,</span> <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">)</span>

        <span class="c1"># Get the command and arguments</span>
        <span class="n">command</span> <span class="o">=</span> <span class="n">AzureMLEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_command</span><span class="p">()</span>
        <span class="n">arguments</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">AzureMLEntrypointConfiguration</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
                <span class="n">deployment_id</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">zenml_env_variables</span><span class="o">=</span><span class="n">b64_encode</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">environment</span><span class="p">)),</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Generate an AzureML CommandComponent</span>
        <span class="n">components</span><span class="p">[</span><span class="n">step_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_command_component</span><span class="p">(</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
            <span class="n">env_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">,</span>
            <span class="n">arguments</span><span class="o">=</span><span class="n">arguments</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Pipeline definition</span>
    <span class="n">pipeline_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">run_name</span> <span class="o">=</span> <span class="n">get_orchestrator_run_name</span><span class="p">(</span>
        <span class="n">pipeline_name</span><span class="o">=</span><span class="n">deployment</span><span class="o">.</span><span class="n">pipeline_configuration</span><span class="o">.</span><span class="n">name</span>
    <span class="p">)</span>
    <span class="n">pipeline_args</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_name</span>

    <span class="k">if</span> <span class="n">compute_target</span> <span class="o">:=</span> <span class="n">create_or_get_compute</span><span class="p">(</span>
        <span class="n">ml_client</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">default_compute_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">):</span>
        <span class="n">pipeline_args</span><span class="p">[</span><span class="s2">&quot;compute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">compute_target</span>

    <span class="nd">@pipeline</span><span class="p">(</span><span class="n">force_rerun</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">pipeline_args</span><span class="p">)</span>  <span class="c1"># type: ignore[call-overload, misc]</span>
    <span class="k">def</span> <span class="nf">azureml_pipeline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create an AzureML pipeline.&quot;&quot;&quot;</span>
        <span class="c1"># Here we have to track the inputs and outputs so that we can bind</span>
        <span class="c1"># the components to each other to execute them in a specific order.</span>
        <span class="n">component_outputs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">component_name</span><span class="p">,</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">components</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Inputs</span>
            <span class="n">component_inputs</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">component</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
                <span class="n">component_inputs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">component_outputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">component</span><span class="o">.</span><span class="n">inputs</span><span class="p">}</span>
                <span class="p">)</span>

            <span class="c1"># Job</span>
            <span class="n">component_job</span> <span class="o">=</span> <span class="n">component</span><span class="p">(</span><span class="o">**</span><span class="n">component_inputs</span><span class="p">)</span>

            <span class="c1"># Outputs</span>
            <span class="k">if</span> <span class="n">component_job</span><span class="o">.</span><span class="n">outputs</span><span class="p">:</span>
                <span class="n">component_outputs</span><span class="p">[</span><span class="n">component_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">component_job</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">completed</span>
                <span class="p">)</span>

    <span class="c1"># Create and execute the pipeline job</span>
    <span class="n">pipeline_job</span> <span class="o">=</span> <span class="n">azureml_pipeline</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="n">AzureMLComputeTypes</span><span class="o">.</span><span class="n">SERVERLESS</span><span class="p">:</span>
        <span class="n">pipeline_job</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">default_compute</span> <span class="o">=</span> <span class="s2">&quot;serverless&quot;</span>

    <span class="c1"># Scheduling</span>
    <span class="k">if</span> <span class="n">schedule</span> <span class="o">:=</span> <span class="n">deployment</span><span class="o">.</span><span class="n">schedule</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">schedule_trigger</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
                <span class="n">Union</span><span class="p">[</span><span class="n">CronTrigger</span><span class="p">,</span> <span class="n">RecurrenceTrigger</span><span class="p">]</span>
            <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="n">start_time</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">start_time</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">start_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

            <span class="n">end_time</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">end_time</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">end_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">:</span>
                <span class="c1"># If we are working with a cron expression</span>
                <span class="n">schedule_trigger</span> <span class="o">=</span> <span class="n">CronTrigger</span><span class="p">(</span>
                    <span class="n">expression</span><span class="o">=</span><span class="n">schedule</span><span class="o">.</span><span class="n">cron_expression</span><span class="p">,</span>
                    <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                    <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
                    <span class="n">time_zone</span><span class="o">=</span><span class="n">TimeZone</span><span class="o">.</span><span class="n">UTC</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">elif</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="p">:</span>
                <span class="c1"># If we are working with intervals</span>
                <span class="n">interval</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">interval_second</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">interval</span> <span class="o">%</span> <span class="mi">60</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s2">&quot;The ZenML AzureML orchestrator only works with &quot;</span>
                        <span class="s2">&quot;time intervals defined over minutes. Will &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;use a schedule over </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">interval</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">60</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="n">interval</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                        <span class="s2">&quot;Can not create a schedule with an interval less &quot;</span>
                        <span class="s2">&quot;than 60 secs.&quot;</span>
                    <span class="p">)</span>

                <span class="n">frequency</span> <span class="o">=</span> <span class="s2">&quot;minute&quot;</span>
                <span class="n">interval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">interval</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span>

                <span class="n">schedule_trigger</span> <span class="o">=</span> <span class="n">RecurrenceTrigger</span><span class="p">(</span>
                    <span class="n">frequency</span><span class="o">=</span><span class="n">frequency</span><span class="p">,</span>
                    <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
                    <span class="n">start_time</span><span class="o">=</span><span class="n">start_time</span><span class="p">,</span>
                    <span class="n">end_time</span><span class="o">=</span><span class="n">end_time</span><span class="p">,</span>
                    <span class="n">time_zone</span><span class="o">=</span><span class="n">TimeZone</span><span class="o">.</span><span class="n">UTC</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">schedule_trigger</span><span class="p">:</span>
                <span class="c1"># Create and execute the job schedule</span>
                <span class="n">job_schedule</span> <span class="o">=</span> <span class="n">JobSchedule</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">run_name</span><span class="p">,</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">schedule_trigger</span><span class="p">,</span>
                    <span class="n">create_job</span><span class="o">=</span><span class="n">pipeline_job</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">ml_client</span><span class="o">.</span><span class="n">schedules</span><span class="o">.</span><span class="n">begin_create_or_update</span><span class="p">(</span>
                    <span class="n">job_schedule</span>
                <span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Scheduled pipeline &#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39; with recurrence &quot;</span>
                    <span class="s2">&quot;or cron expression.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="s2">&quot;No valid scheduling configuration found for &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;pipeline &#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

        <span class="k">except</span> <span class="p">(</span><span class="n">HttpResponseError</span><span class="p">,</span> <span class="n">ResourceExistsError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="s2">&quot;Failed to create schedule for the pipeline &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">create_or_update</span><span class="p">(</span><span class="n">pipeline_job</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pipeline </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2"> has been started.&quot;</span><span class="p">)</span>

        <span class="c1"># Yield metadata based on the generated job object</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_metadata</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

        <span class="k">assert</span> <span class="n">job</span><span class="o">.</span><span class="n">services</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">job</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Pipeline </span><span class="si">{</span><span class="n">run_name</span><span class="si">}</span><span class="s2"> is running. &quot;</span>
            <span class="s2">&quot;You can view the pipeline in the AzureML portal at &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">job</span><span class="o">.</span><span class="n">services</span><span class="p">[</span><span class="s1">&#39;Studio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">synchronous</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Waiting for pipeline to finish...&quot;</span><span class="p">)</span>
            <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config" class="doc doc-heading">
        <code>azureml_orchestrator_entrypoint_config</code>



</h4>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for ZenML AzureML pipeline steps.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration" class="doc doc-heading">
        <code>
AzureMLEntrypointConfiguration            (<a class="autorefs autorefs-internal" title="zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration" href="../../core_code_docs/core-entrypoints/#zenml.entrypoints.step_entrypoint_configuration.StepEntrypointConfiguration">StepEntrypointConfiguration</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Entrypoint configuration for ZenML AzureML pipeline steps.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator_entrypoint_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLEntrypointConfiguration</span><span class="p">(</span><span class="n">StepEntrypointConfiguration</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Entrypoint configuration for ZenML AzureML pipeline steps.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all options required for running with this configuration.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The superclass options as well as an option for the</span>
<span class="sd">            environmental variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_entrypoint_options</span><span class="p">()</span> <span class="o">|</span> <span class="p">{</span><span class="n">ZENML_ENV_VARIABLES</span><span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_entrypoint_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all arguments that the entrypoint command should be called with.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs: Kwargs, can include the environmental variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The superclass arguments as well as arguments for environmental</span>
<span class="sd">            variables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span>
            <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">ZENML_ENV_VARIABLES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="n">ZENML_ENV_VARIABLES</span><span class="p">],</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">_set_env_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the environmental variables before executing the step.&quot;&quot;&quot;</span>
        <span class="n">env_variables</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span>
            <span class="n">b64_decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entrypoint_args</span><span class="p">[</span><span class="n">ZENML_ENV_VARIABLES</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">env_variables</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Runs the step.&quot;&quot;&quot;</span>
        <span class="c1"># Set the environmental variables first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_env_variables</span><span class="p">()</span>

        <span class="c1"># Azure automatically changes the working directory, we have to set it</span>
        <span class="c1"># back to /app before running the step.</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;/app&quot;</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;/app&quot;</span><span class="p">)</span>

        <span class="c1"># Run the step</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

        <span class="c1"># Unfortunately, in AzureML&#39;s Python SDK v2, there is no native way</span>
        <span class="c1"># to execute steps/components in a specific sequence. In order to</span>
        <span class="c1"># establish the correct order, we are using dummy inputs and</span>
        <span class="c1"># outputs. However, these steps only execute if the inputs and outputs</span>
        <span class="c1"># actually exist. This is why we create a dummy file and write to it and</span>
        <span class="c1"># use it as the output of the steps.</span>
        <span class="k">if</span> <span class="n">completed</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">AZURE_ML_OUTPUT_COMPLETED</span><span class="p">):</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">completed</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">completed</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Component completed!&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_arguments" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entrypoint_arguments</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Gets all arguments that the entrypoint command should be called with.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Kwargs, can include the environmental variables.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The superclass arguments as well as arguments for environmental
variables.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator_entrypoint_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_entrypoint_arguments</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all arguments that the entrypoint command should be called with.</span>

<span class="sd">    Args:</span>
<span class="sd">        **kwargs: Kwargs, can include the environmental variables.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The superclass arguments as well as arguments for environmental</span>
<span class="sd">        variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_entrypoint_arguments</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span>
        <span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">ZENML_ENV_VARIABLES</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="n">ZENML_ENV_VARIABLES</span><span class="p">],</span>
    <span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.get_entrypoint_options" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_entrypoint_options</span><span class="p">()</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Gets all options required for running with this configuration.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Set[str]</code></td>
      <td><p>The superclass options as well as an option for the
environmental variables.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator_entrypoint_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get_entrypoint_options</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets all options required for running with this configuration.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The superclass options as well as an option for the</span>
<span class="sd">        environmental variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_entrypoint_options</span><span class="p">()</span> <span class="o">|</span> <span class="p">{</span><span class="n">ZENML_ENV_VARIABLES</span><span class="p">}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.orchestrators.azureml_orchestrator_entrypoint_config.AzureMLEntrypointConfiguration.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Runs the step.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/orchestrators/azureml_orchestrator_entrypoint_config.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the step.&quot;&quot;&quot;</span>
    <span class="c1"># Set the environmental variables first</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_env_variables</span><span class="p">()</span>

    <span class="c1"># Azure automatically changes the working directory, we have to set it</span>
    <span class="c1"># back to /app before running the step.</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s2">&quot;/app&quot;</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s2">&quot;/app&quot;</span><span class="p">)</span>

    <span class="c1"># Run the step</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

    <span class="c1"># Unfortunately, in AzureML&#39;s Python SDK v2, there is no native way</span>
    <span class="c1"># to execute steps/components in a specific sequence. In order to</span>
    <span class="c1"># establish the correct order, we are using dummy inputs and</span>
    <span class="c1"># outputs. However, these steps only execute if the inputs and outputs</span>
    <span class="c1"># actually exist. This is why we create a dummy file and write to it and</span>
    <span class="c1"># use it as the output of the steps.</span>
    <span class="k">if</span> <span class="n">completed</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">AZURE_ML_OUTPUT_COMPLETED</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">completed</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">completed</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Component completed!&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.service_connectors" class="doc doc-heading">
        <code>service_connectors</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Azure Service Connector.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.service_connectors.azure_service_connector" class="doc doc-heading">
        <code>azure_service_connector</code>



</h4>

    <div class="doc doc-contents ">

      <p>Azure Service Connector.</p>



  <div class="doc doc-children">












  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessToken" class="doc doc-heading">
        <code>
AzureAccessToken            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.AuthenticationConfig" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.AuthenticationConfig">AuthenticationConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure access token credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureAccessToken</span><span class="p">(</span><span class="n">AuthenticationConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure access token credentials.&quot;&quot;&quot;</span>

    <span class="n">token</span><span class="p">:</span> <span class="n">PlainSerializedSecretStr</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Access Token&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The Azure access token to use for authentication&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessTokenConfig" class="doc doc-heading">
        <code>
AzureAccessTokenConfig            (<a class="autorefs autorefs-internal" title="zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig" href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig">AzureBaseConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessToken" href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureAccessToken">AzureAccessToken</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure token configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureAccessTokenConfig</span><span class="p">(</span><span class="n">AzureBaseConfig</span><span class="p">,</span> <span class="n">AzureAccessToken</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure token configuration.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureAuthenticationMethods" class="doc doc-heading">
        <code>
AzureAuthenticationMethods            (<a class="autorefs autorefs-internal" title="zenml.utils.enum_utils.StrEnum" href="../../core_code_docs/core-utils/#zenml.utils.enum_utils.StrEnum">StrEnum</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure Authentication methods.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureAuthenticationMethods</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure Authentication methods.&quot;&quot;&quot;</span>

    <span class="n">IMPLICIT</span> <span class="o">=</span> <span class="s2">&quot;implicit&quot;</span>
    <span class="n">SERVICE_PRINCIPAL</span> <span class="o">=</span> <span class="s2">&quot;service-principal&quot;</span>
    <span class="n">ACCESS_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;access-token&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">















  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig" class="doc doc-heading">
        <code>
AzureBaseConfig            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.AuthenticationConfig" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.AuthenticationConfig">AuthenticationConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure base configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureBaseConfig</span><span class="p">(</span><span class="n">AuthenticationConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure base configuration.&quot;&quot;&quot;</span>

    <span class="n">subscription_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Subscription ID&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The subscription ID of the Azure account. If not &quot;</span>
        <span class="s2">&quot;specified, ZenML will attempt to retrieve the subscription ID from &quot;</span>
        <span class="s2">&quot;Azure using the configured credentials.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Tenant ID&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The tenant ID of the Azure account. If not specified, &quot;</span>
        <span class="s2">&quot;ZenML will attempt to retrieve the tenant from Azure using the &quot;</span>
        <span class="s2">&quot;configured credentials.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">resource_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Resource Group&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A resource group may be used to restrict the scope of &quot;</span>
        <span class="s2">&quot;Azure resources like AKS clusters and ACR repositories. If not &quot;</span>
        <span class="s2">&quot;specified, ZenML will retrieve resources from all resource groups &quot;</span>
        <span class="s2">&quot;accessible with the configured credentials.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">storage_account</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Storage Account&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of an Azure storage account may be used to &quot;</span>
        <span class="s2">&quot;restrict the scope of Azure Blob storage containers. If not &quot;</span>
        <span class="s2">&quot;specified, ZenML will retrieve blob containers from all storage &quot;</span>
        <span class="s2">&quot;accounts accessible with the configured credentials.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientConfig" class="doc doc-heading">
        <code>
AzureClientConfig            (<a class="autorefs autorefs-internal" title="zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig" href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureBaseConfig">AzureBaseConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure client configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureClientConfig</span><span class="p">(</span><span class="n">AzureBaseConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure client configuration.&quot;&quot;&quot;</span>

    <span class="n">client_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Client ID&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The service principal&#39;s client ID&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tenant_id</span><span class="p">:</span> <span class="n">UUID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Azure Tenant ID&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;ID of the service principal&#39;s tenant. Also called its &quot;</span>
        <span class="s2">&quot;&#39;directory&#39; ID.&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientSecret" class="doc doc-heading">
        <code>
AzureClientSecret            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.AuthenticationConfig" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.AuthenticationConfig">AuthenticationConfig</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure client secret credentials.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureClientSecret</span><span class="p">(</span><span class="n">AuthenticationConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure client secret credentials.&quot;&quot;&quot;</span>

    <span class="n">client_secret</span><span class="p">:</span> <span class="n">PlainSerializedSecretStr</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Service principal client secret&quot;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The client secret of the service principal&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector" class="doc doc-heading">
        <code>
AzureServiceConnector            (<a class="autorefs autorefs-internal" title="zenml.service_connectors.service_connector.ServiceConnector" href="../../core_code_docs/core-service_connectors/#zenml.service_connectors.service_connector.ServiceConnector">ServiceConnector</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure service connector.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureServiceConnector</span><span class="p">(</span><span class="n">ServiceConnector</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure service connector.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">AzureBaseConfig</span>

    <span class="n">_subscription_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_subscription_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_tenant_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_session_cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span>
        <span class="nb">str</span><span class="p">,</span>
        <span class="n">Tuple</span><span class="p">[</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]],</span>
    <span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_connector_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ServiceConnectorTypeModel</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the service connector type specification.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The service connector type specification.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AZURE_SERVICE_CONNECTOR_TYPE_SPEC</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subscription</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Azure subscription ID and name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Azure subscription ID and name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the Azure subscription could not be</span>
<span class="sd">                determined or doesn&#39;t match the configured subscription ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting subscription from Azure...&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">credential</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_azure_credential</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">)</span>
                <span class="n">subscription_client</span> <span class="o">=</span> <span class="n">SubscriptionClient</span><span class="p">(</span><span class="n">credential</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">subscription</span> <span class="o">=</span> <span class="n">subscription_client</span><span class="o">.</span><span class="n">subscriptions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">)</span>
                    <span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_name</span> <span class="o">=</span> <span class="n">subscription</span><span class="o">.</span><span class="n">display_name</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_id</span> <span class="o">=</span> <span class="n">subscription</span><span class="o">.</span><span class="n">subscription_id</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">subscriptions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
                        <span class="n">subscription_client</span><span class="o">.</span><span class="n">subscriptions</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subscriptions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="s2">&quot;no Azure subscriptions found for the configured &quot;</span>
                            <span class="s2">&quot;credentials.&quot;</span>
                        <span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subscriptions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="s2">&quot;multiple Azure subscriptions found for the &quot;</span>
                            <span class="s2">&quot;configured credentials. Please configure the &quot;</span>
                            <span class="s2">&quot;subscription ID explicitly in the connector.&quot;</span>
                        <span class="p">)</span>

                    <span class="n">subscription</span> <span class="o">=</span> <span class="n">subscriptions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_id</span> <span class="o">=</span> <span class="n">subscription</span><span class="o">.</span><span class="n">subscription_id</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_name</span> <span class="o">=</span> <span class="n">subscription</span><span class="o">.</span><span class="n">display_name</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to fetch the Azure subscription: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscription_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tenant_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the Azure tenant ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Azure tenant ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the Azure tenant ID could not be</span>
<span class="sd">                determined or doesn&#39;t match the configured tenant ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Getting tenant ID from Azure...&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">credential</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_azure_credential</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">)</span>
                <span class="n">subscription_client</span> <span class="o">=</span> <span class="n">SubscriptionClient</span><span class="p">(</span><span class="n">credential</span><span class="p">)</span>
                <span class="n">tenants</span> <span class="o">=</span> <span class="n">subscription_client</span><span class="o">.</span><span class="n">tenants</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tenant_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">tenant</span> <span class="ow">in</span> <span class="n">tenants</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">):</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">tenant</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">)</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="s2">&quot;the configured tenant ID is not associated with &quot;</span>
                            <span class="s2">&quot;the configured credentials.&quot;</span>
                        <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">tenants</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">tenants</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tenants</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="s2">&quot;no Azure tenants found for the configured &quot;</span>
                            <span class="s2">&quot;credentials.&quot;</span>
                        <span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tenants</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="s2">&quot;multiple Azure tenants found for the &quot;</span>
                            <span class="s2">&quot;configured credentials. Please configure the &quot;</span>
                            <span class="s2">&quot;tenant ID explicitly in the connector.&quot;</span>
                        <span class="p">)</span>

                    <span class="n">tenant</span> <span class="o">=</span> <span class="n">tenants</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="o">=</span> <span class="n">tenant</span><span class="o">.</span><span class="n">tenant_id</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to fetch the Azure tenant: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tenant_id</span>

    <span class="k">def</span> <span class="nf">get_azure_credential</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get an Azure credential for the specified resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The authentication method to use.</span>
<span class="sd">            resource_type: The resource type to get a credential for.</span>
<span class="sd">            resource_id: The resource ID to get a credential for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An Azure credential for the specified resource and its expiration</span>
<span class="sd">            timestamp, if applicable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># We maintain a cache of all sessions to avoid re-authenticating</span>
        <span class="c1"># multiple times for the same resource</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">auth_method</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">:</span>
            <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">expires_at</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="kc">None</span>

            <span class="c1"># Refresh expired sessions</span>
            <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
            <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>

            <span class="c1"># check if the token expires in the near future</span>
            <span class="k">if</span> <span class="n">expires_at</span> <span class="o">&gt;</span> <span class="n">now</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span>
                <span class="n">minutes</span><span class="o">=</span><span class="n">AZURE_SESSION_EXPIRATION_BUFFER</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Creating Azure credential for auth method &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;resource type &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; and resource ID &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
        <span class="p">)</span>
        <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">(</span>
            <span class="n">auth_method</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span>

    <span class="k">def</span> <span class="nf">_authenticate</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate to Azure and return a token credential.</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The authentication method to use.</span>
<span class="sd">            resource_type: The resource type to authenticate for.</span>
<span class="sd">            resource_id: The resource ID to authenticate for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An Azure token credential and the expiration time of the</span>
<span class="sd">            temporary credentials if applicable.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the authentication method is not supported.</span>
<span class="sd">            AuthorizationException: If the authentication failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>
        <span class="n">credential</span><span class="p">:</span> <span class="n">TokenCredential</span>
        <span class="k">if</span> <span class="n">auth_method</span> <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">IMPLICIT</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_check_implicit_auth_method_allowed</span><span class="p">()</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">credential</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to authenticate to Azure using implicit &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;authentication. Please check your local Azure CLI &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configuration or managed identity setup: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">credential</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">auth_method</span> <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">SERVICE_PRINCIPAL</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">AzureServicePrincipalConfig</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
                    <span class="n">tenant_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">),</span>
                    <span class="n">client_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                    <span class="n">client_secret</span><span class="o">=</span><span class="n">cfg</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to authenticate to Azure using the provided &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;service principal credentials. Please check your Azure &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configuration: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="n">credential</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">auth_method</span> <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cfg</span><span class="p">,</span> <span class="n">AzureAccessTokenConfig</span><span class="p">)</span>

            <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>
            <span class="k">assert</span> <span class="n">expires_at</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="n">credential</span> <span class="o">=</span> <span class="n">ZenMLAzureTokenCredential</span><span class="p">(</span>
                <span class="n">token</span><span class="o">=</span><span class="n">cfg</span><span class="o">.</span><span class="n">token</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">credential</span><span class="p">,</span> <span class="n">expires_at</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Authentication method &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39; is not supported by &quot;</span>
            <span class="s2">&quot;the Azure connector.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_parse_blob_container_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate and convert an Azure blob resource ID to a container name.</span>

<span class="sd">        The resource ID could mean different things:</span>

<span class="sd">        - Azure blob container URI: `{az|abfs}://{container-name}`</span>
<span class="sd">        - Azure blob container name: `{container-name}`</span>

<span class="sd">        This method extracts the container name from the provided resource ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The resource ID to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The container name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided resource ID is not a valid Azure blob</span>
<span class="sd">                resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">container_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^(az|abfs)://[a-z0-9](?!.*--)[a-z0-9-]{1,61}[a-z0-9](/.*)*$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is an Azure blob container URI</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^[a-z0-9](?!.*--)[a-z0-9-]{1,61}[a-z0-9]$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is the Azure blob container name</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid resource ID for an Azure blob storage container: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="s2">&quot;Supported formats are:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Azure blob container URI: {az|abfs}://&lt;container-name&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;Azure blob container name: &lt;container-name&gt;&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">container_name</span>

    <span class="k">def</span> <span class="nf">_parse_acr_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate and convert an ACR resource ID to an ACR registry name.</span>

<span class="sd">        The resource ID could mean different things:</span>

<span class="sd">        - ACR registry URI: `[https://]{registry-name}.azurecr.io`</span>
<span class="sd">        - ACR registry name: `{registry-name}`</span>

<span class="sd">        This method extracts the registry name from the provided resource ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The resource ID to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ACR registry name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided resource ID is not a valid ACR</span>
<span class="sd">                resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">registry_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^(https?://)?[a-zA-Z0-9]+\.azurecr\.io(/.+)*$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is an ACR registry URI</span>
            <span class="n">registry_name</span> <span class="o">=</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9]+$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is an ACR registry name</span>
            <span class="n">registry_name</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid resource ID for a ACR registry: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Supported formats are:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;ACR registry URI: [https://]{registry-name}.azurecr.io</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;ACR registry name: {registry-name}&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">registry_name</span>

    <span class="k">def</span> <span class="nf">_parse_aks_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validate and convert an AKS resource ID to an AKS cluster name.</span>

<span class="sd">        The resource ID could mean different things:</span>

<span class="sd">        - resource group scoped AKS cluster name (canonical): `{resource-group}/{cluster-name}`</span>
<span class="sd">        - AKS cluster name: `{cluster-name}`</span>

<span class="sd">        This method extracts the resource group name and cluster name from the</span>
<span class="sd">        provided resource ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The resource ID to convert.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The Azure resource group and AKS cluster name.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the provided resource ID is not a valid AKS cluster</span>
<span class="sd">                name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9_.()-]+/[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is an AKS cluster name including the resource</span>
            <span class="c1"># group</span>
            <span class="n">resource_group</span><span class="p">,</span> <span class="n">cluster_name</span> <span class="o">=</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;^[a-zA-Z0-9]+[a-zA-Z0-9_-]*[a-zA-Z0-9]+$&quot;</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="c1"># The resource ID is an AKS cluster name without the resource group</span>
            <span class="n">cluster_name</span> <span class="o">=</span> <span class="n">resource_id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid resource ID for a AKS cluster: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Supported formats are:</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;resource group scoped AKS cluster name (canonical): {resource-group}/{cluster-name}</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="s2">&quot;AKS cluster name: {cluster-name}&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span> <span class="o">!=</span> <span class="n">resource_group</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid resource ID for an AKS cluster: </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;The resource group &#39;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; does not match the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;resource group configured in the connector: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">resource_group</span><span class="p">,</span> <span class="n">cluster_name</span>

    <span class="k">def</span> <span class="nf">_canonical_resource_id</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a resource ID to its canonical form.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The resource type to canonicalize.</span>
<span class="sd">            resource_id: The resource ID to canonicalize.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The canonical resource ID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_blob_container_resource_id</span><span class="p">(</span>
                <span class="n">resource_id</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;az://</span><span class="si">{</span><span class="n">container_name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">KUBERNETES_CLUSTER_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">resource_group</span><span class="p">,</span> <span class="n">cluster_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_aks_resource_id</span><span class="p">(</span>
                <span class="n">resource_id</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">resource_group</span><span class="p">:</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">return</span> <span class="n">cluster_name</span>
        <span class="k">elif</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">DOCKER_REGISTRY_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">registry_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_acr_resource_id</span><span class="p">(</span>
                <span class="n">resource_id</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">.azurecr.io&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">resource_id</span>

    <span class="k">def</span> <span class="nf">_get_default_resource_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the default resource ID for a resource type.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to get a default resource ID</span>
<span class="sd">                for. Only called with resource types that do not support</span>
<span class="sd">                multiple instances.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The default resource ID for the resource type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: If the ECR registry ID (Azure account ID)</span>
<span class="sd">                cannot be retrieved from Azure because the connector is not</span>
<span class="sd">                authorized.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">AZURE_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">subscription_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>
            <span class="k">return</span> <span class="n">subscription_name</span>

        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Default resource ID for &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; not available.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_connect_to_resource</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate and connect to an Azure resource.</span>

<span class="sd">        Initialize and return a session or client object depending on the</span>
<span class="sd">        connector configuration:</span>

<span class="sd">        - initialize and return an Azure TokenCredential if the resource type</span>
<span class="sd">        is a generic Azure resource</span>
<span class="sd">        - initialize and return an Azure BlobServiceClient for an Azure blob</span>
<span class="sd">        storage container resource type</span>

<span class="sd">        For the Docker and Kubernetes resource types, the connector does not</span>
<span class="sd">        support connecting to the resource directly. Instead, the connector</span>
<span class="sd">        supports generating a connector client object for the resource type</span>
<span class="sd">        in question.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to pass</span>
<span class="sd">                to the session or client constructor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A TokenCredential for Azure generic resources and a</span>
<span class="sd">            BlobServiceClient client for an Azure blob storage container.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector instance does not support</span>
<span class="sd">                directly connecting to the indicated resource type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>
        <span class="n">resource_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span>

        <span class="k">assert</span> <span class="n">resource_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">assert</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

        <span class="c1"># Regardless of the resource type, we must authenticate to Azure first</span>
        <span class="c1"># before we can connect to any Azure resource</span>
        <span class="n">credential</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_azure_credential</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_blob_container_resource_id</span><span class="p">(</span>
                <span class="n">resource_id</span>
            <span class="p">)</span>

            <span class="n">containers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_blob_containers</span><span class="p">(</span>
                <span class="n">credential</span><span class="p">,</span>
                <span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="n">container_name</span><span class="p">,</span> <span class="n">storage_account</span> <span class="o">=</span> <span class="n">containers</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>
            <span class="n">account_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">storage_account</span><span class="si">}</span><span class="s2">.blob.core.windows.net/&quot;</span>

            <span class="n">blob_client</span> <span class="o">=</span> <span class="n">BlobServiceClient</span><span class="p">(</span>
                <span class="n">account_url</span><span class="o">=</span><span class="n">account_url</span><span class="p">,</span>
                <span class="n">credential</span><span class="o">=</span><span class="n">credential</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="n">blob_client</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">AZURE_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">credential</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Connecting to </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> resources is not directly &quot;</span>
            <span class="s2">&quot;supported by the Azure connector. Please call the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`get_connector_client` method to get a </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> connector &quot;</span>
            <span class="s2">&quot;instance for the resource.&quot;</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_configure_local_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure a local client to authenticate and connect to a resource.</span>

<span class="sd">        This method uses the connector&#39;s configuration to configure a local</span>
<span class="sd">        client or SDK installed on the localhost for the indicated resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use</span>
<span class="sd">                to configure the client.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector instance does not support</span>
<span class="sd">                local configuration for the configured resource type or</span>
<span class="sd">                authentication method.registry</span>
<span class="sd">            AuthorizationException: If the connector instance does not support</span>
<span class="sd">                local configuration for the configured authentication method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resource_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AZURE_RESOURCE_TYPE</span><span class="p">,</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">]:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">SERVICE_PRINCIPAL</span>
            <span class="p">):</span>
                <span class="c1"># Use the service principal credentials to configure the local</span>
                <span class="c1"># Azure CLI</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">AzureServicePrincipalConfig</span><span class="p">)</span>

                <span class="n">command</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="s2">&quot;az&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;login&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;--service-principal&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;-u&quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">client_id</span><span class="p">),</span>
                    <span class="s2">&quot;-p&quot;</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">client_secret</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(),</span>
                    <span class="s2">&quot;--tenant&quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">),</span>
                <span class="p">]</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Failed to update the local Azure CLI with the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;connector service principal credentials: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                    <span class="s2">&quot;Updated the local Azure CLI configuration with the &quot;</span>
                    <span class="s2">&quot;connector&#39;s service principal credentials.&quot;</span>
                <span class="p">)</span>

                <span class="k">return</span>

            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Local Azure client configuration for resource type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> is only supported if the &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">SERVICE_PRINCIPAL</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;authentication method is used.&quot;</span>
            <span class="p">)</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Configuring the local client for </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> resources is &quot;</span>
            <span class="s2">&quot;not directly supported by the Azure connector. Please call the &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;`get_connector_client` method to get a </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> connector &quot;</span>
            <span class="s2">&quot;instance for the resource.&quot;</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_auto_configure</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">auth_method</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">storage_account</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;AzureServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Auto-configure the connector.</span>

<span class="sd">        Instantiate an Azure connector with a configuration extracted from the</span>
<span class="sd">        authentication configuration available in the environment (e.g.</span>
<span class="sd">        environment variables or local Azure client/SDK configuration files).</span>

<span class="sd">        Args:</span>
<span class="sd">            auth_method: The particular authentication method to use. If not</span>
<span class="sd">                specified, the connector implementation must decide which</span>
<span class="sd">                authentication method to use or raise an exception.</span>
<span class="sd">            resource_type: The type of resource to configure.</span>
<span class="sd">            resource_id: The ID of the resource to configure. The implementation</span>
<span class="sd">                may choose to either require or ignore this parameter if it does</span>
<span class="sd">                not support or detect an resource type that supports multiple</span>
<span class="sd">                instances.</span>
<span class="sd">            resource_group: A resource group may be used to restrict the scope</span>
<span class="sd">                of Azure resources like AKS clusters and ACR repositories. If</span>
<span class="sd">                not specified, ZenML will retrieve resources from all resource</span>
<span class="sd">                groups accessible with the discovered credentials.</span>
<span class="sd">            storage_account: The name of an Azure storage account may be used to</span>
<span class="sd">                restrict the scope of Azure Blob storage containers. If not</span>
<span class="sd">                specified, ZenML will retrieve blob containers from all storage</span>
<span class="sd">                accounts accessible with the discovered credentials.</span>
<span class="sd">            kwargs: Additional implementation specific keyword arguments to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An Azure connector instance configured with authentication</span>
<span class="sd">            credentials automatically extracted from the environment.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If the connector implementation does not</span>
<span class="sd">                support auto-configuration for the specified authentication</span>
<span class="sd">                method.</span>
<span class="sd">            AuthorizationException: If no Azure credentials can be loaded from</span>
<span class="sd">                the environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">auth_config</span><span class="p">:</span> <span class="n">AzureBaseConfig</span>
        <span class="n">expiration_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">expires_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">auth_method</span> <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">IMPLICIT</span><span class="p">:</span>
            <span class="n">auth_config</span> <span class="o">=</span> <span class="n">AzureBaseConfig</span><span class="p">(</span>
                <span class="n">resource_group</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
                <span class="n">storage_account</span><span class="o">=</span><span class="n">storage_account</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Initialize an Azure credential with the default configuration</span>
            <span class="c1"># loaded from the environment.</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">credential</span> <span class="o">=</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Failed to authenticate to Azure using implicit &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;authentication. Please check your local Azure CLI &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;configuration: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="p">(</span>
                <span class="n">auth_method</span>
                <span class="ow">and</span> <span class="n">auth_method</span> <span class="o">!=</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span>
            <span class="p">):</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The specified authentication method &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="s2">&quot;could not be used to auto-configure the connector. &quot;</span>
                <span class="p">)</span>
            <span class="n">auth_method</span> <span class="o">=</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span>

            <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Auto-configuration for </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> resources is not &quot;</span>
                    <span class="s2">&quot;supported by the Azure connector.&quot;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">credential</span><span class="o">.</span><span class="n">get_token</span><span class="p">(</span>
                    <span class="n">AZURE_MANAGEMENT_TOKEN_SCOPE</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="c1"># Convert the expiration timestamp from Unix time to datetime</span>
            <span class="c1"># format.</span>
            <span class="n">expires_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
            <span class="c1"># Convert the expiration timestamp from local time to UTC time.</span>
            <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>

            <span class="n">auth_config</span> <span class="o">=</span> <span class="n">AzureAccessTokenConfig</span><span class="p">(</span>
                <span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">token</span><span class="p">,</span>
                <span class="n">resource_group</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
                <span class="n">storage_account</span><span class="o">=</span><span class="n">storage_account</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span>
            <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AZURE_RESOURCE_TYPE</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
            <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">expiration_seconds</span><span class="o">=</span><span class="n">expiration_seconds</span><span class="p">,</span>
            <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">auth_config</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_resource_group</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the resource group of an Azure resource.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_id: The ID of the Azure resource.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The resource group of the Azure resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># The resource group is the fourth component of the resource ID.</span>
        <span class="k">return</span> <span class="n">resource_id</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">4</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_list_blob_containers</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">credential</span><span class="p">:</span> <span class="n">TokenCredential</span><span class="p">,</span> <span class="n">container_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the list of blob storage containers that the connector can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            credential: The Azure credential to use to access the blob storage</span>
<span class="sd">                containers.</span>
<span class="sd">            container_name: The name of the blob container to get. If omitted,</span>
<span class="sd">                all accessible blob containers are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of blob storage containers that the connector can access</span>
<span class="sd">            as a dictionary mapping container names to their corresponding</span>
<span class="sd">            storage account names. If the `container_name` argument was</span>
<span class="sd">            specified, the dictionary will contain a single entry.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector does not have access to</span>
<span class="sd">                access the target blob storage containers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subscription_id</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>
        <span class="c1"># Azure blob storage containers are scoped to a storage account. We</span>
        <span class="c1"># need to figure out which storage accounts the connector can access</span>
        <span class="c1"># and then list the containers in each of them. If a container name</span>
        <span class="c1"># is provided, we only need to find the storage account that contains</span>
        <span class="c1"># it.</span>

        <span class="n">storage_accounts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">storage_account</span><span class="p">:</span>
            <span class="n">storage_accounts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">storage_account</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">storage_client</span> <span class="o">=</span> <span class="n">StorageManagementClient</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                <span class="p">)</span>
                <span class="n">accounts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">storage_client</span><span class="o">.</span><span class="n">storage_accounts</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to list available Azure storage accounts. Please &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;check that the credentials have permissions to list &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;storage accounts or consider configuring a storage &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;account in the connector: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">accounts</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;no storage accounts were found. Please check that the &quot;</span>
                    <span class="s2">&quot;credentials have permissions to access one or more &quot;</span>
                    <span class="s2">&quot;storage accounts.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
                <span class="c1"># Keep only the storage accounts in the specified resource</span>
                <span class="c1"># group.</span>
                <span class="n">accounts</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">account</span>
                    <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">accounts</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource_group</span><span class="p">(</span><span class="n">account</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
                <span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">accounts</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;no storage accounts were found in the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource group &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;specified in the connector configuration. Please &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;check that resource group contains one or more &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;storage accounts and that the connector credentials &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;have permissions to access them.&quot;</span>
                    <span class="p">)</span>

            <span class="n">storage_accounts</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">account</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">account</span> <span class="ow">in</span> <span class="n">accounts</span> <span class="k">if</span> <span class="n">account</span><span class="o">.</span><span class="n">name</span>
            <span class="p">]</span>

        <span class="n">containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">storage_account</span> <span class="ow">in</span> <span class="n">storage_accounts</span><span class="p">:</span>
            <span class="n">account_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://</span><span class="si">{</span><span class="n">storage_account</span><span class="si">}</span><span class="s2">.blob.core.windows.net/&quot;</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">blob_client</span> <span class="o">=</span> <span class="n">BlobServiceClient</span><span class="p">(</span>
                    <span class="n">account_url</span><span class="p">,</span> <span class="n">credential</span><span class="o">=</span><span class="n">credential</span>
                <span class="p">)</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">blob_client</span><span class="o">.</span><span class="n">list_containers</span><span class="p">()</span>
                <span class="n">account_containers</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">container</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">response</span> <span class="k">if</span> <span class="n">container</span><span class="o">.</span><span class="n">name</span>
                <span class="p">]</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to fetch Azure blob storage containers in the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">storage_account</span><span class="si">}</span><span class="s2">&#39; storage account. Please check that &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;the credentials have permissions to list containers in &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;that storage account: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="n">container_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">container_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">account_containers</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">containers</span> <span class="o">=</span> <span class="p">{</span><span class="n">container_name</span><span class="p">:</span> <span class="n">storage_account</span><span class="p">}</span>
                <span class="k">break</span>

            <span class="n">containers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="n">container</span><span class="p">:</span> <span class="n">storage_account</span>
                    <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">account_containers</span>
                <span class="p">}</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">containers</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">container_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">storage_account</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">container_name</span><span class="si">}</span><span class="s2">&#39; container was not found in &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">storage_account</span><span class="si">}</span><span class="s2">&#39; storage &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;account. Please check that container exists and the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;credentials have permissions to access that &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;container.&quot;</span>
                    <span class="p">)</span>

                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">container_name</span><span class="si">}</span><span class="s2">&#39; container was not found in any &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;of the storage accounts accessible to the connector. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Please check that container exists and the credentials &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;have permissions to access the storage account it &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;belongs to.&quot;</span>
                <span class="p">)</span>

            <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                <span class="s2">&quot;no Azure blob storage containers were found in any of the &quot;</span>
                <span class="s2">&quot;storage accounts accessible to the connector. Please check &quot;</span>
                <span class="s2">&quot;that the credentials have permissions to access one or more &quot;</span>
                <span class="s2">&quot;storage accounts.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">containers</span>

    <span class="k">def</span> <span class="nf">_list_acr_registries</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">credential</span><span class="p">:</span> <span class="n">TokenCredential</span><span class="p">,</span> <span class="n">registry_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the list of ACR registries that the connector can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            credential: The Azure credential to use.</span>
<span class="sd">            registry_name: The name of the registry to get. If omitted,</span>
<span class="sd">                all accessible registries are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of ACR registries that the connector can access as a</span>
<span class="sd">            dictionary mapping registry names to their corresponding</span>
<span class="sd">            resource group names. If the `registry_name` argument was</span>
<span class="sd">            specified, the dictionary will contain a single entry.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector does not have access to</span>
<span class="sd">                access the target ACR registries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subscription_id</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>

        <span class="n">container_registries</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">registry_name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">container_client</span> <span class="o">=</span> <span class="n">ContainerRegistryManagementClient</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                <span class="p">)</span>
                <span class="n">registry</span> <span class="o">=</span> <span class="n">container_client</span><span class="o">.</span><span class="n">registries</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
                    <span class="n">registry_name</span><span class="o">=</span><span class="n">registry_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">registry</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                    <span class="n">container_registries</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="n">registry</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
                    <span class="p">}</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to fetch the Azure container registry &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">&#39; in the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;resource group specified in the connector configuration. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Please check that the registry exists in that resource &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;group and that the connector credentials have &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;permissions to access that registry: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">container_client</span> <span class="o">=</span> <span class="n">ContainerRegistryManagementClient</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                <span class="p">)</span>
                <span class="n">registries</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">container_client</span><span class="o">.</span><span class="n">registries</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;failed to list available Azure container registries. &quot;</span>
                    <span class="s2">&quot;Please check that the credentials have permissions to &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;list container registries: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">registries</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;no container registries were found. Please check that the &quot;</span>
                    <span class="s2">&quot;credentials have permissions to access one or more &quot;</span>
                    <span class="s2">&quot;container registries.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
                <span class="c1"># Keep only the registries in the specified resource</span>
                <span class="c1"># group.</span>
                <span class="n">registries</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">registry</span>
                    <span class="k">for</span> <span class="n">registry</span> <span class="ow">in</span> <span class="n">registries</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource_group</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
                <span class="p">]</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">registries</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;no container registries were found in the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource group &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;specified in the connector configuration. Please &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;check that resource group contains one or more &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;container registries and that the connector &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;credentials have permissions to access them.&quot;</span>
                    <span class="p">)</span>

            <span class="n">container_registries</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">registry</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource_group</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">registry</span> <span class="ow">in</span> <span class="n">registries</span>
                <span class="k">if</span> <span class="n">registry</span><span class="o">.</span><span class="n">name</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">registry_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">registry_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">container_registries</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">&#39; registry was not found in &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;group specified in the connector configuration. &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;Please check that registry exists in that &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;resource group and that the connector &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;credentials have permissions to access that &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;registry.&quot;</span>
                        <span class="p">)</span>

                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">&#39; registry was not found or is &quot;</span>
                        <span class="s2">&quot;not accessible. Please check that registry exists and &quot;</span>
                        <span class="s2">&quot;the credentials have permissions to access it.&quot;</span>
                    <span class="p">)</span>

                <span class="n">container_registries</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">registry_name</span><span class="p">:</span> <span class="n">container_registries</span><span class="p">[</span><span class="n">registry_name</span><span class="p">]</span>
                <span class="p">}</span>

        <span class="k">return</span> <span class="n">container_registries</span>

    <span class="k">def</span> <span class="nf">_list_aks_clusters</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">credential</span><span class="p">:</span> <span class="n">TokenCredential</span><span class="p">,</span>
        <span class="n">cluster_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the list of AKS clusters that the connector can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            credential: The Azure credential to use.</span>
<span class="sd">            cluster_name: The name of the cluster to get. If omitted,</span>
<span class="sd">                all accessible clusters are returned.</span>
<span class="sd">            resource_group: The name of the resource group to which the</span>
<span class="sd">                search should be limited. If omitted, all accessible</span>
<span class="sd">                clusters are returned.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of AKS clusters that the connector can access as a</span>
<span class="sd">            list of cluster names and their corresponding resource group names.</span>
<span class="sd">            If the `cluster_name` argument was specified, the dictionary will</span>
<span class="sd">            contain a single entry.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector does not have access to</span>
<span class="sd">                access the target AKS clusters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">subscription_id</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>

        <span class="n">clusters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">cluster_name</span> <span class="ow">and</span> <span class="n">resource_group</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">container_client</span> <span class="o">=</span> <span class="n">ContainerServiceClient</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                <span class="p">)</span>
                <span class="n">cluster</span> <span class="o">=</span> <span class="n">container_client</span><span class="o">.</span><span class="n">managed_clusters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">resource_group_name</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
                    <span class="n">resource_name</span><span class="o">=</span><span class="n">cluster_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                    <span class="n">clusters</span> <span class="o">=</span> <span class="p">[(</span><span class="n">cluster</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">resource_group</span><span class="p">)]</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to fetch the Azure AKS cluster &#39;</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;in the &#39;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource group. Please check &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;that the cluster exists in that resource group and that &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;the connector credentials have permissions to access &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;that cluster: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">container_client</span> <span class="o">=</span> <span class="n">ContainerServiceClient</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                <span class="p">)</span>
                <span class="n">aks_clusters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">container_client</span><span class="o">.</span><span class="n">managed_clusters</span><span class="o">.</span><span class="n">list</span><span class="p">())</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to list available Azure AKS clusters. Please &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;check that the credentials have permissions to list &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;AKS clusters: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">aks_clusters</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="s2">&quot;no AKS clusters were found. Please check that the &quot;</span>
                    <span class="s2">&quot;credentials have permissions to access one or more &quot;</span>
                    <span class="s2">&quot;AKS clusters.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
                <span class="c1"># Keep only the clusters in the specified resource</span>
                <span class="c1"># group.</span>
                <span class="n">aks_clusters</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">cluster</span>
                    <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">aks_clusters</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource_group</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
                    <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
                <span class="p">]</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">aks_clusters</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;no AKS clusters were found in the &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource group &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;specified in the connector configuration. Please &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;check that resource group contains one or more &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;AKS clusters and that the connector credentials &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;have permissions to access them.&quot;</span>
                    <span class="p">)</span>

            <span class="n">clusters</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_resource_group</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">aks_clusters</span>
                <span class="k">if</span> <span class="n">cluster</span><span class="o">.</span><span class="n">name</span>
                <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">cluster_name</span> <span class="ow">or</span> <span class="n">cluster</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">cluster_name</span><span class="p">)</span>
            <span class="p">]</span>

            <span class="k">if</span> <span class="n">cluster_name</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">clusters</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&#39; AKS cluster was not found &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;in the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39; resource &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;group specified in the connector configuration. &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;Please check that cluster exists in that &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;resource group and that the connector &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;credentials have permissions to access that &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;cluster.&quot;</span>
                        <span class="p">)</span>

                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&#39; AKS cluster was not found or &quot;</span>
                        <span class="s2">&quot;is not accessible. Please check that cluster exists &quot;</span>
                        <span class="s2">&quot;and the credentials have permissions to access it.&quot;</span>
                    <span class="p">)</span>

                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">resource_groups</span> <span class="o">=</span> <span class="p">[</span><span class="n">cluster</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">]</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&#39; AKS cluster was found in &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;multiple resource groups: &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resource_groups</span><span class="p">)</span><span class="si">}</span><span class="s2">. &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Please specify a resource group in the connector &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configuration or include the resource group in the &quot;</span>
                        <span class="s2">&quot;resource name to disambiguate.&quot;</span>
                    <span class="p">)</span>

        <span class="k">return</span> <span class="n">clusters</span>

    <span class="k">def</span> <span class="nf">_verify</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verify and list all the resources that the connector can access.</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resource to verify. If omitted and</span>
<span class="sd">                if the connector supports multiple resource types, the</span>
<span class="sd">                implementation must verify that it can authenticate and connect</span>
<span class="sd">                to any and all of the supported resource types.</span>
<span class="sd">            resource_id: The ID of the resource to connect to. Omitted if a</span>
<span class="sd">                resource type is not specified. It has the same value as the</span>
<span class="sd">                default resource ID if the supplied resource type doesn&#39;t</span>
<span class="sd">                support multiple instances. If the supplied resource type does</span>
<span class="sd">                allows multiple instances, this parameter may still be omitted</span>
<span class="sd">                to fetch a list of resource IDs identifying all the resources</span>
<span class="sd">                of the indicated type that the connector can access.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The list of resources IDs in canonical format identifying the</span>
<span class="sd">            resources that the connector can access. This list is empty only</span>
<span class="sd">            if the resource type is not specified (i.e. for multi-type</span>
<span class="sd">            connectors).</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If the connector cannot authenticate or</span>
<span class="sd">                access the specified resource.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If the resource type is not specified, treat this the</span>
        <span class="c1"># same as a generic Azure connector.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">resource_type</span><span class="p">:</span>
            <span class="c1"># fetch the Azure subscription and tenant IDs to verify the</span>
            <span class="c1"># credentials globally</span>
            <span class="n">subscription_id</span><span class="p">,</span> <span class="n">subscription_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">AZURE_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">resource_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">resource_id</span><span class="p">]</span>

        <span class="n">credential</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_azure_credential</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span> <span class="ow">or</span> <span class="n">AZURE_RESOURCE_TYPE</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span> <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">ACCESS_TOKEN</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;the &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39; authentication method is not &quot;</span>
                    <span class="s2">&quot;supported for blob storage resources&quot;</span>
                <span class="p">)</span>

            <span class="n">container_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="n">container_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_blob_container_resource_id</span><span class="p">(</span>
                    <span class="n">resource_id</span>
                <span class="p">)</span>

            <span class="n">containers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_blob_containers</span><span class="p">(</span>
                <span class="n">credential</span><span class="p">,</span>
                <span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;az://</span><span class="si">{</span><span class="n">container</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">containers</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">DOCKER_REGISTRY_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">registry_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="n">registry_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_acr_resource_id</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span>

            <span class="n">registries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_acr_registries</span><span class="p">(</span>
                <span class="n">credential</span><span class="p">,</span>
                <span class="n">registry_name</span><span class="o">=</span><span class="n">registry_name</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry</span><span class="si">}</span><span class="s2">.azurecr.io&quot;</span> <span class="k">for</span> <span class="n">registry</span> <span class="ow">in</span> <span class="n">registries</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">KUBERNETES_CLUSTER_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">cluster_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">resource_group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span>
            <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
                <span class="n">resource_group</span><span class="p">,</span> <span class="n">cluster_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_aks_resource_id</span><span class="p">(</span>
                    <span class="n">resource_id</span>
                <span class="p">)</span>

            <span class="n">clusters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_aks_clusters</span><span class="p">(</span>
                <span class="n">credential</span><span class="p">,</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="n">cluster_name</span><span class="p">,</span>
                <span class="n">resource_group</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="p">)</span>

            <span class="k">return</span> <span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">for</span> <span class="n">cluster_name</span><span class="p">,</span> <span class="n">resource_group</span> <span class="ow">in</span> <span class="n">clusters</span>
            <span class="p">]</span>

        <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_get_connector_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">resource_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">resource_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ServiceConnector&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a connector instance that can be used to connect to a resource.</span>

<span class="sd">        This method generates a client-side connector instance that can be used</span>
<span class="sd">        to connect to a resource of the given type. The client-side connector</span>
<span class="sd">        is configured with temporary Azure credentials extracted from the</span>
<span class="sd">        current connector and, depending on resource type, it may also be</span>
<span class="sd">        of a different connector type:</span>

<span class="sd">        - a Kubernetes connector for Kubernetes clusters</span>
<span class="sd">        - a Docker connector for Docker registries</span>

<span class="sd">        Args:</span>
<span class="sd">            resource_type: The type of the resources to connect to.</span>
<span class="sd">            resource_id: The ID of a particular resource to connect to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            An Azure, Kubernetes or Docker connector instance that can be used to</span>
<span class="sd">            connect to the specified resource.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AuthorizationException: If authentication failed.</span>
<span class="sd">            ValueError: If the resource type is not supported.</span>
<span class="sd">            RuntimeError: If the Kubernetes connector is not installed and the</span>
<span class="sd">                resource type is Kubernetes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">connector_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">connector_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="k">if</span> <span class="n">resource_id</span><span class="p">:</span>
            <span class="n">connector_name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2"> client)&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">connector_name</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2"> client)&quot;</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Getting connector client for </span><span class="si">{</span><span class="n">connector_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="ow">in</span> <span class="p">[</span><span class="n">AZURE_RESOURCE_TYPE</span><span class="p">,</span> <span class="n">BLOB_RESOURCE_TYPE</span><span class="p">]:</span>
            <span class="n">auth_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_type</span> <span class="o">==</span> <span class="n">resource_type</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">resource_id</span> <span class="o">==</span> <span class="n">resource_id</span>
            <span class="p">):</span>
                <span class="c1"># If the requested type and resource ID are the same as</span>
                <span class="c1"># those configured, we can return the current connector</span>
                <span class="c1"># instance because it&#39;s fully formed and ready to use</span>
                <span class="c1"># to connect to the specified resource</span>
                <span class="k">return</span> <span class="bp">self</span>

            <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span>
            <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span>

            <span class="c1"># Create a client-side Azure connector instance that is fully formed</span>
            <span class="c1"># and ready to use to connect to the specified resource (i.e. has</span>
            <span class="c1"># all the necessary configuration and credentials, a resource type</span>
            <span class="c1"># and a resource ID where applicable)</span>
            <span class="k">return</span> <span class="n">AzureServiceConnector</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">connector_name</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">auth_method</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
                <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">subscription_id</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscription</span>
        <span class="n">credential</span><span class="p">,</span> <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_azure_credential</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span><span class="p">,</span>
            <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
            <span class="n">resource_id</span><span class="o">=</span><span class="n">resource_id</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">resource_group</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">DOCKER_REGISTRY_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">registry_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_acr_resource_id</span><span class="p">(</span><span class="n">resource_id</span><span class="p">)</span>

            <span class="c1"># If a service principal is used for authentication, the client ID</span>
            <span class="c1"># and client secret can be used to authenticate to the registry, if</span>
            <span class="c1"># configured.</span>
            <span class="c1"># https://learn.microsoft.com/en-us/azure/container-registry/container-registry-auth-service-principal#authenticate-with-the-service-principal</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">auth_method</span>
                <span class="o">==</span> <span class="n">AzureAuthenticationMethods</span><span class="o">.</span><span class="n">SERVICE_PRINCIPAL</span>
            <span class="p">):</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">AzureServicePrincipalConfig</span><span class="p">)</span>
                <span class="n">username</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">client_id</span><span class="p">)</span>
                <span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">client_secret</span>

            <span class="c1"># Without a service principal, this only works if the admin account</span>
            <span class="c1"># is enabled for the registry, but this is not recommended and</span>
            <span class="c1"># disabled by default.</span>
            <span class="c1"># https://docs.microsoft.com/en-us/azure/container-registry/container-registry-authentication#admin-account</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">registries</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_acr_registries</span><span class="p">(</span>
                    <span class="n">credential</span><span class="p">,</span>
                    <span class="n">registry_name</span><span class="o">=</span><span class="n">registry_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">registry_name</span><span class="p">,</span> <span class="n">resource_group</span> <span class="o">=</span> <span class="n">registries</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">client</span> <span class="o">=</span> <span class="n">ContainerRegistryManagementClient</span><span class="p">(</span>
                        <span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span>
                    <span class="p">)</span>

                    <span class="n">registry_credentials</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">registries</span><span class="o">.</span><span class="n">list_credentials</span><span class="p">(</span>
                        <span class="n">resource_group</span><span class="p">,</span> <span class="n">registry_name</span>
                    <span class="p">)</span>
                    <span class="n">username</span> <span class="o">=</span> <span class="n">registry_credentials</span><span class="o">.</span><span class="n">username</span>
                    <span class="n">password</span> <span class="o">=</span> <span class="n">registry_credentials</span><span class="o">.</span><span class="n">passwords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
                <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;failed to list admin credentials for Azure Container &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;Registry &#39;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">&#39; in resource group &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39;. Make sure the registry is &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;configured with an admin account: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="c1"># Create a client-side Docker connector instance with the temporary</span>
            <span class="c1"># Docker credentials</span>
            <span class="k">return</span> <span class="n">DockerServiceConnector</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">connector_name</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">DockerAuthenticationMethods</span><span class="o">.</span><span class="n">PASSWORD</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">DockerConfiguration</span><span class="p">(</span>
                    <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span>
                    <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
                    <span class="n">registry</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">registry_name</span><span class="si">}</span><span class="s2">.azurecr.io&quot;</span><span class="p">,</span>
                <span class="p">),</span>
                <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">resource_type</span> <span class="o">==</span> <span class="n">KUBERNETES_CLUSTER_RESOURCE_TYPE</span><span class="p">:</span>
            <span class="n">resource_group</span><span class="p">,</span> <span class="n">cluster_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_aks_resource_id</span><span class="p">(</span>
                <span class="n">resource_id</span>
            <span class="p">)</span>
            <span class="n">clusters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_aks_clusters</span><span class="p">(</span>
                <span class="n">credential</span><span class="p">,</span>
                <span class="n">cluster_name</span><span class="o">=</span><span class="n">cluster_name</span><span class="p">,</span>
                <span class="n">resource_group</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">cluster_name</span><span class="p">,</span> <span class="n">resource_group</span> <span class="o">=</span> <span class="n">clusters</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="n">client</span> <span class="o">=</span> <span class="n">ContainerServiceClient</span><span class="p">(</span><span class="n">credential</span><span class="p">,</span> <span class="n">subscription_id</span><span class="p">)</span>

                <span class="n">creds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">managed_clusters</span><span class="o">.</span><span class="n">list_cluster_admin_credentials</span><span class="p">(</span>
                    <span class="n">resource_group_name</span><span class="o">=</span><span class="n">resource_group</span><span class="p">,</span>
                    <span class="n">resource_name</span><span class="o">=</span><span class="n">cluster_name</span><span class="p">,</span>
                <span class="p">)</span>

                <span class="n">kubeconfig_yaml</span> <span class="o">=</span> <span class="n">creds</span><span class="o">.</span><span class="n">kubeconfigs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span>
                    <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;UTF-8&quot;</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">AzureError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AuthorizationException</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;failed to list credentials for Azure Kubernetes &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Service cluster &#39;</span><span class="si">{</span><span class="n">cluster_name</span><span class="si">}</span><span class="s2">&#39; in resource group &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_group</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>

            <span class="n">kubeconfig</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">kubeconfig_yaml</span><span class="p">)</span>

            <span class="c1"># Create a client-side Kubernetes connector instance with the</span>
            <span class="c1"># Kubernetes credentials</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Import libraries only when needed</span>
                <span class="kn">from</span> <span class="nn">zenml.integrations.kubernetes.service_connectors.kubernetes_service_connector</span> <span class="kn">import</span> <span class="p">(</span>
                    <span class="n">KubernetesAuthenticationMethods</span><span class="p">,</span>
                    <span class="n">KubernetesServiceConnector</span><span class="p">,</span>
                    <span class="n">KubernetesTokenConfig</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The Kubernetes Service Connector functionality could not &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;be used due to missing dependencies: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">cluster_name</span> <span class="o">=</span> <span class="n">kubeconfig</span><span class="p">[</span><span class="s2">&quot;clusters&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">cluster</span> <span class="o">=</span> <span class="n">kubeconfig</span><span class="p">[</span><span class="s2">&quot;clusters&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;cluster&quot;</span><span class="p">]</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">kubeconfig</span><span class="p">[</span><span class="s2">&quot;users&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">KubernetesServiceConnector</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">connector_name</span><span class="p">,</span>
                <span class="n">auth_method</span><span class="o">=</span><span class="n">KubernetesAuthenticationMethods</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">,</span>
                <span class="n">resource_type</span><span class="o">=</span><span class="n">resource_type</span><span class="p">,</span>
                <span class="n">config</span><span class="o">=</span><span class="n">KubernetesTokenConfig</span><span class="p">(</span>
                    <span class="n">cluster_name</span><span class="o">=</span><span class="n">cluster_name</span><span class="p">,</span>
                    <span class="n">certificate_authority</span><span class="o">=</span><span class="n">cluster</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="s2">&quot;certificate-authority-data&quot;</span>
                    <span class="p">),</span>
                    <span class="n">server</span><span class="o">=</span><span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;server&quot;</span><span class="p">],</span>
                    <span class="n">token</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s2">&quot;token&quot;</span><span class="p">],</span>
                    <span class="n">client_certificate</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;client-certificate-data&quot;</span><span class="p">),</span>
                    <span class="n">client_key</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;client-key-data&quot;</span><span class="p">),</span>
                <span class="p">),</span>
                <span class="n">expires_at</span><span class="o">=</span><span class="n">expires_at</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported resource type: </span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">





















  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.subscription" class="doc doc-heading">
<code class="highlight language-python"><span class="n">subscription</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the Azure subscription ID and name.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[str, str]</code></td>
      <td><p>The Azure subscription ID and name.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the Azure subscription could not be
determined or doesn't match the configured subscription ID.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.tenant_id" class="doc doc-heading">
<code class="highlight language-python"><span class="n">tenant_id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Get the Azure tenant ID.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The Azure tenant ID.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>AuthorizationException</code></td>
        <td><p>If the Azure tenant ID could not be
determined or doesn't match the configured tenant ID.</p></td>
      </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.get_azure_credential" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_azure_credential</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_method</span><span class="p">,</span> <span class="n">resource_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resource_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get an Azure credential for the specified resource.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>auth_method</code></td>
        <td><code>str</code></td>
        <td><p>The authentication method to use.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resource_type</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The resource type to get a credential for.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>resource_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>The resource ID to get a credential for.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[azure.core.credentials.TokenCredential, Optional[datetime.datetime]]</code></td>
      <td><p>An Azure credential for the specified resource and its expiration
timestamp, if applicable.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_azure_credential</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">auth_method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">resource_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">TokenCredential</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get an Azure credential for the specified resource.</span>

<span class="sd">    Args:</span>
<span class="sd">        auth_method: The authentication method to use.</span>
<span class="sd">        resource_type: The resource type to get a credential for.</span>
<span class="sd">        resource_id: The resource ID to get a credential for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        An Azure credential for the specified resource and its expiration</span>
<span class="sd">        timestamp, if applicable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># We maintain a cache of all sessions to avoid re-authenticating</span>
    <span class="c1"># multiple times for the same resource</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">auth_method</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">:</span>
        <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">expires_at</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="kc">None</span>

        <span class="c1"># Refresh expired sessions</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>

        <span class="c1"># check if the token expires in the near future</span>
        <span class="k">if</span> <span class="n">expires_at</span> <span class="o">&gt;</span> <span class="n">now</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span>
            <span class="n">minutes</span><span class="o">=</span><span class="n">AZURE_SESSION_EXPIRATION_BUFFER</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Creating Azure credential for auth method &#39;</span><span class="si">{</span><span class="n">auth_method</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;resource type &#39;</span><span class="si">{</span><span class="n">resource_type</span><span class="si">}</span><span class="s2">&#39; and resource ID &quot;</span>
        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">resource_id</span><span class="si">}</span><span class="s2">&#39;...&quot;</span>
    <span class="p">)</span>
    <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate</span><span class="p">(</span>
        <span class="n">auth_method</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_session_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">session</span><span class="p">,</span> <span class="n">expires_at</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServiceConnector.model_post_init" class="doc doc-heading">
<code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="o">/</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>This function is meant to behave like a BaseModel method to initialise private attributes.</p>
<p>It takes context as an argument since that's what pydantic-core passes when calling it.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>self</code></td>
        <td><code>BaseModel</code></td>
        <td><p>The BaseModel instance.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>context</code></td>
        <td><code>Any</code></td>
        <td><p>The context.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">init_private_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">/</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function is meant to behave like a BaseModel method to initialise private attributes.</span>

<span class="sd">    It takes context as an argument since that&#39;s what pydantic-core passes when calling it.</span>

<span class="sd">    Args:</span>
<span class="sd">        self: The BaseModel instance.</span>
<span class="sd">        context: The context.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">pydantic_private</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">private_attr</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__private_attributes__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">default</span> <span class="o">=</span> <span class="n">private_attr</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">PydanticUndefined</span><span class="p">:</span>
                <span class="n">pydantic_private</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">default</span>
        <span class="n">object_setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;__pydantic_private__&#39;</span><span class="p">,</span> <span class="n">pydantic_private</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.AzureServicePrincipalConfig" class="doc doc-heading">
        <code>
AzureServicePrincipalConfig            (<a class="autorefs autorefs-internal" title="zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientConfig" href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientConfig">AzureClientConfig</a>, <a class="autorefs autorefs-internal" title="zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientSecret" href="#zenml.integrations.azure.service_connectors.azure_service_connector.AzureClientSecret">AzureClientSecret</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Azure service principal configuration.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureServicePrincipalConfig</span><span class="p">(</span><span class="n">AzureClientConfig</span><span class="p">,</span> <span class="n">AzureClientSecret</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Azure service principal configuration.&quot;&quot;&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">


























  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential" class="doc doc-heading">
        <code>
ZenMLAzureTokenCredential            (<span title="azure.core.credentials.TokenCredential">TokenCredential</span>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>ZenML Azure token credential.</p>
<p>This class is used to provide a pre-configured token credential to Azure
clients. Tokens are generated from other Azure credentials and are served
to Azure clients to authenticate requests.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ZenMLAzureTokenCredential</span><span class="p">(</span><span class="n">TokenCredential</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;ZenML Azure token credential.</span>

<span class="sd">    This class is used to provide a pre-configured token credential to Azure</span>
<span class="sd">    clients. Tokens are generated from other Azure credentials and are served</span>
<span class="sd">    to Azure clients to authenticate requests.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ZenML Azure token credential.</span>

<span class="sd">        Args:</span>
<span class="sd">            token: The token to use for authentication</span>
<span class="sd">            expires_at: The expiration time of the token</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>

        <span class="c1"># Convert the expiration time from UTC to local time</span>
        <span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
        <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span><span class="o">.</span><span class="n">tzinfo</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">expires_on</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get token.</span>

<span class="sd">        Args:</span>
<span class="sd">            *scopes: Scopes</span>
<span class="sd">            **kwargs: Keyword arguments</span>

<span class="sd">        Returns:</span>
<span class="sd">            Token</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">expires_on</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">expires_at</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Initialize ZenML Azure token credential.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>token</code></td>
        <td><code>str</code></td>
        <td><p>The token to use for authentication</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expires_at</code></td>
        <td><code>datetime</code></td>
        <td><p>The expiration time of the token</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize ZenML Azure token credential.</span>

<span class="sd">    Args:</span>
<span class="sd">        token: The token to use for authentication</span>
<span class="sd">        expires_at: The expiration time of the token</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="n">token</span>

    <span class="c1"># Convert the expiration time from UTC to local time</span>
    <span class="n">expires_at</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span>
        <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span><span class="o">.</span><span class="n">tzinfo</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">expires_on</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">expires_at</span><span class="o">.</span><span class="n">timestamp</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.service_connectors.azure_service_connector.ZenMLAzureTokenCredential.get_token" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Get token.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*scopes</code></td>
        <td><code>str</code></td>
        <td><p>Scopes</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Keyword arguments</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>Token</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/service_connectors/azure_service_connector.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">scopes</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get token.</span>

<span class="sd">    Args:</span>
<span class="sd">        *scopes: Scopes</span>
<span class="sd">        **kwargs: Keyword arguments</span>

<span class="sd">    Returns:</span>
<span class="sd">        Token</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">AccessToken</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">token</span><span class="p">,</span> <span class="n">expires_on</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">expires_on</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h3 id="zenml.integrations.azure.step_operators" class="doc doc-heading">
        <code>step_operators</code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Initialization of AzureML Step Operator integration.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h4 id="zenml.integrations.azure.step_operators.azureml_step_operator" class="doc doc-heading">
        <code>azureml_step_operator</code>



</h4>

    <div class="doc doc-contents ">

      <p>Implementation of the ZenML AzureML Step Operator.</p>



  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h5 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator" class="doc doc-heading">
        <code>
AzureMLStepOperator            (<a class="autorefs autorefs-internal" title="zenml.step_operators.base_step_operator.BaseStepOperator" href="../../core_code_docs/core-step_operators/#zenml.step_operators.base_step_operator.BaseStepOperator">BaseStepOperator</a>)
        </code>



</h5>

    <div class="doc doc-contents ">

      <p>Step operator to run a step on AzureML.</p>
<p>This class defines code that can set up an AzureML environment and run the
ZenML entrypoint command in it.</p>

        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/step_operators/azureml_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AzureMLStepOperator</span><span class="p">(</span><span class="n">BaseStepOperator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Step operator to run a step on AzureML.</span>

<span class="sd">    This class defines code that can set up an AzureML environment and run the</span>
<span class="sd">    ZenML entrypoint command in it.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">config</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AzureMLStepOperatorConfig</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the `AzureMLStepOperatorConfig` config.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">AzureMLStepOperatorConfig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">settings_class</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="s2">&quot;BaseSettings&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Settings class for the AzureML step operator.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The settings class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AzureMLStepOperatorSettings</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">validator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">StackValidator</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Validates the stack.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A validator that checks that the stack contains a remote container</span>
<span class="sd">            registry and a remote artifact store.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_validate_remote_components</span><span class="p">(</span>
            <span class="n">stack</span><span class="p">:</span> <span class="s2">&quot;Stack&quot;</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s2">&quot;The AzureML step operator runs code remotely and &quot;</span>
                    <span class="s2">&quot;needs to write files into the artifact store, but the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;artifact store `</span><span class="si">{</span><span class="n">stack</span><span class="o">.</span><span class="n">artifact_store</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of the &quot;</span>
                    <span class="s2">&quot;active stack is local. Please ensure that your stack &quot;</span>
                    <span class="s2">&quot;contains a remote artifact store when using the AzureML &quot;</span>
                    <span class="s2">&quot;step operator.&quot;</span>
                <span class="p">)</span>

            <span class="n">container_registry</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">container_registry</span>
            <span class="k">assert</span> <span class="n">container_registry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

            <span class="k">if</span> <span class="n">container_registry</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">is_local</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="p">(</span>
                    <span class="s2">&quot;The AzureML step operator runs code remotely and &quot;</span>
                    <span class="s2">&quot;needs to push/pull Docker images, but the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;container registry `</span><span class="si">{</span><span class="n">container_registry</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">` of the &quot;</span>
                    <span class="s2">&quot;active stack is local. Please ensure that your stack &quot;</span>
                    <span class="s2">&quot;contains a remote container registry when using the &quot;</span>
                    <span class="s2">&quot;AzureML step operator.&quot;</span>
                <span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>

        <span class="k">return</span> <span class="n">StackValidator</span><span class="p">(</span>
            <span class="n">required_components</span><span class="o">=</span><span class="p">{</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">CONTAINER_REGISTRY</span><span class="p">,</span>
                <span class="n">StackComponentType</span><span class="o">.</span><span class="n">IMAGE_BUILDER</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">custom_validation_function</span><span class="o">=</span><span class="n">_validate_remote_components</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_credentials</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TokenCredential</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the authentication object for the AzureML environment.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The authentication object for the AzureML environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Authentication</span>
        <span class="k">if</span> <span class="n">connector</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connector</span><span class="p">():</span>
            <span class="n">credentials</span> <span class="o">=</span> <span class="n">connector</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">TokenCredential</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">credentials</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tenant_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">service_principal_id</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">service_principal_password</span>
        <span class="p">):</span>
            <span class="k">return</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
                <span class="n">tenant_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">tenant_id</span><span class="p">,</span>
                <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">service_principal_id</span><span class="p">,</span>
                <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">service_principal_password</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">DefaultAzureCredential</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_docker_builds</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentBase&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BuildConfiguration&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the Docker builds required for the component.</span>

<span class="sd">        Args:</span>
<span class="sd">            deployment: The pipeline deployment for which to get the builds.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The required Docker builds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">builds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="n">build</span> <span class="o">=</span> <span class="n">BuildConfiguration</span><span class="p">(</span>
                    <span class="n">key</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span><span class="p">,</span>
                    <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">builds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">builds</span>

    <span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">info</span><span class="p">:</span> <span class="s2">&quot;StepRunInfo&quot;</span><span class="p">,</span>
        <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Launches a step on AzureML.</span>

<span class="sd">        Args:</span>
<span class="sd">            info: Information about the step run.</span>
<span class="sd">            entrypoint_command: Command that executes the step.</span>
<span class="sd">            environment: Environment variables to set in the step operator</span>
<span class="sd">                environment.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">AzureMLStepOperatorSettings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
        <span class="n">image_name</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_DOCKER_IMAGE_KEY</span><span class="p">)</span>

        <span class="c1"># Client creation</span>
        <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
            <span class="n">credential</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_credentials</span><span class="p">(),</span>
            <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
            <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
            <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace_name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>

        <span class="n">compute_target</span> <span class="o">=</span> <span class="n">create_or_get_compute</span><span class="p">(</span>
            <span class="n">ml_client</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">default_compute_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="n">command_job</span> <span class="o">=</span> <span class="n">command</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entrypoint_command</span><span class="p">),</span>
            <span class="n">environment</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
            <span class="n">environment_variables</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">compute</span><span class="o">=</span><span class="n">compute_target</span><span class="p">,</span>
            <span class="n">experiment_name</span><span class="o">=</span><span class="n">info</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">create_or_update</span><span class="p">(</span><span class="n">command_job</span><span class="p">)</span>

        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AzureML job created with id: </span><span class="si">{</span><span class="n">job</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">config</span><span class="p">:</span> <span class="n">AzureMLStepOperatorConfig</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Returns the <code>AzureMLStepOperatorConfig</code> config.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>AzureMLStepOperatorConfig</code></td>
      <td><p>The configuration.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.settings_class" class="doc doc-heading">
<code class="highlight language-python"><span class="n">settings_class</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseSettings</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Settings class for the AzureML step operator.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[Type[BaseSettings]]</code></td>
      <td><p>The settings class.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.validator" class="doc doc-heading">
<code class="highlight language-python"><span class="n">validator</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">zenml</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">stack_validator</span><span class="o">.</span><span class="n">StackValidator</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h6>

    <div class="doc doc-contents ">

      <p>Validates the stack.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[zenml.stack.stack_validator.StackValidator]</code></td>
      <td><p>A validator that checks that the stack contains a remote container
registry and a remote artifact store.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>






  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.get_docker_builds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_docker_builds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Gets the Docker builds required for the component.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deployment</code></td>
        <td><code>PipelineDeploymentBase</code></td>
        <td><p>The pipeline deployment for which to get the builds.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[BuildConfiguration]</code></td>
      <td><p>The required Docker builds.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/step_operators/azureml_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_docker_builds</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">deployment</span><span class="p">:</span> <span class="s2">&quot;PipelineDeploymentBase&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;BuildConfiguration&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Gets the Docker builds required for the component.</span>

<span class="sd">    Args:</span>
<span class="sd">        deployment: The pipeline deployment for which to get the builds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The required Docker builds.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">builds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">step_name</span><span class="p">,</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">deployment</span><span class="o">.</span><span class="n">step_configurations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">step_operator</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">build</span> <span class="o">=</span> <span class="n">BuildConfiguration</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_DOCKER_IMAGE_KEY</span><span class="p">,</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">step</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">docker_settings</span><span class="p">,</span>
                <span class="n">step_name</span><span class="o">=</span><span class="n">step_name</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">builds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">build</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">builds</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h6 id="zenml.integrations.azure.step_operators.azureml_step_operator.AzureMLStepOperator.launch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">launch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">entrypoint_command</span><span class="p">,</span> <span class="n">environment</span><span class="p">)</span></code>


</h6>

    <div class="doc doc-contents ">

      <p>Launches a step on AzureML.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>info</code></td>
        <td><code>StepRunInfo</code></td>
        <td><p>Information about the step run.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>entrypoint_command</code></td>
        <td><code>List[str]</code></td>
        <td><p>Command that executes the step.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>environment</code></td>
        <td><code>Dict[str, str]</code></td>
        <td><p>Environment variables to set in the step operator
environment.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>zenml/integrations/azure/step_operators/azureml_step_operator.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">launch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">info</span><span class="p">:</span> <span class="s2">&quot;StepRunInfo&quot;</span><span class="p">,</span>
    <span class="n">entrypoint_command</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Launches a step on AzureML.</span>

<span class="sd">    Args:</span>
<span class="sd">        info: Information about the step run.</span>
<span class="sd">        entrypoint_command: Command that executes the step.</span>
<span class="sd">        environment: Environment variables to set in the step operator</span>
<span class="sd">            environment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">AzureMLStepOperatorSettings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_settings</span><span class="p">(</span><span class="n">info</span><span class="p">))</span>
    <span class="n">image_name</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">AZUREML_STEP_OPERATOR_DOCKER_IMAGE_KEY</span><span class="p">)</span>

    <span class="c1"># Client creation</span>
    <span class="n">ml_client</span> <span class="o">=</span> <span class="n">MLClient</span><span class="p">(</span>
        <span class="n">credential</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_credentials</span><span class="p">(),</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">resource_group_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">resource_group</span><span class="p">,</span>
        <span class="n">workspace_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">workspace_name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml-</span><span class="si">{</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>

    <span class="n">compute_target</span> <span class="o">=</span> <span class="n">create_or_get_compute</span><span class="p">(</span>
        <span class="n">ml_client</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">default_compute_name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;zenml_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">command_job</span> <span class="o">=</span> <span class="n">command</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="p">,</span>
        <span class="n">command</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">entrypoint_command</span><span class="p">),</span>
        <span class="n">environment</span><span class="o">=</span><span class="n">env</span><span class="p">,</span>
        <span class="n">environment_variables</span><span class="o">=</span><span class="n">environment</span><span class="p">,</span>
        <span class="n">compute</span><span class="o">=</span><span class="n">compute_target</span><span class="p">,</span>
        <span class="n">experiment_name</span><span class="o">=</span><span class="n">info</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">job</span> <span class="o">=</span> <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">create_or_update</span><span class="p">(</span><span class="n">command_job</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AzureML job created with id: </span><span class="si">{</span><span class="n">job</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ml_client</span><span class="o">.</span><span class="n">jobs</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">run_name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../integrations-aws/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Aws" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Aws
            </div>
          </div>
        </a>
      
      
        
        <a href="../integrations-bentoml/" class="md-footer__link md-footer__link--next" aria-label="Next: Bentoml" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Bentoml
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 ZenML GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  
    
  




<h4>This website uses cookies</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        <label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">Reject</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>